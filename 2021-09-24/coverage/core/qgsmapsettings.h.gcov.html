<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>LCOV - coverage.info.cleaned - core/qgsmapsettings.h</title>
  <link rel="stylesheet" type="text/css" href="../gcov.css">
</head>

<body>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="title">LCOV - code coverage report</td></tr>
    <tr><td class="ruler"><img src="../glass.png" width=3 height=3 alt=""></td></tr>

    <tr>
      <td width="100%">
        <table cellpadding=1 border=0 width="100%">
          <tr>
            <td width="10%" class="headerItem">Current view:</td>
            <td width="35%" class="headerValue"><a href="../index.html">top level</a> - <a href="index.html">core</a> - qgsmapsettings.h<span style="font-size: 80%;"> (source / <a href="qgsmapsettings.h.func-sort-c.html">functions</a>)</span></td>
            <td width="5%"></td>
            <td width="15%"></td>
            <td width="10%" class="headerCovTableHead">Hit</td>
            <td width="10%" class="headerCovTableHead">Total</td>
            <td width="15%" class="headerCovTableHead">Coverage</td>
          </tr>
          <tr>
            <td class="headerItem">Test:</td>
            <td class="headerValue">coverage.info.cleaned</td>
            <td></td>
            <td class="headerItem">Lines:</td>
            <td class="headerCovTableEntry">2</td>
            <td class="headerCovTableEntry">38</td>
            <td class="headerCovTableEntryLo">5.3 %</td>
          </tr>
          <tr>
            <td class="headerItem">Date:</td>
            <td class="headerValue">2021-09-24 09:20:41</td>
            <td></td>
            <td class="headerItem">Functions:</td>
            <td class="headerCovTableEntry">0</td>
            <td class="headerCovTableEntry">0</td>
            <td class="headerCovTableEntryHi">-</td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td class="headerItem">Branches:</td>
            <td class="headerCovTableEntry">0</td>
            <td class="headerCovTableEntry">0</td>
            <td class="headerCovTableEntryHi">-</td>
          </tr>
          <tr><td><img src="../glass.png" width=3 height=3 alt=""></td></tr>
        </table>
      </td>
    </tr>

    <tr><td class="ruler"><img src="../glass.png" width=3 height=3 alt=""></td></tr>
  </table>

  <table cellpadding=0 cellspacing=0 border=0>
    <tr>
      <td><br></td>
    </tr>
    <tr>
      <td>
<pre class="sourceHeading">           Branch data     Line data    Source code</pre>
<pre class="source">
<a name="1"><span class="lineNum">       1 </span>                :            : /***************************************************************************</a>
<a name="2"><span class="lineNum">       2 </span>                :            :   qgsmapsettings.h</a>
<a name="3"><span class="lineNum">       3 </span>                :            :   --------------------------------------</a>
<a name="4"><span class="lineNum">       4 </span>                :            :   Date                 : December 2013</a>
<a name="5"><span class="lineNum">       5 </span>                :            :   Copyright            : (C) 2013 by Martin Dobias</a>
<a name="6"><span class="lineNum">       6 </span>                :            :   Email                : wonder dot sk at gmail dot com</a>
<a name="7"><span class="lineNum">       7 </span>                :            :  ***************************************************************************</a>
<a name="8"><span class="lineNum">       8 </span>                :            :  *                                                                         *</a>
<a name="9"><span class="lineNum">       9 </span>                :            :  *   This program is free software; you can redistribute it and/or modify  *</a>
<a name="10"><span class="lineNum">      10 </span>                :            :  *   it under the terms of the GNU General Public License as published by  *</a>
<a name="11"><span class="lineNum">      11 </span>                :            :  *   the Free Software Foundation; either version 2 of the License, or     *</a>
<a name="12"><span class="lineNum">      12 </span>                :            :  *   (at your option) any later version.                                   *</a>
<a name="13"><span class="lineNum">      13 </span>                :            :  *                                                                         *</a>
<a name="14"><span class="lineNum">      14 </span>                :            :  ***************************************************************************/</a>
<a name="15"><span class="lineNum">      15 </span>                :            : </a>
<a name="16"><span class="lineNum">      16 </span>                :            : #ifndef QGSMAPSETTINGS_H</a>
<a name="17"><span class="lineNum">      17 </span>                :            : #define QGSMAPSETTINGS_H</a>
<a name="18"><span class="lineNum">      18 </span>                :            : </a>
<a name="19"><span class="lineNum">      19 </span>                :            : #include &quot;qgis_core.h&quot;</a>
<a name="20"><span class="lineNum">      20 </span>                :            : #include &quot;qgis_sip.h&quot;</a>
<a name="21"><span class="lineNum">      21 </span>                :            : #include &lt;QColor&gt;</a>
<a name="22"><span class="lineNum">      22 </span>                :            : #include &lt;QImage&gt;</a>
<a name="23"><span class="lineNum">      23 </span>                :            : #include &lt;QPointer&gt;</a>
<a name="24"><span class="lineNum">      24 </span>                :            : #include &lt;QSize&gt;</a>
<a name="25"><span class="lineNum">      25 </span>                :            : #include &lt;QStringList&gt;</a>
<a name="26"><span class="lineNum">      26 </span>                :            : </a>
<a name="27"><span class="lineNum">      27 </span>                :            : #include &quot;qgscoordinatereferencesystem.h&quot;</a>
<a name="28"><span class="lineNum">      28 </span>                :            : #include &quot;qgslabelingenginesettings.h&quot;</a>
<a name="29"><span class="lineNum">      29 </span>                :            : #include &quot;qgsmaptopixel.h&quot;</a>
<a name="30"><span class="lineNum">      30 </span>                :            : #include &quot;qgsrectangle.h&quot;</a>
<a name="31"><span class="lineNum">      31 </span>                :            : #include &quot;qgsscalecalculator.h&quot;</a>
<a name="32"><span class="lineNum">      32 </span>                :            : #include &quot;qgsexpressioncontext.h&quot;</a>
<a name="33"><span class="lineNum">      33 </span>                :            : #include &quot;qgsmaplayer.h&quot;</a>
<a name="34"><span class="lineNum">      34 </span>                :            : #include &quot;qgsgeometry.h&quot;</a>
<a name="35"><span class="lineNum">      35 </span>                :            : #include &quot;qgstemporalrangeobject.h&quot;</a>
<a name="36"><span class="lineNum">      36 </span>                :            : #include &quot;qgsmapclippingregion.h&quot;</a>
<a name="37"><span class="lineNum">      37 </span>                :            : </a>
<a name="38"><span class="lineNum">      38 </span>                :            : class QPainter;</a>
<a name="39"><span class="lineNum">      39 </span>                :            : </a>
<a name="40"><span class="lineNum">      40 </span>                :            : class QgsCoordinateTransform;</a>
<a name="41"><span class="lineNum">      41 </span>                :            : class QgsScaleCalculator;</a>
<a name="42"><span class="lineNum">      42 </span>                :            : class QgsMapRendererJob;</a>
<a name="43"><span class="lineNum">      43 </span>                :            : class QgsRenderedFeatureHandlerInterface;</a>
<a name="44"><span class="lineNum">      44 </span>                :            : </a>
<a name="45"><span class="lineNum">      45 </span>                :            : /**</a>
<a name="46"><span class="lineNum">      46 </span>                :            :  * \class QgsLabelBlockingRegion</a>
<a name="47"><span class="lineNum">      47 </span>                :            :  * \ingroup core</a>
<a name="48"><span class="lineNum">      48 </span>                :            :  *</a>
<a name="49"><span class="lineNum">      49 </span>                :            :  * \brief Label blocking region (in map coordinates and CRS).</a>
<a name="50"><span class="lineNum">      50 </span>                :            :  *</a>
<a name="51"><span class="lineNum">      51 </span>                :            :  * \since QGIS 3.6</a>
<a name="52"><span class="lineNum">      52 </span>                :            : */</a>
<a name="53"><span class="lineNum">      53 </span>                :<span class="lineNoCov">          0 : class CORE_EXPORT QgsLabelBlockingRegion</span></a>
<a name="54"><span class="lineNum">      54 </span>                :            : {</a>
<a name="55"><span class="lineNum">      55 </span>                :            :   public:</a>
<a name="56"><span class="lineNum">      56 </span>                :            : </a>
<a name="57"><span class="lineNum">      57 </span>                :            :     /**</a>
<a name="58"><span class="lineNum">      58 </span>                :            :      * Constructor for a label blocking region</a>
<a name="59"><span class="lineNum">      59 </span>                :            :      */</a>
<a name="60"><span class="lineNum">      60 </span>                :<span class="lineNoCov">          0 :     explicit QgsLabelBlockingRegion( const QgsGeometry &amp;geometry )</span></a>
<a name="61"><span class="lineNum">      61 </span>                :<span class="lineNoCov">          0 :       : geometry( geometry )</span></a>
<a name="62"><span class="lineNum">      62 </span>                :<span class="lineNoCov">          0 :     {}</span></a>
<a name="63"><span class="lineNum">      63 </span>                :            : </a>
<a name="64"><span class="lineNum">      64 </span>                :            :     //! Geometry of region to avoid placing labels within (in destination map coordinates and CRS)</a>
<a name="65"><span class="lineNum">      65 </span>                :            :     QgsGeometry geometry;</a>
<a name="66"><span class="lineNum">      66 </span>                :            : </a>
<a name="67"><span class="lineNum">      67 </span>                :            : };</a>
<a name="68"><span class="lineNum">      68 </span>                :            : </a>
<a name="69"><span class="lineNum">      69 </span>                :            : </a>
<a name="70"><span class="lineNum">      70 </span>                :            : /**</a>
<a name="71"><span class="lineNum">      71 </span>                :            :  * \ingroup core</a>
<a name="72"><span class="lineNum">      72 </span>                :            :  * \brief The QgsMapSettings class contains configuration for rendering of the map.</a>
<a name="73"><span class="lineNum">      73 </span>                :            :  * The rendering itself is done by QgsMapRendererJob subclasses.</a>
<a name="74"><span class="lineNum">      74 </span>                :            :  *</a>
<a name="75"><span class="lineNum">      75 </span>                :            :  * In order to set up QgsMapSettings instance, it is necessary to set at least</a>
<a name="76"><span class="lineNum">      76 </span>                :            :  * few members: extent, output size and layers.</a>
<a name="77"><span class="lineNum">      77 </span>                :            :  *</a>
<a name="78"><span class="lineNum">      78 </span>                :            :  * Some systems use high DPI scaling that is an alternative to the traditional</a>
<a name="79"><span class="lineNum">      79 </span>                :            :  * DPI scaling. The operating system provides Qt with a scaling ratio and it</a>
<a name="80"><span class="lineNum">      80 </span>                :            :  * scales window, event, and desktop geometry. The Cocoa platform plugin sets</a>
<a name="81"><span class="lineNum">      81 </span>                :            :  * the scaling ratio as QWindow::devicePixelRatio().</a>
<a name="82"><span class="lineNum">      82 </span>                :            :  * To properly render the map on such systems, the map settings device pixel</a>
<a name="83"><span class="lineNum">      83 </span>                :            :  * ratio shall be set accordingly.</a>
<a name="84"><span class="lineNum">      84 </span>                :            :  *</a>
<a name="85"><span class="lineNum">      85 </span>                :            :  * \since QGIS 2.4</a>
<a name="86"><span class="lineNum">      86 </span>                :            :  */</a>
<a name="87"><span class="lineNum">      87 </span>                :<span class="lineCov">          6 : class CORE_EXPORT QgsMapSettings : public QgsTemporalRangeObject</span></a>
<a name="88"><span class="lineNum">      88 </span>                :            : {</a>
<a name="89"><span class="lineNum">      89 </span>                :            :   public:</a>
<a name="90"><span class="lineNum">      90 </span>                :            :     QgsMapSettings();</a>
<a name="91"><span class="lineNum">      91 </span>                :            : </a>
<a name="92"><span class="lineNum">      92 </span>                :            :     /**</a>
<a name="93"><span class="lineNum">      93 </span>                :            :      * Returns geographical coordinates of the rectangle that should be rendered.</a>
<a name="94"><span class="lineNum">      94 </span>                :            :      *</a>
<a name="95"><span class="lineNum">      95 </span>                :            :      * \warning The actual visible extent used for rendering can be significantly different from this</a>
<a name="96"><span class="lineNum">      96 </span>                :            :      * value, since the given extent may be expanded in order to fit the aspect ratio</a>
<a name="97"><span class="lineNum">      97 </span>                :            :      * of the outputSize(). Use visibleExtent() to get the actual extent which will be rendered.</a>
<a name="98"><span class="lineNum">      98 </span>                :            :      *</a>
<a name="99"><span class="lineNum">      99 </span>                :            :      * \see visibleExtent()</a>
<a name="100"><span class="lineNum">     100 </span>                :            :      * \see setExtent()</a>
<a name="101"><span class="lineNum">     101 </span>                :            :      */</a>
<a name="102"><span class="lineNum">     102 </span>                :            :     QgsRectangle extent() const;</a>
<a name="103"><span class="lineNum">     103 </span>                :            : </a>
<a name="104"><span class="lineNum">     104 </span>                :            :     /**</a>
<a name="105"><span class="lineNum">     105 </span>                :            :      * Sets the coordinates of the rectangle which should be rendered.</a>
<a name="106"><span class="lineNum">     106 </span>                :            :      *</a>
<a name="107"><span class="lineNum">     107 </span>                :            :      * \warning The actual visible extent used for rendering can be significantly different</a>
<a name="108"><span class="lineNum">     108 </span>                :            :      * from the specified extent, since the given extent may be expanded in order to match the</a>
<a name="109"><span class="lineNum">     109 </span>                :            :      * aspect ratio of outputSize(). Use visibleExtent() to retrieve the actual extent to be rendered.</a>
<a name="110"><span class="lineNum">     110 </span>                :            :      *</a>
<a name="111"><span class="lineNum">     111 </span>                :            :      * \see visibleExtent()</a>
<a name="112"><span class="lineNum">     112 </span>                :            :      * \see extent()</a>
<a name="113"><span class="lineNum">     113 </span>                :            :      */</a>
<a name="114"><span class="lineNum">     114 </span>                :            :     void setExtent( const QgsRectangle &amp;rect, bool magnified = true );</a>
<a name="115"><span class="lineNum">     115 </span>                :            : </a>
<a name="116"><span class="lineNum">     116 </span>                :            :     /**</a>
<a name="117"><span class="lineNum">     117 </span>                :            :      * Returns the buffer in map units to use around the visible extent for rendering</a>
<a name="118"><span class="lineNum">     118 </span>                :            :      * symbols whose corresponding geometries are outside the visible extent.</a>
<a name="119"><span class="lineNum">     119 </span>                :            :      * \see setExtentBuffer()</a>
<a name="120"><span class="lineNum">     120 </span>                :            :      * \since QGIS 3.10</a>
<a name="121"><span class="lineNum">     121 </span>                :            :      */</a>
<a name="122"><span class="lineNum">     122 </span>                :            :     double extentBuffer() const;</a>
<a name="123"><span class="lineNum">     123 </span>                :            : </a>
<a name="124"><span class="lineNum">     124 </span>                :            :     /**</a>
<a name="125"><span class="lineNum">     125 </span>                :            :      * Sets the buffer in map units to use around the visible extent for rendering</a>
<a name="126"><span class="lineNum">     126 </span>                :            :      * symbols whose corresponding geometries are outside the visible extent. This</a>
<a name="127"><span class="lineNum">     127 </span>                :            :      * is useful when using tiles to avoid cut symbols at tile boundaries.</a>
<a name="128"><span class="lineNum">     128 </span>                :            :      * \since QGIS 3.10</a>
<a name="129"><span class="lineNum">     129 </span>                :            :      */</a>
<a name="130"><span class="lineNum">     130 </span>                :            :     void setExtentBuffer( double buffer );</a>
<a name="131"><span class="lineNum">     131 </span>                :            : </a>
<a name="132"><span class="lineNum">     132 </span>                :            :     /**</a>
<a name="133"><span class="lineNum">     133 </span>                :            :      * Returns the size of the resulting map image, in pixels.</a>
<a name="134"><span class="lineNum">     134 </span>                :            :      *</a>
<a name="135"><span class="lineNum">     135 </span>                :            :      * \see deviceOutputSize()</a>
<a name="136"><span class="lineNum">     136 </span>                :            :      * \see setOutputSize()</a>
<a name="137"><span class="lineNum">     137 </span>                :            :      */</a>
<a name="138"><span class="lineNum">     138 </span>                :            :     QSize outputSize() const;</a>
<a name="139"><span class="lineNum">     139 </span>                :            : </a>
<a name="140"><span class="lineNum">     140 </span>                :            :     /**</a>
<a name="141"><span class="lineNum">     141 </span>                :            :      * Sets the \a size of the resulting map image, in pixels.</a>
<a name="142"><span class="lineNum">     142 </span>                :            :      *</a>
<a name="143"><span class="lineNum">     143 </span>                :            :      * \see outputSize()</a>
<a name="144"><span class="lineNum">     144 </span>                :            :      */</a>
<a name="145"><span class="lineNum">     145 </span>                :            :     void setOutputSize( QSize size );</a>
<a name="146"><span class="lineNum">     146 </span>                :            : </a>
<a name="147"><span class="lineNum">     147 </span>                :            :     /**</a>
<a name="148"><span class="lineNum">     148 </span>                :            :      * Returns the device pixel ratio.</a>
<a name="149"><span class="lineNum">     149 </span>                :            :      *</a>
<a name="150"><span class="lineNum">     150 </span>                :            :      * Common values are 1 for normal-dpi displays and 2 for high-dpi &quot;retina&quot; displays.</a>
<a name="151"><span class="lineNum">     151 </span>                :            :      * \since QGIS 3.4</a>
<a name="152"><span class="lineNum">     152 </span>                :            :      */</a>
<a name="153"><span class="lineNum">     153 </span>                :            :     float devicePixelRatio() const;</a>
<a name="154"><span class="lineNum">     154 </span>                :            : </a>
<a name="155"><span class="lineNum">     155 </span>                :            :     /**</a>
<a name="156"><span class="lineNum">     156 </span>                :            :      * Sets the device pixel ratio.</a>
<a name="157"><span class="lineNum">     157 </span>                :            :      *</a>
<a name="158"><span class="lineNum">     158 </span>                :            :      * Common values are 1 for normal-dpi displays and 2 for high-dpi &quot;retina&quot; displays.</a>
<a name="159"><span class="lineNum">     159 </span>                :            :      * \since QGIS 3.4</a>
<a name="160"><span class="lineNum">     160 </span>                :            :      */</a>
<a name="161"><span class="lineNum">     161 </span>                :            :     void setDevicePixelRatio( float dpr );</a>
<a name="162"><span class="lineNum">     162 </span>                :            : </a>
<a name="163"><span class="lineNum">     163 </span>                :            :     /**</a>
<a name="164"><span class="lineNum">     164 </span>                :            :      * Returns the device output size of the map render.</a>
<a name="165"><span class="lineNum">     165 </span>                :            :      *</a>
<a name="166"><span class="lineNum">     166 </span>                :            :      * This is equivalent to the output size multiplicated</a>
<a name="167"><span class="lineNum">     167 </span>                :            :      * by the device pixel ratio.</a>
<a name="168"><span class="lineNum">     168 </span>                :            :      *</a>
<a name="169"><span class="lineNum">     169 </span>                :            :      * \see outputSize()</a>
<a name="170"><span class="lineNum">     170 </span>                :            :      * \see devicePixelRatio()</a>
<a name="171"><span class="lineNum">     171 </span>                :            :      * \see setOutputSize()</a>
<a name="172"><span class="lineNum">     172 </span>                :            :      *</a>
<a name="173"><span class="lineNum">     173 </span>                :            :      * \since QGIS 3.4</a>
<a name="174"><span class="lineNum">     174 </span>                :            :      */</a>
<a name="175"><span class="lineNum">     175 </span>                :            :     QSize deviceOutputSize() const;</a>
<a name="176"><span class="lineNum">     176 </span>                :            : </a>
<a name="177"><span class="lineNum">     177 </span>                :            :     /**</a>
<a name="178"><span class="lineNum">     178 </span>                :            :      * Returns the rotation of the resulting map image, in degrees clockwise.</a>
<a name="179"><span class="lineNum">     179 </span>                :            :      * \see setRotation()</a>
<a name="180"><span class="lineNum">     180 </span>                :            :      * \since QGIS 2.8</a>
<a name="181"><span class="lineNum">     181 </span>                :            :      */</a>
<a name="182"><span class="lineNum">     182 </span>                :            :     double rotation() const;</a>
<a name="183"><span class="lineNum">     183 </span>                :            : </a>
<a name="184"><span class="lineNum">     184 </span>                :            :     /**</a>
<a name="185"><span class="lineNum">     185 </span>                :            :      * Sets the \a rotation of the resulting map image, in degrees clockwise.</a>
<a name="186"><span class="lineNum">     186 </span>                :            :      * \see rotation()</a>
<a name="187"><span class="lineNum">     187 </span>                :            :      * \since QGIS 2.8</a>
<a name="188"><span class="lineNum">     188 </span>                :            :      */</a>
<a name="189"><span class="lineNum">     189 </span>                :            :     void setRotation( double rotation );</a>
<a name="190"><span class="lineNum">     190 </span>                :            : </a>
<a name="191"><span class="lineNum">     191 </span>                :            :     /**</a>
<a name="192"><span class="lineNum">     192 </span>                :            :      * Returns the DPI (dots per inch) used for conversion between real world units (e.g. mm) and pixels.</a>
<a name="193"><span class="lineNum">     193 </span>                :            :      *</a>
<a name="194"><span class="lineNum">     194 </span>                :            :      * The default value is 96 dpi.</a>
<a name="195"><span class="lineNum">     195 </span>                :            :      *</a>
<a name="196"><span class="lineNum">     196 </span>                :            :      * \see setOutputDpi()</a>
<a name="197"><span class="lineNum">     197 </span>                :            :      */</a>
<a name="198"><span class="lineNum">     198 </span>                :            :     double outputDpi() const;</a>
<a name="199"><span class="lineNum">     199 </span>                :            : </a>
<a name="200"><span class="lineNum">     200 </span>                :            :     /**</a>
<a name="201"><span class="lineNum">     201 </span>                :            :      * Sets the \a dpi (dots per inch) used for conversion between real world units (e.g. mm) and pixels.</a>
<a name="202"><span class="lineNum">     202 </span>                :            :      *</a>
<a name="203"><span class="lineNum">     203 </span>                :            :      * \see outputDpi()</a>
<a name="204"><span class="lineNum">     204 </span>                :            :      */</a>
<a name="205"><span class="lineNum">     205 </span>                :            :     void setOutputDpi( double dpi );</a>
<a name="206"><span class="lineNum">     206 </span>                :            : </a>
<a name="207"><span class="lineNum">     207 </span>                :            :     /**</a>
<a name="208"><span class="lineNum">     208 </span>                :            :      * Returns the target DPI (dots per inch) to be taken into consideration when rendering.</a>
<a name="209"><span class="lineNum">     209 </span>                :            :      *</a>
<a name="210"><span class="lineNum">     210 </span>                :            :      * The default value is -1, which states no DPI target is provided.</a>
<a name="211"><span class="lineNum">     211 </span>                :            :      *</a>
<a name="212"><span class="lineNum">     212 </span>                :            :      * \see setDpiTarget()</a>
<a name="213"><span class="lineNum">     213 </span>                :            :      * \since QGIS 3.20</a>
<a name="214"><span class="lineNum">     214 </span>                :            :      */</a>
<a name="215"><span class="lineNum">     215 </span>                :            :     double dpiTarget() const;</a>
<a name="216"><span class="lineNum">     216 </span>                :            : </a>
<a name="217"><span class="lineNum">     217 </span>                :            :     /**</a>
<a name="218"><span class="lineNum">     218 </span>                :            :      * Sets the target \a dpi (dots per inch) to be taken into consideration when rendering.</a>
<a name="219"><span class="lineNum">     219 </span>                :            :      *</a>
<a name="220"><span class="lineNum">     220 </span>                :            :      * \see dpiTarget()</a>
<a name="221"><span class="lineNum">     221 </span>                :            :      * \since QGIS 3.20</a>
<a name="222"><span class="lineNum">     222 </span>                :            :      */</a>
<a name="223"><span class="lineNum">     223 </span>                :            :     void setDpiTarget( double dpi );</a>
<a name="224"><span class="lineNum">     224 </span>                :            : </a>
<a name="225"><span class="lineNum">     225 </span>                :            :     /**</a>
<a name="226"><span class="lineNum">     226 </span>                :            :      * Set the magnification factor.</a>
<a name="227"><span class="lineNum">     227 </span>                :            :      * \param factor the factor of magnification</a>
<a name="228"><span class="lineNum">     228 </span>                :            :      * \param center optional point to re-center the map</a>
<a name="229"><span class="lineNum">     229 </span>                :            :      * \see magnificationFactor()</a>
<a name="230"><span class="lineNum">     230 </span>                :            :      * \since QGIS 2.16</a>
<a name="231"><span class="lineNum">     231 </span>                :            :      */</a>
<a name="232"><span class="lineNum">     232 </span>                :            :     void setMagnificationFactor( double factor, const QgsPointXY *center = nullptr );</a>
<a name="233"><span class="lineNum">     233 </span>                :            : </a>
<a name="234"><span class="lineNum">     234 </span>                :            :     /**</a>
<a name="235"><span class="lineNum">     235 </span>                :            :      * Returns the magnification factor.</a>
<a name="236"><span class="lineNum">     236 </span>                :            :      * \see setMagnificationFactor()</a>
<a name="237"><span class="lineNum">     237 </span>                :            :      * \since QGIS 2.16</a>
<a name="238"><span class="lineNum">     238 </span>                :            :      */</a>
<a name="239"><span class="lineNum">     239 </span>                :            :     double magnificationFactor() const;</a>
<a name="240"><span class="lineNum">     240 </span>                :            : </a>
<a name="241"><span class="lineNum">     241 </span>                :            :     /**</a>
<a name="242"><span class="lineNum">     242 </span>                :            :      * Returns the list of layer IDs which will be rendered in the map.</a>
<a name="243"><span class="lineNum">     243 </span>                :            :      *</a>
<a name="244"><span class="lineNum">     244 </span>                :            :      * The layers are stored in the reverse order of how they are rendered (layer with index 0 will be on top).</a>
<a name="245"><span class="lineNum">     245 </span>                :            :      *</a>
<a name="246"><span class="lineNum">     246 </span>                :            :      * \see layers()</a>
<a name="247"><span class="lineNum">     247 </span>                :            :      * \see setLayers()</a>
<a name="248"><span class="lineNum">     248 </span>                :            :      */</a>
<a name="249"><span class="lineNum">     249 </span>                :            :     QStringList layerIds() const;</a>
<a name="250"><span class="lineNum">     250 </span>                :            : </a>
<a name="251"><span class="lineNum">     251 </span>                :            :     /**</a>
<a name="252"><span class="lineNum">     252 </span>                :            :      * Returns the list of layers which will be rendered in the map.</a>
<a name="253"><span class="lineNum">     253 </span>                :            :      *</a>
<a name="254"><span class="lineNum">     254 </span>                :            :      * The layers are stored in the reverse order of how they are rendered (layer with index 0 will be on top)</a>
<a name="255"><span class="lineNum">     255 </span>                :            :      *</a>
<a name="256"><span class="lineNum">     256 </span>                :            :      * \see setLayers()</a>
<a name="257"><span class="lineNum">     257 </span>                :            :      * \see layerIds()</a>
<a name="258"><span class="lineNum">     258 </span>                :            :      */</a>
<a name="259"><span class="lineNum">     259 </span>                :            :     QList&lt;QgsMapLayer *&gt; layers() const;</a>
<a name="260"><span class="lineNum">     260 </span>                :            : </a>
<a name="261"><span class="lineNum">     261 </span>                :            :     /**</a>
<a name="262"><span class="lineNum">     262 </span>                :            :      * Sets the list of \a layers to render in the map.</a>
<a name="263"><span class="lineNum">     263 </span>                :            :      *</a>
<a name="264"><span class="lineNum">     264 </span>                :            :      * The layers are stored in the reverse order of how they are rendered (layer with index 0 will be on top)</a>
<a name="265"><span class="lineNum">     265 </span>                :            :      *</a>
<a name="266"><span class="lineNum">     266 </span>                :            :      * \note Any non-spatial layers will be automatically stripped from the list (since they cannot be rendered!).</a>
<a name="267"><span class="lineNum">     267 </span>                :            :      *</a>
<a name="268"><span class="lineNum">     268 </span>                :            :      * \see layers()</a>
<a name="269"><span class="lineNum">     269 </span>                :            :      * \see layerIds()</a>
<a name="270"><span class="lineNum">     270 </span>                :            :      */</a>
<a name="271"><span class="lineNum">     271 </span>                :            :     void setLayers( const QList&lt;QgsMapLayer *&gt; &amp;layers );</a>
<a name="272"><span class="lineNum">     272 </span>                :            : </a>
<a name="273"><span class="lineNum">     273 </span>                :            :     /**</a>
<a name="274"><span class="lineNum">     274 </span>                :            :      * Returns the map of map layer style overrides (key: layer ID, value: style name) where a different style should be used instead of the current one.</a>
<a name="275"><span class="lineNum">     275 </span>                :            :      *</a>
<a name="276"><span class="lineNum">     276 </span>                :            :      * \see setLayerStyleOverrides()</a>
<a name="277"><span class="lineNum">     277 </span>                :            :      * \since QGIS 2.8</a>
<a name="278"><span class="lineNum">     278 </span>                :            :      */</a>
<a name="279"><span class="lineNum">     279 </span>                :            :     QMap&lt;QString, QString&gt; layerStyleOverrides() const;</a>
<a name="280"><span class="lineNum">     280 </span>                :            : </a>
<a name="281"><span class="lineNum">     281 </span>                :            :     /**</a>
<a name="282"><span class="lineNum">     282 </span>                :            :      * Sets the map of map layer style \a overrides (key: layer ID, value: style name) where a different style should be used instead of the current one.</a>
<a name="283"><span class="lineNum">     283 </span>                :            :      *</a>
<a name="284"><span class="lineNum">     284 </span>                :            :      * \see layerStyleOverrides()</a>
<a name="285"><span class="lineNum">     285 </span>                :            :      * \since QGIS 2.8</a>
<a name="286"><span class="lineNum">     286 </span>                :            :      */</a>
<a name="287"><span class="lineNum">     287 </span>                :            :     void setLayerStyleOverrides( const QMap&lt;QString, QString&gt; &amp;overrides );</a>
<a name="288"><span class="lineNum">     288 </span>                :            : </a>
<a name="289"><span class="lineNum">     289 </span>                :            :     /**</a>
<a name="290"><span class="lineNum">     290 </span>                :            :      * Returns custom rendering flags. Layers might honour these to alter their rendering.</a>
<a name="291"><span class="lineNum">     291 </span>                :            :      * \returns custom flags strings, separated by ';'</a>
<a name="292"><span class="lineNum">     292 </span>                :            :      * \see setCustomRenderFlags()</a>
<a name="293"><span class="lineNum">     293 </span>                :            :      * \since QGIS 2.16</a>
<a name="294"><span class="lineNum">     294 </span>                :            :      * \deprecated use \see customRenderingFlags().</a>
<a name="295"><span class="lineNum">     295 </span>                :            :      */</a>
<a name="296"><span class="lineNum">     296 </span>                :            :     Q_DECL_DEPRECATED QString customRenderFlags() const { return mCustomRenderFlags; }</a>
<a name="297"><span class="lineNum">     297 </span>                :            : </a>
<a name="298"><span class="lineNum">     298 </span>                :            :     /**</a>
<a name="299"><span class="lineNum">     299 </span>                :            :      * Sets the custom rendering flags. Layers might honour these to alter their rendering.</a>
<a name="300"><span class="lineNum">     300 </span>                :            :      * \param customRenderFlags custom flags strings, separated by ';'</a>
<a name="301"><span class="lineNum">     301 </span>                :            :      * \see customRenderFlags()</a>
<a name="302"><span class="lineNum">     302 </span>                :            :      * \since QGIS 2.16</a>
<a name="303"><span class="lineNum">     303 </span>                :            :      * \deprecated use \see setCustomRenderingFlag() instead.</a>
<a name="304"><span class="lineNum">     304 </span>                :            :      */</a>
<a name="305"><span class="lineNum">     305 </span>                :            :     Q_DECL_DEPRECATED void setCustomRenderFlags( const QString &amp;customRenderFlags ) { mCustomRenderFlags = customRenderFlags; }</a>
<a name="306"><span class="lineNum">     306 </span>                :            : </a>
<a name="307"><span class="lineNum">     307 </span>                :            :     /**</a>
<a name="308"><span class="lineNum">     308 </span>                :            :      * Returns any custom rendering flags. Layers might honour these to alter their rendering.</a>
<a name="309"><span class="lineNum">     309 </span>                :            :      * \returns a map of custom flags</a>
<a name="310"><span class="lineNum">     310 </span>                :            :      * \see setCustomRenderingFlag()</a>
<a name="311"><span class="lineNum">     311 </span>                :            :      * \since QGIS 3.12</a>
<a name="312"><span class="lineNum">     312 </span>                :            :      */</a>
<a name="313"><span class="lineNum">     313 </span>                :<span class="lineNoCov">          0 :     QVariantMap customRenderingFlags() const { return mCustomRenderingFlags; }</span></a>
<a name="314"><span class="lineNum">     314 </span>                :            : </a>
<a name="315"><span class="lineNum">     315 </span>                :            :     /**</a>
<a name="316"><span class="lineNum">     316 </span>                :            :      * Sets a custom rendering \a flag. Layers might honour these to alter their rendering.</a>
<a name="317"><span class="lineNum">     317 </span>                :            :      * \param flag the flag name</a>
<a name="318"><span class="lineNum">     318 </span>                :            :      * \param value the flag value</a>
<a name="319"><span class="lineNum">     319 </span>                :            :      * \see customRenderingFlags()</a>
<a name="320"><span class="lineNum">     320 </span>                :            :      * \since QGIS 3.12</a>
<a name="321"><span class="lineNum">     321 </span>                :            :      */</a>
<a name="322"><span class="lineNum">     322 </span>                :            :     void setCustomRenderingFlag( const QString &amp;flag, const QVariant &amp;value ) { mCustomRenderingFlags[flag] = value; }</a>
<a name="323"><span class="lineNum">     323 </span>                :            : </a>
<a name="324"><span class="lineNum">     324 </span>                :            :     /**</a>
<a name="325"><span class="lineNum">     325 </span>                :            :      * Clears the specified custom rendering \a flag.</a>
<a name="326"><span class="lineNum">     326 </span>                :            :      * \param flag the flag name</a>
<a name="327"><span class="lineNum">     327 </span>                :            :      * \see setCustomRenderingFlag()</a>
<a name="328"><span class="lineNum">     328 </span>                :            :      * \since QGIS 3.12</a>
<a name="329"><span class="lineNum">     329 </span>                :            :      */</a>
<a name="330"><span class="lineNum">     330 </span>                :            :     void clearCustomRenderingFlag( const QString &amp;flag ) { mCustomRenderingFlags.remove( flag ); }</a>
<a name="331"><span class="lineNum">     331 </span>                :            : </a>
<a name="332"><span class="lineNum">     332 </span>                :            :     /**</a>
<a name="333"><span class="lineNum">     333 </span>                :            :      * Sets the destination \a crs (coordinate reference system) for the map render.</a>
<a name="334"><span class="lineNum">     334 </span>                :            :      *</a>
<a name="335"><span class="lineNum">     335 </span>                :            :      * \see destinationCrs()</a>
<a name="336"><span class="lineNum">     336 </span>                :            :      */</a>
<a name="337"><span class="lineNum">     337 </span>                :            :     void setDestinationCrs( const QgsCoordinateReferenceSystem &amp;crs );</a>
<a name="338"><span class="lineNum">     338 </span>                :            : </a>
<a name="339"><span class="lineNum">     339 </span>                :            :     /**</a>
<a name="340"><span class="lineNum">     340 </span>                :            :      * Returns the destination coordinate reference system for the map render.</a>
<a name="341"><span class="lineNum">     341 </span>                :            :      *</a>
<a name="342"><span class="lineNum">     342 </span>                :            :      * \see setDestinationCrs()</a>
<a name="343"><span class="lineNum">     343 </span>                :            :      */</a>
<a name="344"><span class="lineNum">     344 </span>                :            :     QgsCoordinateReferenceSystem destinationCrs() const;</a>
<a name="345"><span class="lineNum">     345 </span>                :            : </a>
<a name="346"><span class="lineNum">     346 </span>                :            :     /**</a>
<a name="347"><span class="lineNum">     347 </span>                :            :      * Returns the units of the map's geographical coordinates - used for scale calculation.</a>
<a name="348"><span class="lineNum">     348 </span>                :            :      */</a>
<a name="349"><span class="lineNum">     349 </span>                :            :     QgsUnitTypes::DistanceUnit mapUnits() const;</a>
<a name="350"><span class="lineNum">     350 </span>                :            : </a>
<a name="351"><span class="lineNum">     351 </span>                :            :     /**</a>
<a name="352"><span class="lineNum">     352 </span>                :            :      * Sets the \a ellipsoid by its acronym. Known ellipsoid acronyms can be</a>
<a name="353"><span class="lineNum">     353 </span>                :            :      * retrieved using QgsEllipsoidUtils::acronyms().</a>
<a name="354"><span class="lineNum">     354 </span>                :            :      * Calculations will only use the ellipsoid if a valid ellipsoid has been set.</a>
<a name="355"><span class="lineNum">     355 </span>                :            :      * \returns TRUE if ellipsoid was successfully set</a>
<a name="356"><span class="lineNum">     356 </span>                :            :      * \see ellipsoid()</a>
<a name="357"><span class="lineNum">     357 </span>                :            :      * \since QGIS 3.0</a>
<a name="358"><span class="lineNum">     358 </span>                :            :      */</a>
<a name="359"><span class="lineNum">     359 </span>                :            :     bool setEllipsoid( const QString &amp;ellipsoid );</a>
<a name="360"><span class="lineNum">     360 </span>                :            : </a>
<a name="361"><span class="lineNum">     361 </span>                :            :     /**</a>
<a name="362"><span class="lineNum">     362 </span>                :            :      * Returns ellipsoid's acronym. Calculations will only use the</a>
<a name="363"><span class="lineNum">     363 </span>                :            :      * ellipsoid if a valid ellipsoid has been set.</a>
<a name="364"><span class="lineNum">     364 </span>                :            :      * \see setEllipsoid()</a>
<a name="365"><span class="lineNum">     365 </span>                :            :      * \since QGIS 3.0</a>
<a name="366"><span class="lineNum">     366 </span>                :            :      */</a>
<a name="367"><span class="lineNum">     367 </span>                :<span class="lineNoCov">          0 :     QString ellipsoid() const { return mEllipsoid; }</span></a>
<a name="368"><span class="lineNum">     368 </span>                :            : </a>
<a name="369"><span class="lineNum">     369 </span>                :            :     /**</a>
<a name="370"><span class="lineNum">     370 </span>                :            :      * Sets the background \a color of the map.</a>
<a name="371"><span class="lineNum">     371 </span>                :            :      *</a>
<a name="372"><span class="lineNum">     372 </span>                :            :      * \see backgroundColor()</a>
<a name="373"><span class="lineNum">     373 </span>                :            :      */</a>
<a name="374"><span class="lineNum">     374 </span>                :<span class="lineNoCov">          0 :     void setBackgroundColor( const QColor &amp;color ) { mBackgroundColor = color; }</span></a>
<a name="375"><span class="lineNum">     375 </span>                :            : </a>
<a name="376"><span class="lineNum">     376 </span>                :            :     /**</a>
<a name="377"><span class="lineNum">     377 </span>                :            :      * Returns the background color of the map.</a>
<a name="378"><span class="lineNum">     378 </span>                :            :      *</a>
<a name="379"><span class="lineNum">     379 </span>                :            :      * \see setBackgroundColor()</a>
<a name="380"><span class="lineNum">     380 </span>                :            :      */</a>
<a name="381"><span class="lineNum">     381 </span>                :<span class="lineNoCov">          0 :     QColor backgroundColor() const { return mBackgroundColor; }</span></a>
<a name="382"><span class="lineNum">     382 </span>                :            : </a>
<a name="383"><span class="lineNum">     383 </span>                :            :     /**</a>
<a name="384"><span class="lineNum">     384 </span>                :            :      * Sets the \a color that is used for drawing of selected vector features.</a>
<a name="385"><span class="lineNum">     385 </span>                :            :      *</a>
<a name="386"><span class="lineNum">     386 </span>                :            :      * \see selectionColor()</a>
<a name="387"><span class="lineNum">     387 </span>                :            :      */</a>
<a name="388"><span class="lineNum">     388 </span>                :<span class="lineNoCov">          0 :     void setSelectionColor( const QColor &amp;color ) { mSelectionColor = color; }</span></a>
<a name="389"><span class="lineNum">     389 </span>                :            : </a>
<a name="390"><span class="lineNum">     390 </span>                :            :     /**</a>
<a name="391"><span class="lineNum">     391 </span>                :            :      * Returns the color that is used for drawing of selected vector features.</a>
<a name="392"><span class="lineNum">     392 </span>                :            :      *</a>
<a name="393"><span class="lineNum">     393 </span>                :            :      * \see setSelectionColor()</a>
<a name="394"><span class="lineNum">     394 </span>                :            :      */</a>
<a name="395"><span class="lineNum">     395 </span>                :<span class="lineNoCov">          0 :     QColor selectionColor() const { return mSelectionColor; }</span></a>
<a name="396"><span class="lineNum">     396 </span>                :            : </a>
<a name="397"><span class="lineNum">     397 </span>                :            :     //! Enumeration of flags that adjust the way the map is rendered</a>
<a name="398"><span class="lineNum">     398 </span>                :            :     enum Flag</a>
<a name="399"><span class="lineNum">     399 </span>                :            :     {</a>
<a name="400"><span class="lineNum">     400 </span>                :            :       Antialiasing             = 0x01,  //!&lt; Enable anti-aliasing for map rendering</a>
<a name="401"><span class="lineNum">     401 </span>                :            :       DrawEditingInfo          = 0x02,  //!&lt; Enable drawing of vertex markers for layers in editing mode</a>
<a name="402"><span class="lineNum">     402 </span>                :            :       ForceVectorOutput        = 0x04,  //!&lt; Vector graphics should not be cached and drawn as raster images</a>
<a name="403"><span class="lineNum">     403 </span>                :            :       UseAdvancedEffects       = 0x08,  //!&lt; Enable layer opacity and blending effects</a>
<a name="404"><span class="lineNum">     404 </span>                :            :       DrawLabeling             = 0x10,  //!&lt; Enable drawing of labels on top of the map</a>
<a name="405"><span class="lineNum">     405 </span>                :            :       UseRenderingOptimization = 0x20,  //!&lt; Enable vector simplification and other rendering optimizations</a>
<a name="406"><span class="lineNum">     406 </span>                :            :       DrawSelection            = 0x40,  //!&lt; Whether vector selections should be shown in the rendered map</a>
<a name="407"><span class="lineNum">     407 </span>                :            :       DrawSymbolBounds         = 0x80,  //!&lt; Draw bounds of symbols (for debugging/testing)</a>
<a name="408"><span class="lineNum">     408 </span>                :            :       RenderMapTile            = 0x100, //!&lt; Draw map such that there are no problems between adjacent tiles</a>
<a name="409"><span class="lineNum">     409 </span>                :            :       RenderPartialOutput      = 0x200, //!&lt; Whether to make extra effort to update map image with partially rendered layers (better for interactive map canvas). Added in QGIS 3.0</a>
<a name="410"><span class="lineNum">     410 </span>                :            :       RenderPreviewJob         = 0x400, //!&lt; Render is a 'canvas preview' render, and shortcuts should be taken to ensure fast rendering</a>
<a name="411"><span class="lineNum">     411 </span>                :            :       RenderBlocking           = 0x800, //!&lt; Render and load remote sources in the same thread to ensure rendering remote sources (svg and images). WARNING: this flag must NEVER be used from GUI based applications (like the main QGIS application) or crashes will result. Only for use in external scripts or QGIS server.</a>
<a name="412"><span class="lineNum">     412 </span>                :            :       LosslessImageRendering   = 0x1000, //!&lt; Render images losslessly whenever possible, instead of the default lossy jpeg rendering used for some destination devices (e.g. PDF). This flag only works with builds based on Qt 5.13 or later.</a>
<a name="413"><span class="lineNum">     413 </span>                :            :       Render3DMap              = 0x2000, //!&lt; Render is for a 3D map</a>
<a name="414"><span class="lineNum">     414 </span>                :            :       // TODO: ignore scale-based visibility (overview)</a>
<a name="415"><span class="lineNum">     415 </span>                :            :     };</a>
<a name="416"><span class="lineNum">     416 </span>                :            :     Q_DECLARE_FLAGS( Flags, Flag )</a>
<a name="417"><span class="lineNum">     417 </span>                :            : </a>
<a name="418"><span class="lineNum">     418 </span>                :            :     //! Sets combination of flags that will be used for rendering</a>
<a name="419"><span class="lineNum">     419 </span>                :            :     void setFlags( QgsMapSettings::Flags flags );</a>
<a name="420"><span class="lineNum">     420 </span>                :            :     //! Enable or disable a particular flag (other flags are not affected)</a>
<a name="421"><span class="lineNum">     421 </span>                :            :     void setFlag( Flag flag, bool on = true );</a>
<a name="422"><span class="lineNum">     422 </span>                :            :     //! Returns combination of flags used for rendering</a>
<a name="423"><span class="lineNum">     423 </span>                :            :     Flags flags() const;</a>
<a name="424"><span class="lineNum">     424 </span>                :            :     //! Check whether a particular flag is enabled</a>
<a name="425"><span class="lineNum">     425 </span>                :            :     bool testFlag( Flag flag ) const;</a>
<a name="426"><span class="lineNum">     426 </span>                :            : </a>
<a name="427"><span class="lineNum">     427 </span>                :            :     /**</a>
<a name="428"><span class="lineNum">     428 </span>                :            :      * Returns the text render format, which dictates how text is rendered (e.g. as paths or real text objects).</a>
<a name="429"><span class="lineNum">     429 </span>                :            :      *</a>
<a name="430"><span class="lineNum">     430 </span>                :            :      * \see setTextRenderFormat()</a>
<a name="431"><span class="lineNum">     431 </span>                :            :      * \since QGIS 3.4.3</a>
<a name="432"><span class="lineNum">     432 </span>                :            :      */</a>
<a name="433"><span class="lineNum">     433 </span>                :<span class="lineNoCov">          0 :     QgsRenderContext::TextRenderFormat textRenderFormat() const</span></a>
<a name="434"><span class="lineNum">     434 </span>                :            :     {</a>
<a name="435"><span class="lineNum">     435 </span>                :<span class="lineNoCov">          0 :       return mTextRenderFormat;</span></a>
<a name="436"><span class="lineNum">     436 </span>                :            :     }</a>
<a name="437"><span class="lineNum">     437 </span>                :            : </a>
<a name="438"><span class="lineNum">     438 </span>                :            :     /**</a>
<a name="439"><span class="lineNum">     439 </span>                :            :      * Sets the text render \a format, which dictates how text is rendered (e.g. as paths or real text objects).</a>
<a name="440"><span class="lineNum">     440 </span>                :            :      *</a>
<a name="441"><span class="lineNum">     441 </span>                :            :      * \warning Calling the setLabelingEngineSettings() method will reset the text render format to match the default</a>
<a name="442"><span class="lineNum">     442 </span>                :            :      * text render format from the label engine settings.</a>
<a name="443"><span class="lineNum">     443 </span>                :            :      *</a>
<a name="444"><span class="lineNum">     444 </span>                :            :      * \see textRenderFormat()</a>
<a name="445"><span class="lineNum">     445 </span>                :            :      * \since QGIS 3.4.3</a>
<a name="446"><span class="lineNum">     446 </span>                :            :      */</a>
<a name="447"><span class="lineNum">     447 </span>                :<span class="lineNoCov">          0 :     void setTextRenderFormat( QgsRenderContext::TextRenderFormat format )</span></a>
<a name="448"><span class="lineNum">     448 </span>                :            :     {</a>
<a name="449"><span class="lineNum">     449 </span>                :<span class="lineNoCov">          0 :       mTextRenderFormat = format;</span></a>
<a name="450"><span class="lineNum">     450 </span>                :            :       // ensure labeling engine setting is also kept in sync, just in case anyone accesses QgsMapSettings::labelingEngineSettings().defaultTextRenderFormat()</a>
<a name="451"><span class="lineNum">     451 </span>                :            :       // instead of correctly calling QgsMapSettings::textRenderFormat(). It can't hurt to be consistent!</a>
<a name="452"><span class="lineNum">     452 </span>                :<span class="lineNoCov">          0 :       mLabelingEngineSettings.setDefaultTextRenderFormat( format );</span></a>
<a name="453"><span class="lineNum">     453 </span>                :<span class="lineNoCov">          0 :     }</span></a>
<a name="454"><span class="lineNum">     454 </span>                :            : </a>
<a name="455"><span class="lineNum">     455 </span>                :            :     //! sets format of internal QImage</a>
<a name="456"><span class="lineNum">     456 </span>                :<span class="lineNoCov">          0 :     void setOutputImageFormat( QImage::Format format ) { mImageFormat = format; }</span></a>
<a name="457"><span class="lineNum">     457 </span>                :            :     //! format of internal QImage, default QImage::Format_ARGB32_Premultiplied</a>
<a name="458"><span class="lineNum">     458 </span>                :<span class="lineNoCov">          0 :     QImage::Format outputImageFormat() const { return mImageFormat; }</span></a>
<a name="459"><span class="lineNum">     459 </span>                :            : </a>
<a name="460"><span class="lineNum">     460 </span>                :            :     //! Check whether the map settings are valid and can be used for rendering</a>
<a name="461"><span class="lineNum">     461 </span>                :            :     bool hasValidSettings() const;</a>
<a name="462"><span class="lineNum">     462 </span>                :            :     //! Returns the actual extent derived from requested extent that takes output image size into account</a>
<a name="463"><span class="lineNum">     463 </span>                :            :     QgsRectangle visibleExtent() const;</a>
<a name="464"><span class="lineNum">     464 </span>                :            : </a>
<a name="465"><span class="lineNum">     465 </span>                :            :     /**</a>
<a name="466"><span class="lineNum">     466 </span>                :            :      * Returns the visible area as a polygon (may be rotated)</a>
<a name="467"><span class="lineNum">     467 </span>                :            :      * \since QGIS 2.8</a>
<a name="468"><span class="lineNum">     468 </span>                :            :      */</a>
<a name="469"><span class="lineNum">     469 </span>                :            :     QPolygonF visiblePolygon() const;</a>
<a name="470"><span class="lineNum">     470 </span>                :            : </a>
<a name="471"><span class="lineNum">     471 </span>                :            :     /**</a>
<a name="472"><span class="lineNum">     472 </span>                :            :      * Returns the visible area as a polygon (may be rotated) with extent buffer included</a>
<a name="473"><span class="lineNum">     473 </span>                :            :      * \see extentBuffer()</a>
<a name="474"><span class="lineNum">     474 </span>                :            :      * \since QGIS 3.22</a>
<a name="475"><span class="lineNum">     475 </span>                :            :      */</a>
<a name="476"><span class="lineNum">     476 </span>                :            :     QPolygonF visiblePolygonWithBuffer() const;</a>
<a name="477"><span class="lineNum">     477 </span>                :            : </a>
<a name="478"><span class="lineNum">     478 </span>                :            :     //! Returns the distance in geographical coordinates that equals to one pixel in the map</a>
<a name="479"><span class="lineNum">     479 </span>                :            :     double mapUnitsPerPixel() const;</a>
<a name="480"><span class="lineNum">     480 </span>                :            : </a>
<a name="481"><span class="lineNum">     481 </span>                :            :     /**</a>
<a name="482"><span class="lineNum">     482 </span>                :            :      * Returns the calculated map scale.</a>
<a name="483"><span class="lineNum">     483 </span>                :            :      * The scale value indicates the scale denominator, e.g. 1000.0 for a 1:1000 map.</a>
<a name="484"><span class="lineNum">     484 </span>                :            :      */</a>
<a name="485"><span class="lineNum">     485 </span>                :            :     double scale() const;</a>
<a name="486"><span class="lineNum">     486 </span>                :            : </a>
<a name="487"><span class="lineNum">     487 </span>                :            :     /**</a>
<a name="488"><span class="lineNum">     488 </span>                :            :      * Sets the expression context. This context is used for all expression evaluation</a>
<a name="489"><span class="lineNum">     489 </span>                :            :      * associated with this map settings.</a>
<a name="490"><span class="lineNum">     490 </span>                :            :      * \see expressionContext()</a>
<a name="491"><span class="lineNum">     491 </span>                :            :      * \since QGIS 2.12</a>
<a name="492"><span class="lineNum">     492 </span>                :            :      */</a>
<a name="493"><span class="lineNum">     493 </span>                :<span class="lineNoCov">          0 :     void setExpressionContext( const QgsExpressionContext &amp;context ) { mExpressionContext = context; }</span></a>
<a name="494"><span class="lineNum">     494 </span>                :            : </a>
<a name="495"><span class="lineNum">     495 </span>                :            :     /**</a>
<a name="496"><span class="lineNum">     496 </span>                :            :      * Gets the expression context. This context should be used for all expression evaluation</a>
<a name="497"><span class="lineNum">     497 </span>                :            :      * associated with this map settings.</a>
<a name="498"><span class="lineNum">     498 </span>                :            :      * \see setExpressionContext()</a>
<a name="499"><span class="lineNum">     499 </span>                :            :      * \since QGIS 2.12</a>
<a name="500"><span class="lineNum">     500 </span>                :            :      */</a>
<a name="501"><span class="lineNum">     501 </span>                :<span class="lineNoCov">          0 :     const QgsExpressionContext &amp;expressionContext() const { return mExpressionContext; }</span></a>
<a name="502"><span class="lineNum">     502 </span>                :            : </a>
<a name="503"><span class="lineNum">     503 </span>                :            :     /**</a>
<a name="504"><span class="lineNum">     504 </span>                :            :      * Returns the coordinate transform context, which stores various</a>
<a name="505"><span class="lineNum">     505 </span>                :            :      * information regarding which datum transforms should be used when transforming points</a>
<a name="506"><span class="lineNum">     506 </span>                :            :      * from a source to destination coordinate reference system.</a>
<a name="507"><span class="lineNum">     507 </span>                :            :      *</a>
<a name="508"><span class="lineNum">     508 </span>                :            :      * \see setTransformContext()</a>
<a name="509"><span class="lineNum">     509 </span>                :            :      * \since QGIS 3.0</a>
<a name="510"><span class="lineNum">     510 </span>                :            :      */</a>
<a name="511"><span class="lineNum">     511 </span>                :            :     QgsCoordinateTransformContext transformContext() const;</a>
<a name="512"><span class="lineNum">     512 </span>                :            : </a>
<a name="513"><span class="lineNum">     513 </span>                :            :     /**</a>
<a name="514"><span class="lineNum">     514 </span>                :            :      * Sets the coordinate transform \a context, which stores various</a>
<a name="515"><span class="lineNum">     515 </span>                :            :      * information regarding which datum transforms should be used when transforming points</a>
<a name="516"><span class="lineNum">     516 </span>                :            :      * from a source to destination coordinate reference system.</a>
<a name="517"><span class="lineNum">     517 </span>                :            :      *</a>
<a name="518"><span class="lineNum">     518 </span>                :            :      * \see transformContext()</a>
<a name="519"><span class="lineNum">     519 </span>                :            :      * \since QGIS 3.0</a>
<a name="520"><span class="lineNum">     520 </span>                :            :      */</a>
<a name="521"><span class="lineNum">     521 </span>                :            :     void setTransformContext( const QgsCoordinateTransformContext &amp;context );</a>
<a name="522"><span class="lineNum">     522 </span>                :            : </a>
<a name="523"><span class="lineNum">     523 </span>                :            :     /**</a>
<a name="524"><span class="lineNum">     524 </span>                :            :      * Returns the path resolver for conversion between relative and absolute paths</a>
<a name="525"><span class="lineNum">     525 </span>                :            :      * during rendering operations, e.g. for resolving relative symbol paths.</a>
<a name="526"><span class="lineNum">     526 </span>                :            :      *</a>
<a name="527"><span class="lineNum">     527 </span>                :            :      * \see setPathResolver()</a>
<a name="528"><span class="lineNum">     528 </span>                :            :      * \since QGIS 3.0</a>
<a name="529"><span class="lineNum">     529 </span>                :            :      */</a>
<a name="530"><span class="lineNum">     530 </span>                :<span class="lineNoCov">          0 :     const QgsPathResolver &amp;pathResolver() const { return mPathResolver; }</span></a>
<a name="531"><span class="lineNum">     531 </span>                :            : </a>
<a name="532"><span class="lineNum">     532 </span>                :            :     /**</a>
<a name="533"><span class="lineNum">     533 </span>                :            :      * Sets the path \a resolver for conversion between relative and absolute paths</a>
<a name="534"><span class="lineNum">     534 </span>                :            :      * during rendering operations, e.g. for resolving relative symbol paths.</a>
<a name="535"><span class="lineNum">     535 </span>                :            :      *</a>
<a name="536"><span class="lineNum">     536 </span>                :            :      * \see pathResolver()</a>
<a name="537"><span class="lineNum">     537 </span>                :            :      * \since QGIS 3.0</a>
<a name="538"><span class="lineNum">     538 </span>                :            :      */</a>
<a name="539"><span class="lineNum">     539 </span>                :<span class="lineNoCov">          0 :     void setPathResolver( const QgsPathResolver &amp;resolver ) { mPathResolver = resolver; }</span></a>
<a name="540"><span class="lineNum">     540 </span>                :            : </a>
<a name="541"><span class="lineNum">     541 </span>                :<span class="lineNoCov">          0 :     const QgsMapToPixel &amp;mapToPixel() const { return mMapToPixel; }</span></a>
<a name="542"><span class="lineNum">     542 </span>                :            : </a>
<a name="543"><span class="lineNum">     543 </span>                :            :     /**</a>
<a name="544"><span class="lineNum">     544 </span>                :            :      * Computes an *estimated* conversion factor between layer and map units: layerUnits * layerToMapUnits = mapUnits</a>
<a name="545"><span class="lineNum">     545 </span>                :            :      * \param layer The layer</a>
<a name="546"><span class="lineNum">     546 </span>                :            :      * \param referenceExtent A reference extent based on which to perform the computation. If not specified, the layer extent is used</a>
<a name="547"><span class="lineNum">     547 </span>                :            :      * \since QGIS 2.12</a>
<a name="548"><span class="lineNum">     548 </span>                :            :      */</a>
<a name="549"><span class="lineNum">     549 </span>                :            :     double layerToMapUnits( const QgsMapLayer *layer, const QgsRectangle &amp;referenceExtent = QgsRectangle() ) const;</a>
<a name="550"><span class="lineNum">     550 </span>                :            : </a>
<a name="551"><span class="lineNum">     551 </span>                :            :     /**</a>
<a name="552"><span class="lineNum">     552 </span>                :            :      * \brief transform bounding box from layer's CRS to output CRS</a>
<a name="553"><span class="lineNum">     553 </span>                :            :      * \see layerToMapCoordinates( const QgsMapLayer *, QgsRectangle ) const if you want to transform a rectangle</a>
<a name="554"><span class="lineNum">     554 </span>                :            :      * \returns a bounding box (aligned rectangle) containing the transformed extent</a>
<a name="555"><span class="lineNum">     555 </span>                :            :      */</a>
<a name="556"><span class="lineNum">     556 </span>                :            :     QgsRectangle layerExtentToOutputExtent( const QgsMapLayer *layer, QgsRectangle extent ) const;</a>
<a name="557"><span class="lineNum">     557 </span>                :            : </a>
<a name="558"><span class="lineNum">     558 </span>                :            :     /**</a>
<a name="559"><span class="lineNum">     559 </span>                :            :      * \brief transform bounding box from output CRS to layer's CRS</a>
<a name="560"><span class="lineNum">     560 </span>                :            :      * \see mapToLayerCoordinates( const QgsMapLayer *, QgsRectangle ) const if you want to transform a rectangle</a>
<a name="561"><span class="lineNum">     561 </span>                :            :      * \returns a bounding box (aligned rectangle) containing the transformed extent</a>
<a name="562"><span class="lineNum">     562 </span>                :            :      */</a>
<a name="563"><span class="lineNum">     563 </span>                :            :     QgsRectangle outputExtentToLayerExtent( const QgsMapLayer *layer, QgsRectangle extent ) const;</a>
<a name="564"><span class="lineNum">     564 </span>                :            : </a>
<a name="565"><span class="lineNum">     565 </span>                :            :     /**</a>
<a name="566"><span class="lineNum">     566 </span>                :            :      * \brief transform point coordinates from layer's CRS to output CRS</a>
<a name="567"><span class="lineNum">     567 </span>                :            :      * \returns the transformed point</a>
<a name="568"><span class="lineNum">     568 </span>                :            :      */</a>
<a name="569"><span class="lineNum">     569 </span>                :            :     QgsPointXY layerToMapCoordinates( const QgsMapLayer *layer, QgsPointXY point ) const;</a>
<a name="570"><span class="lineNum">     570 </span>                :            : </a>
<a name="571"><span class="lineNum">     571 </span>                :            :     /**</a>
<a name="572"><span class="lineNum">     572 </span>                :            :      * \brief transform point coordinates from layer's CRS to output CRS</a>
<a name="573"><span class="lineNum">     573 </span>                :            :      * \returns the transformed point</a>
<a name="574"><span class="lineNum">     574 </span>                :            :      * \since QGIS 3.16</a>
<a name="575"><span class="lineNum">     575 </span>                :            :      */</a>
<a name="576"><span class="lineNum">     576 </span>                :            :     QgsPoint layerToMapCoordinates( const QgsMapLayer *layer, const QgsPoint &amp;point ) const;</a>
<a name="577"><span class="lineNum">     577 </span>                :            : </a>
<a name="578"><span class="lineNum">     578 </span>                :            :     /**</a>
<a name="579"><span class="lineNum">     579 </span>                :            :      * \brief transform rectangle from layer's CRS to output CRS</a>
<a name="580"><span class="lineNum">     580 </span>                :            :      * \see layerExtentToOutputExtent() if you want to transform a bounding box</a>
<a name="581"><span class="lineNum">     581 </span>                :            :      * \returns the transformed rectangle</a>
<a name="582"><span class="lineNum">     582 </span>                :            :      */</a>
<a name="583"><span class="lineNum">     583 </span>                :            :     QgsRectangle layerToMapCoordinates( const QgsMapLayer *layer, QgsRectangle rect ) const;</a>
<a name="584"><span class="lineNum">     584 </span>                :            : </a>
<a name="585"><span class="lineNum">     585 </span>                :            :     /**</a>
<a name="586"><span class="lineNum">     586 </span>                :            :      * \brief transform point coordinates from output CRS to layer's CRS</a>
<a name="587"><span class="lineNum">     587 </span>                :            :      * \returns the transformed point</a>
<a name="588"><span class="lineNum">     588 </span>                :            :      */</a>
<a name="589"><span class="lineNum">     589 </span>                :            :     QgsPointXY mapToLayerCoordinates( const QgsMapLayer *layer, QgsPointXY point ) const;</a>
<a name="590"><span class="lineNum">     590 </span>                :            : </a>
<a name="591"><span class="lineNum">     591 </span>                :            :     /**</a>
<a name="592"><span class="lineNum">     592 </span>                :            :      * \brief transform point coordinates from output CRS to layer's CRS</a>
<a name="593"><span class="lineNum">     593 </span>                :            :      * \returns the transformed point</a>
<a name="594"><span class="lineNum">     594 </span>                :            :      * \since QGIS 3.16</a>
<a name="595"><span class="lineNum">     595 </span>                :            :      */</a>
<a name="596"><span class="lineNum">     596 </span>                :            :     QgsPoint mapToLayerCoordinates( const QgsMapLayer *layer, const QgsPoint &amp;point ) const;</a>
<a name="597"><span class="lineNum">     597 </span>                :            : </a>
<a name="598"><span class="lineNum">     598 </span>                :            :     /**</a>
<a name="599"><span class="lineNum">     599 </span>                :            :      * \brief transform rectangle from output CRS to layer's CRS</a>
<a name="600"><span class="lineNum">     600 </span>                :            :      * \see outputExtentToLayerExtent() if you want to transform a bounding box</a>
<a name="601"><span class="lineNum">     601 </span>                :            :      * \returns the transformed rectangle</a>
<a name="602"><span class="lineNum">     602 </span>                :            :      */</a>
<a name="603"><span class="lineNum">     603 </span>                :            :     QgsRectangle mapToLayerCoordinates( const QgsMapLayer *layer, QgsRectangle rect ) const;</a>
<a name="604"><span class="lineNum">     604 </span>                :            : </a>
<a name="605"><span class="lineNum">     605 </span>                :            :     /**</a>
<a name="606"><span class="lineNum">     606 </span>                :            :      * Returns the coordinate transform from layer's CRS to destination CRS</a>
<a name="607"><span class="lineNum">     607 </span>                :            :      * \returns transform - may be invalid if the transform is not needed</a>
<a name="608"><span class="lineNum">     608 </span>                :            :      */</a>
<a name="609"><span class="lineNum">     609 </span>                :            :     QgsCoordinateTransform layerTransform( const QgsMapLayer *layer ) const;</a>
<a name="610"><span class="lineNum">     610 </span>                :            : </a>
<a name="611"><span class="lineNum">     611 </span>                :            :     /**</a>
<a name="612"><span class="lineNum">     612 </span>                :            :      * \brief Compute the extent such that its \a center is at the specified</a>
<a name="613"><span class="lineNum">     613 </span>                :            :      * position (mapped to the destinatonCrs) and the zoom factor corresponds</a>
<a name="614"><span class="lineNum">     614 </span>                :            :      * to the specified \a scale</a>
<a name="615"><span class="lineNum">     615 </span>                :            :      * \param center the center, in map coordinates</a>
<a name="616"><span class="lineNum">     616 </span>                :            :      * \param scale the desired zoom factor (the x part of 1:x)</a>
<a name="617"><span class="lineNum">     617 </span>                :            :      * \returns an extent which can be passed to QgsMapCanvas::setExtent</a>
<a name="618"><span class="lineNum">     618 </span>                :            :      * \see computeScaleForExtent()</a>
<a name="619"><span class="lineNum">     619 </span>                :            :      * \since QGIS 3.22</a>
<a name="620"><span class="lineNum">     620 </span>                :            :      */</a>
<a name="621"><span class="lineNum">     621 </span>                :            :     QgsRectangle computeExtentForScale( const QgsPointXY &amp;center, double scale ) const;</a>
<a name="622"><span class="lineNum">     622 </span>                :            : </a>
<a name="623"><span class="lineNum">     623 </span>                :            :     /**</a>
<a name="624"><span class="lineNum">     624 </span>                :            :      * \brief Compute the scale that corresponds to the specified \a extent</a>
<a name="625"><span class="lineNum">     625 </span>                :            :      * \param extent the extent, as passed to \see QgsMapCanvas::setExtent</a>
<a name="626"><span class="lineNum">     626 </span>                :            :      * \returns the scale denominator</a>
<a name="627"><span class="lineNum">     627 </span>                :            :      * \see computeExtentForScale()</a>
<a name="628"><span class="lineNum">     628 </span>                :            :      * \note This function does not consider any map rotation</a>
<a name="629"><span class="lineNum">     629 </span>                :            :      * \since QGIS 3.22</a>
<a name="630"><span class="lineNum">     630 </span>                :            :      */</a>
<a name="631"><span class="lineNum">     631 </span>                :            :     double computeScaleForExtent( const QgsRectangle &amp;extent ) const;</a>
<a name="632"><span class="lineNum">     632 </span>                :            : </a>
<a name="633"><span class="lineNum">     633 </span>                :            :     //! returns current extent of layer set</a>
<a name="634"><span class="lineNum">     634 </span>                :            :     QgsRectangle fullExtent() const;</a>
<a name="635"><span class="lineNum">     635 </span>                :            : </a>
<a name="636"><span class="lineNum">     636 </span>                :            :     /* serialization */</a>
<a name="637"><span class="lineNum">     637 </span>                :            : </a>
<a name="638"><span class="lineNum">     638 </span>                :            :     void readXml( QDomNode &amp;node );</a>
<a name="639"><span class="lineNum">     639 </span>                :            : </a>
<a name="640"><span class="lineNum">     640 </span>                :            :     void writeXml( QDomNode &amp;node, QDomDocument &amp;doc );</a>
<a name="641"><span class="lineNum">     641 </span>                :            : </a>
<a name="642"><span class="lineNum">     642 </span>                :            :     /**</a>
<a name="643"><span class="lineNum">     643 </span>                :            :      * Sets the segmentation tolerance applied when rendering curved geometries</a>
<a name="644"><span class="lineNum">     644 </span>                :            :      * \param tolerance the segmentation tolerance</a>
<a name="645"><span class="lineNum">     645 </span>                :            :     */</a>
<a name="646"><span class="lineNum">     646 </span>                :<span class="lineNoCov">          0 :     void setSegmentationTolerance( double tolerance ) { mSegmentationTolerance = tolerance; }</span></a>
<a name="647"><span class="lineNum">     647 </span>                :            :     //! Gets the segmentation tolerance applied when rendering curved geometries</a>
<a name="648"><span class="lineNum">     648 </span>                :<span class="lineNoCov">          0 :     double segmentationTolerance() const { return mSegmentationTolerance; }</span></a>
<a name="649"><span class="lineNum">     649 </span>                :            : </a>
<a name="650"><span class="lineNum">     650 </span>                :            :     /**</a>
<a name="651"><span class="lineNum">     651 </span>                :            :      * Sets segmentation tolerance type (maximum angle or maximum difference between curve and approximation)</a>
<a name="652"><span class="lineNum">     652 </span>                :            :      * \param type the segmentation tolerance typename</a>
<a name="653"><span class="lineNum">     653 </span>                :            :     */</a>
<a name="654"><span class="lineNum">     654 </span>                :<span class="lineNoCov">          0 :     void setSegmentationToleranceType( QgsAbstractGeometry::SegmentationToleranceType type ) { mSegmentationToleranceType = type; }</span></a>
<a name="655"><span class="lineNum">     655 </span>                :            :     //! Gets segmentation tolerance type (maximum angle or maximum difference between curve and approximation)</a>
<a name="656"><span class="lineNum">     656 </span>                :<span class="lineNoCov">          0 :     QgsAbstractGeometry::SegmentationToleranceType segmentationToleranceType() const { return mSegmentationToleranceType; }</span></a>
<a name="657"><span class="lineNum">     657 </span>                :            : </a>
<a name="658"><span class="lineNum">     658 </span>                :            :     /**</a>
<a name="659"><span class="lineNum">     659 </span>                :            :      * Sets the global configuration of the labeling engine.</a>
<a name="660"><span class="lineNum">     660 </span>                :            :      *</a>
<a name="661"><span class="lineNum">     661 </span>                :            :      * \note Calling this method will reset the textRenderFormat() to match the default</a>
<a name="662"><span class="lineNum">     662 </span>                :            :      * text render format from the label engine \a settings.</a>
<a name="663"><span class="lineNum">     663 </span>                :            :      *</a>
<a name="664"><span class="lineNum">     664 </span>                :            :      * \see labelingEngineSettings()</a>
<a name="665"><span class="lineNum">     665 </span>                :            :      *</a>
<a name="666"><span class="lineNum">     666 </span>                :            :      * \since QGIS 3.0</a>
<a name="667"><span class="lineNum">     667 </span>                :            :      */</a>
<a name="668"><span class="lineNum">     668 </span>                :<span class="lineNoCov">          0 :     void setLabelingEngineSettings( const QgsLabelingEngineSettings &amp;settings )</span></a>
<a name="669"><span class="lineNum">     669 </span>                :            :     {</a>
<a name="670"><span class="lineNum">     670 </span>                :<span class="lineNoCov">          0 :       mLabelingEngineSettings = settings;</span></a>
<a name="671"><span class="lineNum">     671 </span>                :<span class="lineNoCov">          0 :       mTextRenderFormat = settings.defaultTextRenderFormat();</span></a>
<a name="672"><span class="lineNum">     672 </span>                :<span class="lineNoCov">          0 :     }</span></a>
<a name="673"><span class="lineNum">     673 </span>                :            : </a>
<a name="674"><span class="lineNum">     674 </span>                :            :     /**</a>
<a name="675"><span class="lineNum">     675 </span>                :            :      * Returns the global configuration of the labeling engine.</a>
<a name="676"><span class="lineNum">     676 </span>                :            :      *</a>
<a name="677"><span class="lineNum">     677 </span>                :            :      * \see setLabelingEngineSettings()</a>
<a name="678"><span class="lineNum">     678 </span>                :            :      *</a>
<a name="679"><span class="lineNum">     679 </span>                :            :      * \since QGIS 3.0</a>
<a name="680"><span class="lineNum">     680 </span>                :            :      */</a>
<a name="681"><span class="lineNum">     681 </span>                :<span class="lineNoCov">          0 :     const QgsLabelingEngineSettings &amp;labelingEngineSettings() const { return mLabelingEngineSettings; }</span></a>
<a name="682"><span class="lineNum">     682 </span>                :            : </a>
<a name="683"><span class="lineNum">     683 </span>                :            :     /**</a>
<a name="684"><span class="lineNum">     684 </span>                :            :      * Returns the label boundary geometry, which restricts where in the rendered map labels are permitted to be</a>
<a name="685"><span class="lineNum">     685 </span>                :            :      * placed. By default this is a null geometry, which indicates that labels can be placed anywhere within</a>
<a name="686"><span class="lineNum">     686 </span>                :            :      * the map's visiblePolygon().</a>
<a name="687"><span class="lineNum">     687 </span>                :            :      *</a>
<a name="688"><span class="lineNum">     688 </span>                :            :      * The geometry is specified using the map's destinationCrs().</a>
<a name="689"><span class="lineNum">     689 </span>                :            :      *</a>
<a name="690"><span class="lineNum">     690 </span>                :            :      * \see setLabelBoundaryGeometry()</a>
<a name="691"><span class="lineNum">     691 </span>                :            :      * \see labelBlockingRegions()</a>
<a name="692"><span class="lineNum">     692 </span>                :            :      * \since QGIS 3.6</a>
<a name="693"><span class="lineNum">     693 </span>                :            :      */</a>
<a name="694"><span class="lineNum">     694 </span>                :            :     QgsGeometry labelBoundaryGeometry() const;</a>
<a name="695"><span class="lineNum">     695 </span>                :            : </a>
<a name="696"><span class="lineNum">     696 </span>                :            :     /**</a>
<a name="697"><span class="lineNum">     697 </span>                :            :      * Sets the label \a boundary geometry, which restricts where in the rendered map labels are permitted to be</a>
<a name="698"><span class="lineNum">     698 </span>                :            :      * placed.</a>
<a name="699"><span class="lineNum">     699 </span>                :            :      *</a>
<a name="700"><span class="lineNum">     700 </span>                :            :      * A null \a boundary geometry (the default) indicates that labels can be placed anywhere within</a>
<a name="701"><span class="lineNum">     701 </span>                :            :      * the map's visiblePolygon().</a>
<a name="702"><span class="lineNum">     702 </span>                :            :      *</a>
<a name="703"><span class="lineNum">     703 </span>                :            :      * The geometry is specified using the map's destinationCrs().</a>
<a name="704"><span class="lineNum">     704 </span>                :            :      *</a>
<a name="705"><span class="lineNum">     705 </span>                :            :      * \see labelBoundaryGeometry()</a>
<a name="706"><span class="lineNum">     706 </span>                :            :      * \see setLabelBlockingRegions()</a>
<a name="707"><span class="lineNum">     707 </span>                :            :      * \since QGIS 3.6</a>
<a name="708"><span class="lineNum">     708 </span>                :            :      */</a>
<a name="709"><span class="lineNum">     709 </span>                :            :     void setLabelBoundaryGeometry( const QgsGeometry &amp;boundary );</a>
<a name="710"><span class="lineNum">     710 </span>                :            : </a>
<a name="711"><span class="lineNum">     711 </span>                :            :     /**</a>
<a name="712"><span class="lineNum">     712 </span>                :            :      * Sets a list of \a regions to avoid placing labels within.</a>
<a name="713"><span class="lineNum">     713 </span>                :            :      * \see labelBlockingRegions()</a>
<a name="714"><span class="lineNum">     714 </span>                :            :      * \see setLabelBoundaryGeometry()</a>
<a name="715"><span class="lineNum">     715 </span>                :            :      * \since QGIS 3.6</a>
<a name="716"><span class="lineNum">     716 </span>                :            :      */</a>
<a name="717"><span class="lineNum">     717 </span>                :<span class="lineNoCov">          0 :     void setLabelBlockingRegions( const QList&lt; QgsLabelBlockingRegion &gt; &amp;regions ) { mLabelBlockingRegions = regions; }</span></a>
<a name="718"><span class="lineNum">     718 </span>                :            : </a>
<a name="719"><span class="lineNum">     719 </span>                :            :     /**</a>
<a name="720"><span class="lineNum">     720 </span>                :            :      * Returns the list of regions to avoid placing labels within.</a>
<a name="721"><span class="lineNum">     721 </span>                :            :      * \see setLabelBlockingRegions()</a>
<a name="722"><span class="lineNum">     722 </span>                :            :      * \see labelBoundaryGeometry()</a>
<a name="723"><span class="lineNum">     723 </span>                :            :      * \since QGIS 3.6</a>
<a name="724"><span class="lineNum">     724 </span>                :            :      */</a>
<a name="725"><span class="lineNum">     725 </span>                :<span class="lineNoCov">          0 :     QList&lt; QgsLabelBlockingRegion &gt; labelBlockingRegions() const { return mLabelBlockingRegions; }</span></a>
<a name="726"><span class="lineNum">     726 </span>                :            : </a>
<a name="727"><span class="lineNum">     727 </span>                :            :     /**</a>
<a name="728"><span class="lineNum">     728 </span>                :            :      * Adds a new clipping \a region to the map settings.</a>
<a name="729"><span class="lineNum">     729 </span>                :            :      *</a>
<a name="730"><span class="lineNum">     730 </span>                :            :      * \see clippingRegions()</a>
<a name="731"><span class="lineNum">     731 </span>                :            :      * \see setClippingRegions()</a>
<a name="732"><span class="lineNum">     732 </span>                :            :      *</a>
<a name="733"><span class="lineNum">     733 </span>                :            :      * \since QGIS 3.16</a>
<a name="734"><span class="lineNum">     734 </span>                :            :      */</a>
<a name="735"><span class="lineNum">     735 </span>                :            :     void addClippingRegion( const QgsMapClippingRegion &amp;region );</a>
<a name="736"><span class="lineNum">     736 </span>                :            : </a>
<a name="737"><span class="lineNum">     737 </span>                :            :     /**</a>
<a name="738"><span class="lineNum">     738 </span>                :            :      * Sets the list of clipping \a regions to apply to the map.</a>
<a name="739"><span class="lineNum">     739 </span>                :            :      *</a>
<a name="740"><span class="lineNum">     740 </span>                :            :      * \see addClippingRegion()</a>
<a name="741"><span class="lineNum">     741 </span>                :            :      * \see clippingRegions()</a>
<a name="742"><span class="lineNum">     742 </span>                :            :      *</a>
<a name="743"><span class="lineNum">     743 </span>                :            :      * \since QGIS 3.16</a>
<a name="744"><span class="lineNum">     744 </span>                :            :      */</a>
<a name="745"><span class="lineNum">     745 </span>                :            :     void setClippingRegions( const QList&lt; QgsMapClippingRegion &gt; &amp;regions );</a>
<a name="746"><span class="lineNum">     746 </span>                :            : </a>
<a name="747"><span class="lineNum">     747 </span>                :            :     /**</a>
<a name="748"><span class="lineNum">     748 </span>                :            :      * Returns the list of clipping regions to apply to the map.</a>
<a name="749"><span class="lineNum">     749 </span>                :            :      *</a>
<a name="750"><span class="lineNum">     750 </span>                :            :      * \see addClippingRegion()</a>
<a name="751"><span class="lineNum">     751 </span>                :            :      * \see setClippingRegions()</a>
<a name="752"><span class="lineNum">     752 </span>                :            :      *</a>
<a name="753"><span class="lineNum">     753 </span>                :            :      * \since QGIS 3.16</a>
<a name="754"><span class="lineNum">     754 </span>                :            :      */</a>
<a name="755"><span class="lineNum">     755 </span>                :            :     QList&lt; QgsMapClippingRegion &gt; clippingRegions() const;</a>
<a name="756"><span class="lineNum">     756 </span>                :            : </a>
<a name="757"><span class="lineNum">     757 </span>                :            :     /**</a>
<a name="758"><span class="lineNum">     758 </span>                :            :      * Sets the simplification setting to use when rendering vector layers.</a>
<a name="759"><span class="lineNum">     759 </span>                :            :      *</a>
<a name="760"><span class="lineNum">     760 </span>                :            :      * If the simplify \a method is enabled, it will override all other layer-specific simplification</a>
<a name="761"><span class="lineNum">     761 </span>                :            :      * settings and will apply to all vector layers rendered for the map.</a>
<a name="762"><span class="lineNum">     762 </span>                :            :      *</a>
<a name="763"><span class="lineNum">     763 </span>                :            :      * This can be used to specify global simplification methods to apply during map exports,</a>
<a name="764"><span class="lineNum">     764 </span>                :            :      * e.g. to allow vector layers to be simplified to an appropriate maximum level of detail</a>
<a name="765"><span class="lineNum">     765 </span>                :            :      * during PDF exports.</a>
<a name="766"><span class="lineNum">     766 </span>                :            :      *</a>
<a name="767"><span class="lineNum">     767 </span>                :            :      * The default is to use no global simplification, and fallback to individual layer's settings instead.</a>
<a name="768"><span class="lineNum">     768 </span>                :            :      *</a>
<a name="769"><span class="lineNum">     769 </span>                :            :      * \see simplifyMethod()</a>
<a name="770"><span class="lineNum">     770 </span>                :            :      *</a>
<a name="771"><span class="lineNum">     771 </span>                :            :      * \since QGIS 3.10</a>
<a name="772"><span class="lineNum">     772 </span>                :            :      */</a>
<a name="773"><span class="lineNum">     773 </span>                :<span class="lineNoCov">          0 :     void setSimplifyMethod( const QgsVectorSimplifyMethod &amp;method ) { mSimplifyMethod = method; }</span></a>
<a name="774"><span class="lineNum">     774 </span>                :            : </a>
<a name="775"><span class="lineNum">     775 </span>                :            :     /**</a>
<a name="776"><span class="lineNum">     776 </span>                :            :      * Returns the simplification settings to use when rendering vector layers.</a>
<a name="777"><span class="lineNum">     777 </span>                :            :      *</a>
<a name="778"><span class="lineNum">     778 </span>                :            :      * If enabled, it will override all other layer-specific simplification</a>
<a name="779"><span class="lineNum">     779 </span>                :            :      * settings and will apply to all vector layers rendered for the map.</a>
<a name="780"><span class="lineNum">     780 </span>                :            :      *</a>
<a name="781"><span class="lineNum">     781 </span>                :            :      * The default is to use no global simplification, and fallback to individual layer's settings instead.</a>
<a name="782"><span class="lineNum">     782 </span>                :            :      *</a>
<a name="783"><span class="lineNum">     783 </span>                :            :      * \see setSimplifyMethod()</a>
<a name="784"><span class="lineNum">     784 </span>                :            :      * \since QGIS 3.10</a>
<a name="785"><span class="lineNum">     785 </span>                :            :      */</a>
<a name="786"><span class="lineNum">     786 </span>                :<span class="lineNoCov">          0 :     const QgsVectorSimplifyMethod &amp;simplifyMethod() const { return mSimplifyMethod; }</span></a>
<a name="787"><span class="lineNum">     787 </span>                :            : </a>
<a name="788"><span class="lineNum">     788 </span>                :            :     /**</a>
<a name="789"><span class="lineNum">     789 </span>                :            :      * Adds a rendered feature \a handler to use while rendering the map settings.</a>
<a name="790"><span class="lineNum">     790 </span>                :            :      *</a>
<a name="791"><span class="lineNum">     791 </span>                :            :      * Ownership of \a handler is NOT transferred, and it is the caller's responsibility to ensure</a>
<a name="792"><span class="lineNum">     792 </span>                :            :      * that the handler exists for the lifetime of the map render job.</a>
<a name="793"><span class="lineNum">     793 </span>                :            :      *</a>
<a name="794"><span class="lineNum">     794 </span>                :            :      * \see renderedFeatureHandlers()</a>
<a name="795"><span class="lineNum">     795 </span>                :            :      * \since QGIS 3.10</a>
<a name="796"><span class="lineNum">     796 </span>                :            :      */</a>
<a name="797"><span class="lineNum">     797 </span>                :            :     void addRenderedFeatureHandler( QgsRenderedFeatureHandlerInterface *handler );</a>
<a name="798"><span class="lineNum">     798 </span>                :            : </a>
<a name="799"><span class="lineNum">     799 </span>                :            :     /**</a>
<a name="800"><span class="lineNum">     800 </span>                :            :      * Returns the list of rendered feature handlers to use while rendering the map settings.</a>
<a name="801"><span class="lineNum">     801 </span>                :            :      * \see addRenderedFeatureHandler()</a>
<a name="802"><span class="lineNum">     802 </span>                :            :      * \since QGIS 3.10</a>
<a name="803"><span class="lineNum">     803 </span>                :            :      */</a>
<a name="804"><span class="lineNum">     804 </span>                :            :     QList&lt; QgsRenderedFeatureHandlerInterface * &gt; renderedFeatureHandlers() const;</a>
<a name="805"><span class="lineNum">     805 </span>                :            : </a>
<a name="806"><span class="lineNum">     806 </span>                :            :     /**</a>
<a name="807"><span class="lineNum">     807 </span>                :            :      * Returns the range of z-values which will be visible in the map.</a>
<a name="808"><span class="lineNum">     808 </span>                :            :      *</a>
<a name="809"><span class="lineNum">     809 </span>                :            :      * \see setZRange()</a>
<a name="810"><span class="lineNum">     810 </span>                :            :      * \since QGIS 3.18</a>
<a name="811"><span class="lineNum">     811 </span>                :            :      */</a>
<a name="812"><span class="lineNum">     812 </span>                :            :     QgsDoubleRange zRange() const;</a>
<a name="813"><span class="lineNum">     813 </span>                :            : </a>
<a name="814"><span class="lineNum">     814 </span>                :            :     /**</a>
<a name="815"><span class="lineNum">     815 </span>                :            :      * Sets the \a range of z-values which will be visible in the map.</a>
<a name="816"><span class="lineNum">     816 </span>                :            :      *</a>
<a name="817"><span class="lineNum">     817 </span>                :            :      * \see zRange()</a>
<a name="818"><span class="lineNum">     818 </span>                :            :      * \since QGIS 3.18</a>
<a name="819"><span class="lineNum">     819 </span>                :            :      */</a>
<a name="820"><span class="lineNum">     820 </span>                :            :     void setZRange( const QgsDoubleRange &amp;range );</a>
<a name="821"><span class="lineNum">     821 </span>                :            : </a>
<a name="822"><span class="lineNum">     822 </span>                :            :   protected:</a>
<a name="823"><span class="lineNum">     823 </span>                :            : </a>
<a name="824"><span class="lineNum">     824 </span>                :            :     double mDpi = 96.0;</a>
<a name="825"><span class="lineNum">     825 </span>                :            :     double mDpiTarget = -1;</a>
<a name="826"><span class="lineNum">     826 </span>                :            : </a>
<a name="827"><span class="lineNum">     827 </span>                :            :     QSize mSize;</a>
<a name="828"><span class="lineNum">     828 </span>                :            :     float mDevicePixelRatio = 1.0;</a>
<a name="829"><span class="lineNum">     829 </span>                :            : </a>
<a name="830"><span class="lineNum">     830 </span>                :            :     QgsRectangle mExtent;</a>
<a name="831"><span class="lineNum">     831 </span>                :            :     double mExtentBuffer = 0.0;</a>
<a name="832"><span class="lineNum">     832 </span>                :            : </a>
<a name="833"><span class="lineNum">     833 </span>                :            :     double mRotation = 0.0;</a>
<a name="834"><span class="lineNum">     834 </span>                :            :     double mMagnificationFactor = 1.0;</a>
<a name="835"><span class="lineNum">     835 </span>                :            : </a>
<a name="836"><span class="lineNum">     836 </span>                :            :     //! list of layers to be rendered (stored as weak pointers)</a>
<a name="837"><span class="lineNum">     837 </span>                :            :     QgsWeakMapLayerPointerList mLayers;</a>
<a name="838"><span class="lineNum">     838 </span>                :            :     QMap&lt;QString, QString&gt; mLayerStyleOverrides;</a>
<a name="839"><span class="lineNum">     839 </span>                :            :     QString mCustomRenderFlags;</a>
<a name="840"><span class="lineNum">     840 </span>                :            :     QVariantMap mCustomRenderingFlags;</a>
<a name="841"><span class="lineNum">     841 </span>                :            :     QgsExpressionContext mExpressionContext;</a>
<a name="842"><span class="lineNum">     842 </span>                :            : </a>
<a name="843"><span class="lineNum">     843 </span>                :            :     QgsCoordinateReferenceSystem mDestCRS;</a>
<a name="844"><span class="lineNum">     844 </span>                :            :     //! ellipsoid acronym (from table tbl_ellipsoids)</a>
<a name="845"><span class="lineNum">     845 </span>                :            :     QString mEllipsoid;</a>
<a name="846"><span class="lineNum">     846 </span>                :            : </a>
<a name="847"><span class="lineNum">     847 </span>                :            :     QColor mBackgroundColor;</a>
<a name="848"><span class="lineNum">     848 </span>                :            :     QColor mSelectionColor;</a>
<a name="849"><span class="lineNum">     849 </span>                :            : </a>
<a name="850"><span class="lineNum">     850 </span>                :            :     Flags mFlags;</a>
<a name="851"><span class="lineNum">     851 </span>                :            : </a>
<a name="852"><span class="lineNum">     852 </span>                :            :     QImage::Format mImageFormat = QImage::Format_ARGB32_Premultiplied;</a>
<a name="853"><span class="lineNum">     853 </span>                :            : </a>
<a name="854"><span class="lineNum">     854 </span>                :            :     double mSegmentationTolerance;</a>
<a name="855"><span class="lineNum">     855 </span>                :            :     QgsAbstractGeometry::SegmentationToleranceType mSegmentationToleranceType = QgsAbstractGeometry::MaximumAngle;</a>
<a name="856"><span class="lineNum">     856 </span>                :            : </a>
<a name="857"><span class="lineNum">     857 </span>                :            :     QgsLabelingEngineSettings mLabelingEngineSettings;</a>
<a name="858"><span class="lineNum">     858 </span>                :            : </a>
<a name="859"><span class="lineNum">     859 </span>                :            :     // derived properties</a>
<a name="860"><span class="lineNum">     860 </span>                :            :     //! Whether the actual settings are valid (set in updateDerived())</a>
<a name="861"><span class="lineNum">     861 </span>                :            :     bool mValid = false;</a>
<a name="862"><span class="lineNum">     862 </span>                :            :     //! Extent with some additional white space that matches the output aspect ratio</a>
<a name="863"><span class="lineNum">     863 </span>                :            :     QgsRectangle mVisibleExtent;</a>
<a name="864"><span class="lineNum">     864 </span>                :            :     double mMapUnitsPerPixel = 1;</a>
<a name="865"><span class="lineNum">     865 </span>                :            :     double mScale = 1;</a>
<a name="866"><span class="lineNum">     866 </span>                :            : </a>
<a name="867"><span class="lineNum">     867 </span>                :            :     // utiity stuff</a>
<a name="868"><span class="lineNum">     868 </span>                :            :     QgsScaleCalculator mScaleCalculator;</a>
<a name="869"><span class="lineNum">     869 </span>                :            :     QgsMapToPixel mMapToPixel;</a>
<a name="870"><span class="lineNum">     870 </span>                :            : </a>
<a name="871"><span class="lineNum">     871 </span>                :            :     QgsCoordinateTransformContext mTransformContext;</a>
<a name="872"><span class="lineNum">     872 </span>                :            : </a>
<a name="873"><span class="lineNum">     873 </span>                :            :     QgsPathResolver mPathResolver;</a>
<a name="874"><span class="lineNum">     874 </span>                :            : </a>
<a name="875"><span class="lineNum">     875 </span>                :            :     QgsRenderContext::TextRenderFormat mTextRenderFormat = QgsRenderContext::TextFormatAlwaysOutlines;</a>
<a name="876"><span class="lineNum">     876 </span>                :            : </a>
<a name="877"><span class="lineNum">     877 </span>                :            :     QgsGeometry mLabelBoundaryGeometry;</a>
<a name="878"><span class="lineNum">     878 </span>                :            : </a>
<a name="879"><span class="lineNum">     879 </span>                :            :     QgsVectorSimplifyMethod mSimplifyMethod;</a>
<a name="880"><span class="lineNum">     880 </span>                :            : </a>
<a name="881"><span class="lineNum">     881 </span>                :            : #ifdef QGISDEBUG</a>
<a name="882"><span class="lineNum">     882 </span>                :            :     bool mHasTransformContext = false;</a>
<a name="883"><span class="lineNum">     883 </span>                :            : #endif</a>
<a name="884"><span class="lineNum">     884 </span>                :            : </a>
<a name="885"><span class="lineNum">     885 </span>                :            :     void updateDerived();</a>
<a name="886"><span class="lineNum">     886 </span>                :            : </a>
<a name="887"><span class="lineNum">     887 </span>                :            :   private:</a>
<a name="888"><span class="lineNum">     888 </span>                :            : </a>
<a name="889"><span class="lineNum">     889 </span>                :            :     QList&lt; QgsLabelBlockingRegion &gt; mLabelBlockingRegions;</a>
<a name="890"><span class="lineNum">     890 </span>                :            :     QList&lt; QgsMapClippingRegion &gt; mClippingRegions;</a>
<a name="891"><span class="lineNum">     891 </span>                :            :     QList&lt; QgsRenderedFeatureHandlerInterface * &gt; mRenderedFeatureHandlers;</a>
<a name="892"><span class="lineNum">     892 </span>                :            : </a>
<a name="893"><span class="lineNum">     893 </span>                :            :     QgsDoubleRange mZRange;</a>
<a name="894"><span class="lineNum">     894 </span>                :            : </a>
<a name="895"><span class="lineNum">     895 </span>                :            : };</a>
<a name="896"><span class="lineNum">     896 </span>                :            : </a>
<a name="897"><span class="lineNum">     897 </span>                :<span class="lineCov">          6 : Q_DECLARE_OPERATORS_FOR_FLAGS( QgsMapSettings::Flags )</span></a>
<a name="898"><span class="lineNum">     898 </span>                :            : </a>
<a name="899"><span class="lineNum">     899 </span>                :            : </a>
<a name="900"><span class="lineNum">     900 </span>                :            : #endif // QGSMAPSETTINGS_H</a>
</pre>
      </td>
    </tr>
  </table>
  <br>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="ruler"><img src="../glass.png" width=3 height=3 alt=""></td></tr>
    <tr><td class="versionInfo">Generated by: <a href="http://ltp.sourceforge.net/coverage/lcov.php" target="_parent">LCOV version 1.15</a></td></tr>
  </table>
  <br>

</body>
</html>
