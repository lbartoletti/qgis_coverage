<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>LCOV - coverage.info.cleaned - core/qgsfeaturerequest.h</title>
  <link rel="stylesheet" type="text/css" href="../gcov.css">
</head>

<body>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="title">LCOV - code coverage report</td></tr>
    <tr><td class="ruler"><img src="../glass.png" width=3 height=3 alt=""></td></tr>

    <tr>
      <td width="100%">
        <table cellpadding=1 border=0 width="100%">
          <tr>
            <td width="10%" class="headerItem">Current view:</td>
            <td width="35%" class="headerValue"><a href="../index.html">top level</a> - <a href="index.html">core</a> - qgsfeaturerequest.h<span style="font-size: 80%;"> (source / <a href="qgsfeaturerequest.h.func-sort-c.html">functions</a>)</span></td>
            <td width="5%"></td>
            <td width="15%"></td>
            <td width="10%" class="headerCovTableHead">Hit</td>
            <td width="10%" class="headerCovTableHead">Total</td>
            <td width="15%" class="headerCovTableHead">Coverage</td>
          </tr>
          <tr>
            <td class="headerItem">Test:</td>
            <td class="headerValue">coverage.info.cleaned</td>
            <td></td>
            <td class="headerItem">Lines:</td>
            <td class="headerCovTableEntry">11</td>
            <td class="headerCovTableEntry">20</td>
            <td class="headerCovTableEntryLo">55.0 %</td>
          </tr>
          <tr>
            <td class="headerItem">Date:</td>
            <td class="headerValue">2021-10-13 17:24:53</td>
            <td></td>
            <td class="headerItem">Functions:</td>
            <td class="headerCovTableEntry">0</td>
            <td class="headerCovTableEntry">0</td>
            <td class="headerCovTableEntryHi">-</td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td class="headerItem">Branches:</td>
            <td class="headerCovTableEntry">0</td>
            <td class="headerCovTableEntry">0</td>
            <td class="headerCovTableEntryHi">-</td>
          </tr>
          <tr><td><img src="../glass.png" width=3 height=3 alt=""></td></tr>
        </table>
      </td>
    </tr>

    <tr><td class="ruler"><img src="../glass.png" width=3 height=3 alt=""></td></tr>
  </table>

  <table cellpadding=0 cellspacing=0 border=0>
    <tr>
      <td><br></td>
    </tr>
    <tr>
      <td>
<pre class="sourceHeading">           Branch data     Line data    Source code</pre>
<pre class="source">
<a name="1"><span class="lineNum">       1 </span>                :            : /***************************************************************************</a>
<a name="2"><span class="lineNum">       2 </span>                :            :     qgsfeaturerequest.h</a>
<a name="3"><span class="lineNum">       3 </span>                :            :     ---------------------</a>
<a name="4"><span class="lineNum">       4 </span>                :            :     begin                : Mai 2012</a>
<a name="5"><span class="lineNum">       5 </span>                :            :     copyright            : (C) 2012 by Martin Dobias</a>
<a name="6"><span class="lineNum">       6 </span>                :            :     email                : wonder dot sk at gmail dot com</a>
<a name="7"><span class="lineNum">       7 </span>                :            :  ***************************************************************************</a>
<a name="8"><span class="lineNum">       8 </span>                :            :  *                                                                         *</a>
<a name="9"><span class="lineNum">       9 </span>                :            :  *   This program is free software; you can redistribute it and/or modify  *</a>
<a name="10"><span class="lineNum">      10 </span>                :            :  *   it under the terms of the GNU General Public License as published by  *</a>
<a name="11"><span class="lineNum">      11 </span>                :            :  *   the Free Software Foundation; either version 2 of the License, or     *</a>
<a name="12"><span class="lineNum">      12 </span>                :            :  *   (at your option) any later version.                                   *</a>
<a name="13"><span class="lineNum">      13 </span>                :            :  *                                                                         *</a>
<a name="14"><span class="lineNum">      14 </span>                :            :  ***************************************************************************/</a>
<a name="15"><span class="lineNum">      15 </span>                :            : #ifndef QGSFEATUREREQUEST_H</a>
<a name="16"><span class="lineNum">      16 </span>                :            : #define QGSFEATUREREQUEST_H</a>
<a name="17"><span class="lineNum">      17 </span>                :            : </a>
<a name="18"><span class="lineNum">      18 </span>                :            : #include &quot;qgis_core.h&quot;</a>
<a name="19"><span class="lineNum">      19 </span>                :            : #include &quot;qgis_sip.h&quot;</a>
<a name="20"><span class="lineNum">      20 </span>                :            : #include &lt;QFlags&gt;</a>
<a name="21"><span class="lineNum">      21 </span>                :            : #include &lt;QList&gt;</a>
<a name="22"><span class="lineNum">      22 </span>                :            : #include &lt;memory&gt;</a>
<a name="23"><span class="lineNum">      23 </span>                :            : </a>
<a name="24"><span class="lineNum">      24 </span>                :            : #include &quot;qgis.h&quot;</a>
<a name="25"><span class="lineNum">      25 </span>                :            : #include &quot;qgsfeature.h&quot;</a>
<a name="26"><span class="lineNum">      26 </span>                :            : #include &quot;qgsrectangle.h&quot;</a>
<a name="27"><span class="lineNum">      27 </span>                :            : #include &quot;qgsexpression.h&quot;</a>
<a name="28"><span class="lineNum">      28 </span>                :            : #include &quot;qgsexpressioncontext.h&quot;</a>
<a name="29"><span class="lineNum">      29 </span>                :            : #include &quot;qgssimplifymethod.h&quot;</a>
<a name="30"><span class="lineNum">      30 </span>                :            : #include &quot;qgscoordinatetransformcontext.h&quot;</a>
<a name="31"><span class="lineNum">      31 </span>                :            : #include &quot;qgscoordinatereferencesystem.h&quot;</a>
<a name="32"><span class="lineNum">      32 </span>                :            : </a>
<a name="33"><span class="lineNum">      33 </span>                :            : </a>
<a name="34"><span class="lineNum">      34 </span>                :            : /**</a>
<a name="35"><span class="lineNum">      35 </span>                :            :  * \ingroup core</a>
<a name="36"><span class="lineNum">      36 </span>                :            :  * \brief This class wraps a request for features to a vector layer (or directly its vector data provider).</a>
<a name="37"><span class="lineNum">      37 </span>                :            :  *</a>
<a name="38"><span class="lineNum">      38 </span>                :            :  * The request may apply an attribute/ID filter to fetch only a particular subset of features. Currently supported filters:</a>
<a name="39"><span class="lineNum">      39 </span>                :            :  *</a>
<a name="40"><span class="lineNum">      40 </span>                :            :  * - no filter - all features are returned</a>
<a name="41"><span class="lineNum">      41 </span>                :            :  * - feature id - only feature that matches given feature id is returned</a>
<a name="42"><span class="lineNum">      42 </span>                :            :  * - feature ids - only features that match any of the given feature ids are returned</a>
<a name="43"><span class="lineNum">      43 </span>                :            :  * - filter expression - only features that match the given filter expression are returned</a>
<a name="44"><span class="lineNum">      44 </span>                :            :  *</a>
<a name="45"><span class="lineNum">      45 </span>                :            :  * Additionally a spatial filter can be set in combination with the attribute/ID filter. Supported</a>
<a name="46"><span class="lineNum">      46 </span>                :            :  * spatial filters are:</a>
<a name="47"><span class="lineNum">      47 </span>                :            :  *</a>
<a name="48"><span class="lineNum">      48 </span>                :            :  * - Qgis::SpatialFilterType::BoundingBox: Only features that intersect a given rectangle will be fetched. For the sake of speed, the intersection is often done only using feature's bounding box. There is a flag ExactIntersect that makes sure that only intersecting features will be returned.</a>
<a name="49"><span class="lineNum">      49 </span>                :            :  * - Qgis::SpatialFilterType::DistanceWithin: Only features within a specified distance of a reference geometry will be fetched.</a>
<a name="50"><span class="lineNum">      50 </span>                :            :  *</a>
<a name="51"><span class="lineNum">      51 </span>                :            :  * For efficiency, it is also possible to tell provider that some data is not required:</a>
<a name="52"><span class="lineNum">      52 </span>                :            :  *</a>
<a name="53"><span class="lineNum">      53 </span>                :            :  * - NoGeometry flag</a>
<a name="54"><span class="lineNum">      54 </span>                :            :  * - SubsetOfAttributes flag</a>
<a name="55"><span class="lineNum">      55 </span>                :            :  * - SimplifyMethod for geometries to fetch</a>
<a name="56"><span class="lineNum">      56 </span>                :            :  *</a>
<a name="57"><span class="lineNum">      57 </span>                :            :  * The options may be chained, e.g.:</a>
<a name="58"><span class="lineNum">      58 </span>                :            :  *</a>
<a name="59"><span class="lineNum">      59 </span>                :            :  * \code{.py}</a>
<a name="60"><span class="lineNum">      60 </span>                :            :  *   QgsFeatureRequest().setFilterRect(QgsRectangle(0,0,1,1)).setFlags(QgsFeatureRequest.ExactIntersect)</a>
<a name="61"><span class="lineNum">      61 </span>                :            :  * \endcode</a>
<a name="62"><span class="lineNum">      62 </span>                :            :  *</a>
<a name="63"><span class="lineNum">      63 </span>                :            :  * Examples:</a>
<a name="64"><span class="lineNum">      64 </span>                :            :  *</a>
<a name="65"><span class="lineNum">      65 </span>                :            :  * \code{.py}</a>
<a name="66"><span class="lineNum">      66 </span>                :            :  *   # fetch all features:</a>
<a name="67"><span class="lineNum">      67 </span>                :            :  *   QgsFeatureRequest()</a>
<a name="68"><span class="lineNum">      68 </span>                :            :  *   # fetch all features, only one attribute</a>
<a name="69"><span class="lineNum">      69 </span>                :            :  *   QgsFeatureRequest().setSubsetOfAttributes(['myfield'], layer.fields())</a>
<a name="70"><span class="lineNum">      70 </span>                :            :  *   # fetch all features, without geometries</a>
<a name="71"><span class="lineNum">      71 </span>                :            :  *   QgsFeatureRequest().setFlags(QgsFeatureRequest.NoGeometry)</a>
<a name="72"><span class="lineNum">      72 </span>                :            :  *   # fetch only features from particular extent</a>
<a name="73"><span class="lineNum">      73 </span>                :            :  *   QgsFeatureRequest().setFilterRect(QgsRectangle(0,0,1,1))</a>
<a name="74"><span class="lineNum">      74 </span>                :            :  *   # fetch only features from particular extent, where the 'type' attribute is equal to 'road':</a>
<a name="75"><span class="lineNum">      75 </span>                :            :  *   QgsFeatureRequest().setFilterRect(QgsRectangle(0,0,1,1)).setFilterExpression('&quot;type&quot;=\'road\'')</a>
<a name="76"><span class="lineNum">      76 </span>                :            :  *   # fetch only one feature</a>
<a name="77"><span class="lineNum">      77 </span>                :            :  *   QgsFeatureRequest().setFilterFid(45)</a>
<a name="78"><span class="lineNum">      78 </span>                :            :  *   # fetch features within 50 map units of a linestring geometry</a>
<a name="79"><span class="lineNum">      79 </span>                :            :  *   QgsFeatureRequest().setDistanceWithin(QgsGeometry.fromWkt('LineString(0 0, 10 0, 12 1)'), 50)</a>
<a name="80"><span class="lineNum">      80 </span>                :            :  * \endcode</a>
<a name="81"><span class="lineNum">      81 </span>                :            :  *</a>
<a name="82"><span class="lineNum">      82 </span>                :            :  */</a>
<a name="83"><span class="lineNum">      83 </span>                :            : class CORE_EXPORT QgsFeatureRequest</a>
<a name="84"><span class="lineNum">      84 </span>                :            : {</a>
<a name="85"><span class="lineNum">      85 </span>                :            :   public:</a>
<a name="86"><span class="lineNum">      86 </span>                :            :     enum Flag</a>
<a name="87"><span class="lineNum">      87 </span>                :            :     {</a>
<a name="88"><span class="lineNum">      88 </span>                :            :       NoFlags            = 0,</a>
<a name="89"><span class="lineNum">      89 </span>                :            :       NoGeometry         = 1,  //!&lt; Geometry is not required. It may still be returned if e.g. required for a filter condition.</a>
<a name="90"><span class="lineNum">      90 </span>                :            :       SubsetOfAttributes = 2,  //!&lt; Fetch only a subset of attributes (setSubsetOfAttributes sets this flag)</a>
<a name="91"><span class="lineNum">      91 </span>                :            :       ExactIntersect     = 4,   //!&lt; Use exact geometry intersection (slower) instead of bounding boxes</a>
<a name="92"><span class="lineNum">      92 </span>                :            :       IgnoreStaticNodesDuringExpressionCompilation = 8, //!&lt; If a feature request uses a filter expression which can be partially precalculated due to static nodes in the expression, setting this flag will prevent these precalculated values from being utilized during compilation of the filter for the backend provider. This flag significantly slows down feature requests and should be used for debugging purposes only. (Since QGIS 3.18)</a>
<a name="93"><span class="lineNum">      93 </span>                :            :       EmbeddedSymbols    = 16,  //!&lt; Retrieve any embedded feature symbology (since QGIS 3.20)</a>
<a name="94"><span class="lineNum">      94 </span>                :            :     };</a>
<a name="95"><span class="lineNum">      95 </span>                :            :     Q_DECLARE_FLAGS( Flags, Flag )</a>
<a name="96"><span class="lineNum">      96 </span>                :            : </a>
<a name="97"><span class="lineNum">      97 </span>                :            :     /**</a>
<a name="98"><span class="lineNum">      98 </span>                :            :      * Types of filters.</a>
<a name="99"><span class="lineNum">      99 </span>                :            :      */</a>
<a name="100"><span class="lineNum">     100 </span>                :            :     enum FilterType</a>
<a name="101"><span class="lineNum">     101 </span>                :            :     {</a>
<a name="102"><span class="lineNum">     102 </span>                :            :       FilterNone,       //!&lt; No filter is applied</a>
<a name="103"><span class="lineNum">     103 </span>                :            :       FilterFid,        //!&lt; Filter using feature ID</a>
<a name="104"><span class="lineNum">     104 </span>                :            :       FilterExpression, //!&lt; Filter using expression</a>
<a name="105"><span class="lineNum">     105 </span>                :            :       FilterFids        //!&lt; Filter using feature IDs</a>
<a name="106"><span class="lineNum">     106 </span>                :            :     };</a>
<a name="107"><span class="lineNum">     107 </span>                :            : </a>
<a name="108"><span class="lineNum">     108 </span>                :            :     //! Handling of features with invalid geometries</a>
<a name="109"><span class="lineNum">     109 </span>                :            :     enum InvalidGeometryCheck</a>
<a name="110"><span class="lineNum">     110 </span>                :            :     {</a>
<a name="111"><span class="lineNum">     111 </span>                :            :       GeometryNoCheck = 0, //!&lt; No invalid geometry checking</a>
<a name="112"><span class="lineNum">     112 </span>                :            :       GeometrySkipInvalid = 1, //!&lt; Skip any features with invalid geometry. This requires a slow geometry validity check for every feature.</a>
<a name="113"><span class="lineNum">     113 </span>                :            :       GeometryAbortOnInvalid = 2, //!&lt; Close iterator on encountering any features with invalid geometry. This requires a slow geometry validity check for every feature.</a>
<a name="114"><span class="lineNum">     114 </span>                :            :     };</a>
<a name="115"><span class="lineNum">     115 </span>                :            : </a>
<a name="116"><span class="lineNum">     116 </span>                :            :     /**</a>
<a name="117"><span class="lineNum">     117 </span>                :            :      * \ingroup core</a>
<a name="118"><span class="lineNum">     118 </span>                :            :      * \brief The OrderByClause class represents an order by clause for a QgsFeatureRequest.</a>
<a name="119"><span class="lineNum">     119 </span>                :            :      *</a>
<a name="120"><span class="lineNum">     120 </span>                :            :      * It can be a simple field or an expression. Multiple order by clauses can be added to</a>
<a name="121"><span class="lineNum">     121 </span>                :            :      * a QgsFeatureRequest to fine tune the behavior if a single field or expression is not</a>
<a name="122"><span class="lineNum">     122 </span>                :            :      * enough to completely specify the required behavior.</a>
<a name="123"><span class="lineNum">     123 </span>                :            :      *</a>
<a name="124"><span class="lineNum">     124 </span>                :            :      * If expression compilation is activated in the settings and the expression can be</a>
<a name="125"><span class="lineNum">     125 </span>                :            :      * translated for the provider in question, it will be evaluated on provider side.</a>
<a name="126"><span class="lineNum">     126 </span>                :            :      * If one of these two premises does not apply, the ordering will take place locally</a>
<a name="127"><span class="lineNum">     127 </span>                :            :      * which results in increased memory and CPU usage.</a>
<a name="128"><span class="lineNum">     128 </span>                :            :      *</a>
<a name="129"><span class="lineNum">     129 </span>                :            :      * If the ordering is done on strings, the order depends on the system's locale if the</a>
<a name="130"><span class="lineNum">     130 </span>                :            :      * local fallback implementation is used. The order depends on the server system's locale</a>
<a name="131"><span class="lineNum">     131 </span>                :            :      * and implementation if ordering is done on the server.</a>
<a name="132"><span class="lineNum">     132 </span>                :            :      *</a>
<a name="133"><span class="lineNum">     133 </span>                :            :      * In case the fallback code needs to be used, a limit set on the request will be respected</a>
<a name="134"><span class="lineNum">     134 </span>                :            :      * for the features returned by the iterator but internally all features will be requested</a>
<a name="135"><span class="lineNum">     135 </span>                :            :      * from the provider.</a>
<a name="136"><span class="lineNum">     136 </span>                :            :      *</a>
<a name="137"><span class="lineNum">     137 </span>                :            :      * \since QGIS 2.14</a>
<a name="138"><span class="lineNum">     138 </span>                :            :      */</a>
<a name="139"><span class="lineNum">     139 </span>                :<span class="lineNoCov">          0 :     class CORE_EXPORT OrderByClause</span></a>
<a name="140"><span class="lineNum">     140 </span>                :            :     {</a>
<a name="141"><span class="lineNum">     141 </span>                :            :       public:</a>
<a name="142"><span class="lineNum">     142 </span>                :            : </a>
<a name="143"><span class="lineNum">     143 </span>                :            :         /**</a>
<a name="144"><span class="lineNum">     144 </span>                :            :          * Creates a new OrderByClause for a QgsFeatureRequest</a>
<a name="145"><span class="lineNum">     145 </span>                :            :          *</a>
<a name="146"><span class="lineNum">     146 </span>                :            :          * \param expression The expression to use for ordering</a>
<a name="147"><span class="lineNum">     147 </span>                :            :          * \param ascending  If the order should be ascending (1,2,3) or descending (3,2,1)</a>
<a name="148"><span class="lineNum">     148 </span>                :            :          *                   If the order is ascending, by default nulls are last</a>
<a name="149"><span class="lineNum">     149 </span>                :            :          *                   If the order is descending, by default nulls are first</a>
<a name="150"><span class="lineNum">     150 </span>                :            :          */</a>
<a name="151"><span class="lineNum">     151 </span>                :            :         OrderByClause( const QString &amp;expression, bool ascending = true );</a>
<a name="152"><span class="lineNum">     152 </span>                :            : </a>
<a name="153"><span class="lineNum">     153 </span>                :            :         /**</a>
<a name="154"><span class="lineNum">     154 </span>                :            :          * Creates a new OrderByClause for a QgsFeatureRequest</a>
<a name="155"><span class="lineNum">     155 </span>                :            :          *</a>
<a name="156"><span class="lineNum">     156 </span>                :            :          * \param expression The expression to use for ordering</a>
<a name="157"><span class="lineNum">     157 </span>                :            :          * \param ascending  If the order should be ascending (1,2,3) or descending (3,2,1)</a>
<a name="158"><span class="lineNum">     158 </span>                :            :          * \param nullsfirst If TRUE, NULLS are at the beginning, if FALSE, NULLS are at the end</a>
<a name="159"><span class="lineNum">     159 </span>                :            :          */</a>
<a name="160"><span class="lineNum">     160 </span>                :            :         OrderByClause( const QString &amp;expression, bool ascending, bool nullsfirst );</a>
<a name="161"><span class="lineNum">     161 </span>                :            : </a>
<a name="162"><span class="lineNum">     162 </span>                :            :         /**</a>
<a name="163"><span class="lineNum">     163 </span>                :            :          * Creates a new OrderByClause for a QgsFeatureRequest</a>
<a name="164"><span class="lineNum">     164 </span>                :            :          *</a>
<a name="165"><span class="lineNum">     165 </span>                :            :          * \param expression The expression to use for ordering</a>
<a name="166"><span class="lineNum">     166 </span>                :            :          * \param ascending  If the order should be ascending (1,2,3) or descending (3,2,1)</a>
<a name="167"><span class="lineNum">     167 </span>                :            :          *                   If the order is ascending, by default nulls are last</a>
<a name="168"><span class="lineNum">     168 </span>                :            :          *                   If the order is descending, by default nulls are first</a>
<a name="169"><span class="lineNum">     169 </span>                :            :          */</a>
<a name="170"><span class="lineNum">     170 </span>                :            :         OrderByClause( const QgsExpression &amp;expression, bool ascending = true );</a>
<a name="171"><span class="lineNum">     171 </span>                :            : </a>
<a name="172"><span class="lineNum">     172 </span>                :            :         /**</a>
<a name="173"><span class="lineNum">     173 </span>                :            :          * Creates a new OrderByClause for a QgsFeatureRequest</a>
<a name="174"><span class="lineNum">     174 </span>                :            :          *</a>
<a name="175"><span class="lineNum">     175 </span>                :            :          * \param expression The expression to use for ordering</a>
<a name="176"><span class="lineNum">     176 </span>                :            :          * \param ascending  If the order should be ascending (1,2,3) or descending (3,2,1)</a>
<a name="177"><span class="lineNum">     177 </span>                :            :          * \param nullsfirst If TRUE, NULLS are at the beginning, if FALSE, NULLS are at the end</a>
<a name="178"><span class="lineNum">     178 </span>                :            :          */</a>
<a name="179"><span class="lineNum">     179 </span>                :            :         OrderByClause( const QgsExpression &amp;expression, bool ascending, bool nullsfirst );</a>
<a name="180"><span class="lineNum">     180 </span>                :            : </a>
<a name="181"><span class="lineNum">     181 </span>                :            :         /**</a>
<a name="182"><span class="lineNum">     182 </span>                :            :          * The expression</a>
<a name="183"><span class="lineNum">     183 </span>                :            :          * \returns the expression</a>
<a name="184"><span class="lineNum">     184 </span>                :            :          */</a>
<a name="185"><span class="lineNum">     185 </span>                :            :         QgsExpression expression() const;</a>
<a name="186"><span class="lineNum">     186 </span>                :            : </a>
<a name="187"><span class="lineNum">     187 </span>                :            :         /**</a>
<a name="188"><span class="lineNum">     188 </span>                :            :          * Prepare the expression with the given context.</a>
<a name="189"><span class="lineNum">     189 </span>                :            :          *</a>
<a name="190"><span class="lineNum">     190 </span>                :            :          * \see QgsExpression::prepare</a>
<a name="191"><span class="lineNum">     191 </span>                :            :          *</a>
<a name="192"><span class="lineNum">     192 </span>                :            :          * \since QGIS 3.0</a>
<a name="193"><span class="lineNum">     193 </span>                :            :          */</a>
<a name="194"><span class="lineNum">     194 </span>                :            :         bool prepare( QgsExpressionContext *context );</a>
<a name="195"><span class="lineNum">     195 </span>                :            : </a>
<a name="196"><span class="lineNum">     196 </span>                :            :         /**</a>
<a name="197"><span class="lineNum">     197 </span>                :            :          * Order ascending</a>
<a name="198"><span class="lineNum">     198 </span>                :            :          * \returns If ascending order is requested</a>
<a name="199"><span class="lineNum">     199 </span>                :            :          */</a>
<a name="200"><span class="lineNum">     200 </span>                :            :         bool ascending() const;</a>
<a name="201"><span class="lineNum">     201 </span>                :            : </a>
<a name="202"><span class="lineNum">     202 </span>                :            :         /**</a>
<a name="203"><span class="lineNum">     203 </span>                :            :          * Set if ascending order is requested</a>
<a name="204"><span class="lineNum">     204 </span>                :            :          */</a>
<a name="205"><span class="lineNum">     205 </span>                :            :         void setAscending( bool ascending );</a>
<a name="206"><span class="lineNum">     206 </span>                :            : </a>
<a name="207"><span class="lineNum">     207 </span>                :            :         /**</a>
<a name="208"><span class="lineNum">     208 </span>                :            :          * Set if NULLS should be returned first</a>
<a name="209"><span class="lineNum">     209 </span>                :            :          * \returns if NULLS should be returned first</a>
<a name="210"><span class="lineNum">     210 </span>                :            :          */</a>
<a name="211"><span class="lineNum">     211 </span>                :            :         bool nullsFirst() const;</a>
<a name="212"><span class="lineNum">     212 </span>                :            : </a>
<a name="213"><span class="lineNum">     213 </span>                :            :         /**</a>
<a name="214"><span class="lineNum">     214 </span>                :            :          * Set if NULLS should be returned first</a>
<a name="215"><span class="lineNum">     215 </span>                :            :          */</a>
<a name="216"><span class="lineNum">     216 </span>                :            :         void setNullsFirst( bool nullsFirst );</a>
<a name="217"><span class="lineNum">     217 </span>                :            : </a>
<a name="218"><span class="lineNum">     218 </span>                :            :         /**</a>
<a name="219"><span class="lineNum">     219 </span>                :            :          * Dumps the content to an SQL equivalent</a>
<a name="220"><span class="lineNum">     220 </span>                :            :          */</a>
<a name="221"><span class="lineNum">     221 </span>                :            :         QString dump() const;</a>
<a name="222"><span class="lineNum">     222 </span>                :            : </a>
<a name="223"><span class="lineNum">     223 </span>                :            :         // friend inline int qHash(const OrderByClause &amp;a) { return qHash(a.mExpression.expression()) ^ qHash(a.mAscending) ^ qHash( a.mNullsFirst); }</a>
<a name="224"><span class="lineNum">     224 </span>                :            : </a>
<a name="225"><span class="lineNum">     225 </span>                :            :       private:</a>
<a name="226"><span class="lineNum">     226 </span>                :            :         QgsExpression mExpression;</a>
<a name="227"><span class="lineNum">     227 </span>                :            :         bool mAscending;</a>
<a name="228"><span class="lineNum">     228 </span>                :            :         bool mNullsFirst;</a>
<a name="229"><span class="lineNum">     229 </span>                :            :     };</a>
<a name="230"><span class="lineNum">     230 </span>                :            : </a>
<a name="231"><span class="lineNum">     231 </span>                :            : </a>
<a name="232"><span class="lineNum">     232 </span>                :            :     /**</a>
<a name="233"><span class="lineNum">     233 </span>                :            :      * \ingroup core</a>
<a name="234"><span class="lineNum">     234 </span>                :            :      * \brief Represents a list of OrderByClauses, with the most important first and the least</a>
<a name="235"><span class="lineNum">     235 </span>                :            :      * important last.</a>
<a name="236"><span class="lineNum">     236 </span>                :            :      *</a>
<a name="237"><span class="lineNum">     237 </span>                :            :      * \since QGIS 2.14</a>
<a name="238"><span class="lineNum">     238 </span>                :            :      */</a>
<a name="239"><span class="lineNum">     239 </span>                :<span class="lineCov">       3028 :     class OrderBy : public QList&lt;QgsFeatureRequest::OrderByClause&gt;</span></a>
<a name="240"><span class="lineNum">     240 </span>                :            :     {</a>
<a name="241"><span class="lineNum">     241 </span>                :            :       public:</a>
<a name="242"><span class="lineNum">     242 </span>                :            : </a>
<a name="243"><span class="lineNum">     243 </span>                :            :         /**</a>
<a name="244"><span class="lineNum">     244 </span>                :            :          * Create a new empty order by</a>
<a name="245"><span class="lineNum">     245 </span>                :            :          */</a>
<a name="246"><span class="lineNum">     246 </span>                :            :         CORE_EXPORT OrderBy();</a>
<a name="247"><span class="lineNum">     247 </span>                :            : </a>
<a name="248"><span class="lineNum">     248 </span>                :            :         /**</a>
<a name="249"><span class="lineNum">     249 </span>                :            :          * Create a new order by from a list of clauses</a>
<a name="250"><span class="lineNum">     250 </span>                :            :          */</a>
<a name="251"><span class="lineNum">     251 </span>                :            :         CORE_EXPORT OrderBy( const QList&lt;QgsFeatureRequest::OrderByClause&gt; &amp;other );</a>
<a name="252"><span class="lineNum">     252 </span>                :            : </a>
<a name="253"><span class="lineNum">     253 </span>                :            :         /**</a>
<a name="254"><span class="lineNum">     254 </span>                :            :          * Gets a copy as a list of OrderByClauses</a>
<a name="255"><span class="lineNum">     255 </span>                :            :          *</a>
<a name="256"><span class="lineNum">     256 </span>                :            :          * This is only required in Python where the inheritance</a>
<a name="257"><span class="lineNum">     257 </span>                :            :          * is not properly propagated and this makes it usable.</a>
<a name="258"><span class="lineNum">     258 </span>                :            :          */</a>
<a name="259"><span class="lineNum">     259 </span>                :            :         QList&lt;QgsFeatureRequest::OrderByClause&gt; CORE_EXPORT list() const;</a>
<a name="260"><span class="lineNum">     260 </span>                :            : </a>
<a name="261"><span class="lineNum">     261 </span>                :            :         /**</a>
<a name="262"><span class="lineNum">     262 </span>                :            :          * Serialize to XML</a>
<a name="263"><span class="lineNum">     263 </span>                :            :          */</a>
<a name="264"><span class="lineNum">     264 </span>                :            :         void CORE_EXPORT save( QDomElement &amp;elem ) const;</a>
<a name="265"><span class="lineNum">     265 </span>                :            : </a>
<a name="266"><span class="lineNum">     266 </span>                :            :         /**</a>
<a name="267"><span class="lineNum">     267 </span>                :            :          * Deserialize from XML</a>
<a name="268"><span class="lineNum">     268 </span>                :            :          */</a>
<a name="269"><span class="lineNum">     269 </span>                :            :         void CORE_EXPORT load( const QDomElement &amp;elem );</a>
<a name="270"><span class="lineNum">     270 </span>                :            : </a>
<a name="271"><span class="lineNum">     271 </span>                :            :         /**</a>
<a name="272"><span class="lineNum">     272 </span>                :            :          * Returns a set of used attributes</a>
<a name="273"><span class="lineNum">     273 </span>                :            :          * \note The returned attributes names are NOT guaranteed to be valid.</a>
<a name="274"><span class="lineNum">     274 </span>                :            :          */</a>
<a name="275"><span class="lineNum">     275 </span>                :            :         QSet&lt;QString&gt; CORE_EXPORT usedAttributes() const;</a>
<a name="276"><span class="lineNum">     276 </span>                :            : </a>
<a name="277"><span class="lineNum">     277 </span>                :            :         /**</a>
<a name="278"><span class="lineNum">     278 </span>                :            :          * Returns a set of used, validated attribute indices</a>
<a name="279"><span class="lineNum">     279 </span>                :            :          * \since QGIS 3.8</a>
<a name="280"><span class="lineNum">     280 </span>                :            :          */</a>
<a name="281"><span class="lineNum">     281 </span>                :            :         QSet&lt;int&gt; CORE_EXPORT usedAttributeIndices( const QgsFields &amp;fields ) const;</a>
<a name="282"><span class="lineNum">     282 </span>                :            : </a>
<a name="283"><span class="lineNum">     283 </span>                :            :         /**</a>
<a name="284"><span class="lineNum">     284 </span>                :            :          * Dumps the content to an SQL equivalent syntax</a>
<a name="285"><span class="lineNum">     285 </span>                :            :          */</a>
<a name="286"><span class="lineNum">     286 </span>                :            :         QString CORE_EXPORT dump() const;</a>
<a name="287"><span class="lineNum">     287 </span>                :            :     };</a>
<a name="288"><span class="lineNum">     288 </span>                :            : </a>
<a name="289"><span class="lineNum">     289 </span>                :            :     /**</a>
<a name="290"><span class="lineNum">     290 </span>                :            :      * A special attribute that if set matches all attributes</a>
<a name="291"><span class="lineNum">     291 </span>                :            :      */</a>
<a name="292"><span class="lineNum">     292 </span>                :            :     static const QString ALL_ATTRIBUTES;</a>
<a name="293"><span class="lineNum">     293 </span>                :            : </a>
<a name="294"><span class="lineNum">     294 </span>                :            :     //! construct a default request: for all features get attributes and geometries</a>
<a name="295"><span class="lineNum">     295 </span>                :            :     QgsFeatureRequest();</a>
<a name="296"><span class="lineNum">     296 </span>                :            :     //! construct a request with feature ID filter</a>
<a name="297"><span class="lineNum">     297 </span>                :            :     explicit QgsFeatureRequest( QgsFeatureId fid );</a>
<a name="298"><span class="lineNum">     298 </span>                :            :     //! construct a request with feature ID filter</a>
<a name="299"><span class="lineNum">     299 </span>                :            :     explicit QgsFeatureRequest( const QgsFeatureIds &amp;fids );</a>
<a name="300"><span class="lineNum">     300 </span>                :            : </a>
<a name="301"><span class="lineNum">     301 </span>                :            :     /**</a>
<a name="302"><span class="lineNum">     302 </span>                :            :      * Construct a request with \a rectangle bounding box filter.</a>
<a name="303"><span class="lineNum">     303 </span>                :            :      *</a>
<a name="304"><span class="lineNum">     304 </span>                :            :      * When a destination CRS is set using setDestinationCrs(), \a rectangle</a>
<a name="305"><span class="lineNum">     305 </span>                :            :      * is expected to be in the same CRS as the destinationCrs(). Otherwise, \a rectangle</a>
<a name="306"><span class="lineNum">     306 </span>                :            :      * should use the same CRS as the source layer/provider.</a>
<a name="307"><span class="lineNum">     307 </span>                :            :      */</a>
<a name="308"><span class="lineNum">     308 </span>                :            :     explicit QgsFeatureRequest( const QgsRectangle &amp;rectangle );</a>
<a name="309"><span class="lineNum">     309 </span>                :            : </a>
<a name="310"><span class="lineNum">     310 </span>                :            :     //! construct a request with a filter expression</a>
<a name="311"><span class="lineNum">     311 </span>                :            :     explicit QgsFeatureRequest( const QgsExpression &amp;expr, const QgsExpressionContext &amp;context = QgsExpressionContext() );</a>
<a name="312"><span class="lineNum">     312 </span>                :            :     //! copy constructor</a>
<a name="313"><span class="lineNum">     313 </span>                :            :     QgsFeatureRequest( const QgsFeatureRequest &amp;rh );</a>
<a name="314"><span class="lineNum">     314 </span>                :            :     //! Assignment operator</a>
<a name="315"><span class="lineNum">     315 </span>                :            :     QgsFeatureRequest &amp;operator=( const QgsFeatureRequest &amp;rh );</a>
<a name="316"><span class="lineNum">     316 </span>                :            : </a>
<a name="317"><span class="lineNum">     317 </span>                :            :     ~QgsFeatureRequest();</a>
<a name="318"><span class="lineNum">     318 </span>                :            : </a>
<a name="319"><span class="lineNum">     319 </span>                :            :     /**</a>
<a name="320"><span class="lineNum">     320 </span>                :            :      * Returns the attribute/ID filter type which is currently set on this request.</a>
<a name="321"><span class="lineNum">     321 </span>                :            :      *</a>
<a name="322"><span class="lineNum">     322 </span>                :            :      * This type will automatically be set to the appropriate value whenever setFilterFid(),</a>
<a name="323"><span class="lineNum">     323 </span>                :            :      * setFilterFids(), setFilterExpression() or disableFilter() are called.</a>
<a name="324"><span class="lineNum">     324 </span>                :            :      *</a>
<a name="325"><span class="lineNum">     325 </span>                :            :      * \note A feature request may have both an attribute/ID filter AND a spatial filter</a>
<a name="326"><span class="lineNum">     326 </span>                :            :      * set. See spatialFilterType() to retrieve the spatial filter.</a>
<a name="327"><span class="lineNum">     327 </span>                :            :      *</a>
<a name="328"><span class="lineNum">     328 </span>                :            :      * \see spatialFilterType()</a>
<a name="329"><span class="lineNum">     329 </span>                :            :      */</a>
<a name="330"><span class="lineNum">     330 </span>                :<span class="lineCov">       9758 :     FilterType filterType() const { return mFilter; }</span></a>
<a name="331"><span class="lineNum">     331 </span>                :            : </a>
<a name="332"><span class="lineNum">     332 </span>                :            :     /**</a>
<a name="333"><span class="lineNum">     333 </span>                :            :      * Returns the spatial filter type which is currently set on this request.</a>
<a name="334"><span class="lineNum">     334 </span>                :            :      *</a>
<a name="335"><span class="lineNum">     335 </span>                :            :      * This type will automatically be set to the appropriate value whenever setFilterRect(),</a>
<a name="336"><span class="lineNum">     336 </span>                :            :      * or setDistanceWithin() are called.</a>
<a name="337"><span class="lineNum">     337 </span>                :            :      *</a>
<a name="338"><span class="lineNum">     338 </span>                :            :      * \note A feature request may have both an attribute/ID filter AND a spatial filter</a>
<a name="339"><span class="lineNum">     339 </span>                :            :      * set. See filterType() to retrieve the attribute/ID filter.</a>
<a name="340"><span class="lineNum">     340 </span>                :            :      *</a>
<a name="341"><span class="lineNum">     341 </span>                :            :      * \see filterType()</a>
<a name="342"><span class="lineNum">     342 </span>                :            :      * \since QGIS 3.22</a>
<a name="343"><span class="lineNum">     343 </span>                :            :      */</a>
<a name="344"><span class="lineNum">     344 </span>                :<span class="lineCov">       1652 :     Qgis::SpatialFilterType spatialFilterType() const { return mSpatialFilter; }</span></a>
<a name="345"><span class="lineNum">     345 </span>                :            : </a>
<a name="346"><span class="lineNum">     346 </span>                :            :     /**</a>
<a name="347"><span class="lineNum">     347 </span>                :            :      * Sets the \a rectangle from which features will be taken. An empty rectangle removes the filter.</a>
<a name="348"><span class="lineNum">     348 </span>                :            :      *</a>
<a name="349"><span class="lineNum">     349 </span>                :            :      * When a destination CRS is set using setDestinationCrs(), \a rectangle</a>
<a name="350"><span class="lineNum">     350 </span>                :            :      * is expected to be in the same CRS as the destinationCrs(). Otherwise, \a rectangle</a>
<a name="351"><span class="lineNum">     351 </span>                :            :      * should use the same CRS as the source layer/provider.</a>
<a name="352"><span class="lineNum">     352 </span>                :            :      *</a>
<a name="353"><span class="lineNum">     353 </span>                :            :      * Calling this method will automatically set spatialFilterType() to Qgis::SpatialFilterType::BoundingBox.</a>
<a name="354"><span class="lineNum">     354 </span>                :            :      * If \a rectangle is a null rectangle then spatialFilterType() will be reset to Qgis::SpatialFilterType::NoFilter.</a>
<a name="355"><span class="lineNum">     355 </span>                :            :      *</a>
<a name="356"><span class="lineNum">     356 </span>                :            :      * \see filterRect()</a>
<a name="357"><span class="lineNum">     357 </span>                :            :      */</a>
<a name="358"><span class="lineNum">     358 </span>                :            :     QgsFeatureRequest &amp;setFilterRect( const QgsRectangle &amp;rectangle );</a>
<a name="359"><span class="lineNum">     359 </span>                :            : </a>
<a name="360"><span class="lineNum">     360 </span>                :            :     /**</a>
<a name="361"><span class="lineNum">     361 </span>                :            :      * Returns the rectangle from which features will be taken. If the returned</a>
<a name="362"><span class="lineNum">     362 </span>                :            :      * rectangle is null, then no filter rectangle is set.</a>
<a name="363"><span class="lineNum">     363 </span>                :            :      *</a>
<a name="364"><span class="lineNum">     364 </span>                :            :      * If spatialFilterType() is Qgis::SpatialFilterType::BoundingBox then only</a>
<a name="365"><span class="lineNum">     365 </span>                :            :      * features from within this bounding box will be fetched. If spatialFilterType()</a>
<a name="366"><span class="lineNum">     366 </span>                :            :      * is Qgis::SpatialFilterType::DistanceWithin then the returned rectangle</a>
<a name="367"><span class="lineNum">     367 </span>                :            :      * represents the bounding box of the referenceGeometry() extended by distanceWithin().</a>
<a name="368"><span class="lineNum">     368 </span>                :            :      *</a>
<a name="369"><span class="lineNum">     369 </span>                :            :      * When a destination CRS is set using setDestinationCrs(), the rectangle</a>
<a name="370"><span class="lineNum">     370 </span>                :            :      * will be in the same CRS as the destinationCrs(). Otherwise, the rectangle</a>
<a name="371"><span class="lineNum">     371 </span>                :            :      * will use the same CRS as the source layer/provider.</a>
<a name="372"><span class="lineNum">     372 </span>                :            :      *</a>
<a name="373"><span class="lineNum">     373 </span>                :            :      * \see setFilterRect()</a>
<a name="374"><span class="lineNum">     374 </span>                :            :      */</a>
<a name="375"><span class="lineNum">     375 </span>                :            :     QgsRectangle filterRect() const;</a>
<a name="376"><span class="lineNum">     376 </span>                :            : </a>
<a name="377"><span class="lineNum">     377 </span>                :            :     /**</a>
<a name="378"><span class="lineNum">     378 </span>                :            :      * Sets a reference \a geometry and a maximum \a distance from this geometry to retrieve</a>
<a name="379"><span class="lineNum">     379 </span>                :            :      * features within.</a>
<a name="380"><span class="lineNum">     380 </span>                :            :      *</a>
<a name="381"><span class="lineNum">     381 </span>                :            :      * When a destination CRS is set using setDestinationCrs(), \a geometry</a>
<a name="382"><span class="lineNum">     382 </span>                :            :      * is expected to be in the same CRS as the destinationCrs() and \a distance is in</a>
<a name="383"><span class="lineNum">     383 </span>                :            :      * the spatial units of the destinationCrs(). Otherwise, \a geometry</a>
<a name="384"><span class="lineNum">     384 </span>                :            :      * should use the same CRS as the source layer/provider and \a distance</a>
<a name="385"><span class="lineNum">     385 </span>                :            :      * should use the spatial units as this same CRS.</a>
<a name="386"><span class="lineNum">     386 </span>                :            :      *</a>
<a name="387"><span class="lineNum">     387 </span>                :            :      * Calling this method will automatically set spatialFilterType() to Qgis::SpatialFilterType::DistanceWithin.</a>
<a name="388"><span class="lineNum">     388 </span>                :            :      *</a>
<a name="389"><span class="lineNum">     389 </span>                :            :      * \see filterRect()</a>
<a name="390"><span class="lineNum">     390 </span>                :            :      * \since QGIS 3.22</a>
<a name="391"><span class="lineNum">     391 </span>                :            :      */</a>
<a name="392"><span class="lineNum">     392 </span>                :            :     QgsFeatureRequest &amp;setDistanceWithin( const QgsGeometry &amp;geometry, double distance );</a>
<a name="393"><span class="lineNum">     393 </span>                :            : </a>
<a name="394"><span class="lineNum">     394 </span>                :            :     /**</a>
<a name="395"><span class="lineNum">     395 </span>                :            :      * Returns the reference geometry used for spatial filtering of features.</a>
<a name="396"><span class="lineNum">     396 </span>                :            :      *</a>
<a name="397"><span class="lineNum">     397 </span>                :            :      * When spatialFilterType() is Qgis::SpatialFilterType::DistanceWithin then only</a>
<a name="398"><span class="lineNum">     398 </span>                :            :      * features within distanceWithin() units of the reference geometry will be</a>
<a name="399"><span class="lineNum">     399 </span>                :            :      * fetched.</a>
<a name="400"><span class="lineNum">     400 </span>                :            :      *</a>
<a name="401"><span class="lineNum">     401 </span>                :            :      * When a destination CRS is set using setDestinationCrs(), the geometry</a>
<a name="402"><span class="lineNum">     402 </span>                :            :      * will be in the same CRS as the destinationCrs(). Otherwise, the geometry</a>
<a name="403"><span class="lineNum">     403 </span>                :            :      * will use the same CRS as the source layer/provider.</a>
<a name="404"><span class="lineNum">     404 </span>                :            :      *</a>
<a name="405"><span class="lineNum">     405 </span>                :            :      * \see setDistanceWithin()</a>
<a name="406"><span class="lineNum">     406 </span>                :            :      * \since QGIS 3.22</a>
<a name="407"><span class="lineNum">     407 </span>                :            :      */</a>
<a name="408"><span class="lineNum">     408 </span>                :<span class="lineNoCov">          0 :     QgsGeometry referenceGeometry() const { return mReferenceGeometry; }</span></a>
<a name="409"><span class="lineNum">     409 </span>                :            : </a>
<a name="410"><span class="lineNum">     410 </span>                :            :     /**</a>
<a name="411"><span class="lineNum">     411 </span>                :            :      * Returns the maximum distance from the referenceGeometry() of fetched</a>
<a name="412"><span class="lineNum">     412 </span>                :            :      * features, if spatialFilterType() is Qgis::SpatialFilterType::DistanceWithin.</a>
<a name="413"><span class="lineNum">     413 </span>                :            :      *</a>
<a name="414"><span class="lineNum">     414 </span>                :            :      * When a destination CRS is set using setDestinationCrs(), the distance</a>
<a name="415"><span class="lineNum">     415 </span>                :            :      * will be in the spatial units of destinationCrs(). Otherwise, the distance</a>
<a name="416"><span class="lineNum">     416 </span>                :            :      * will use the same units as the CRS of the source layer/provider.</a>
<a name="417"><span class="lineNum">     417 </span>                :            :      *</a>
<a name="418"><span class="lineNum">     418 </span>                :            :      * \see setDistanceWithin()</a>
<a name="419"><span class="lineNum">     419 </span>                :            :      * \since QGIS 3.22</a>
<a name="420"><span class="lineNum">     420 </span>                :            :      */</a>
<a name="421"><span class="lineNum">     421 </span>                :<span class="lineNoCov">          0 :     double distanceWithin() const { return mDistanceWithin; }</span></a>
<a name="422"><span class="lineNum">     422 </span>                :            : </a>
<a name="423"><span class="lineNum">     423 </span>                :            :     /**</a>
<a name="424"><span class="lineNum">     424 </span>                :            :      * Sets the feature ID that should be fetched.</a>
<a name="425"><span class="lineNum">     425 </span>                :            :      *</a>
<a name="426"><span class="lineNum">     426 </span>                :            :      * Calling this method will automatically set filterType() to QgsFeatureRequest::FilterFid.</a>
<a name="427"><span class="lineNum">     427 </span>                :            :      *</a>
<a name="428"><span class="lineNum">     428 </span>                :            :      * \see filterFid()</a>
<a name="429"><span class="lineNum">     429 </span>                :            :      * \see setFilterFids()</a>
<a name="430"><span class="lineNum">     430 </span>                :            :      */</a>
<a name="431"><span class="lineNum">     431 </span>                :            :     QgsFeatureRequest &amp;setFilterFid( QgsFeatureId fid );</a>
<a name="432"><span class="lineNum">     432 </span>                :            : </a>
<a name="433"><span class="lineNum">     433 </span>                :            :     /**</a>
<a name="434"><span class="lineNum">     434 </span>                :            :      * Returns the feature ID that should be fetched.</a>
<a name="435"><span class="lineNum">     435 </span>                :            :      *</a>
<a name="436"><span class="lineNum">     436 </span>                :            :      * \see setFilterFid()</a>
<a name="437"><span class="lineNum">     437 </span>                :            :      * \see filterFids()</a>
<a name="438"><span class="lineNum">     438 </span>                :            :      */</a>
<a name="439"><span class="lineNum">     439 </span>                :<span class="lineCov">         67 :     QgsFeatureId filterFid() const { return mFilterFid; }</span></a>
<a name="440"><span class="lineNum">     440 </span>                :            : </a>
<a name="441"><span class="lineNum">     441 </span>                :            :     /**</a>
<a name="442"><span class="lineNum">     442 </span>                :            :      * Sets the feature IDs that should be fetched.</a>
<a name="443"><span class="lineNum">     443 </span>                :            :      *</a>
<a name="444"><span class="lineNum">     444 </span>                :            :      * Calling this method will automatically set filterType() to QgsFeatureRequest::FilterFids.</a>
<a name="445"><span class="lineNum">     445 </span>                :            :      *</a>
<a name="446"><span class="lineNum">     446 </span>                :            :      * \see filterFids()</a>
<a name="447"><span class="lineNum">     447 </span>                :            :      * \see setFilterFid()</a>
<a name="448"><span class="lineNum">     448 </span>                :            :      */</a>
<a name="449"><span class="lineNum">     449 </span>                :            :     QgsFeatureRequest &amp;setFilterFids( const QgsFeatureIds &amp;fids );</a>
<a name="450"><span class="lineNum">     450 </span>                :            : </a>
<a name="451"><span class="lineNum">     451 </span>                :            :     /**</a>
<a name="452"><span class="lineNum">     452 </span>                :            :      * Returns the feature IDs that should be fetched.</a>
<a name="453"><span class="lineNum">     453 </span>                :            :      *</a>
<a name="454"><span class="lineNum">     454 </span>                :            :      * \see setFilterFids()</a>
<a name="455"><span class="lineNum">     455 </span>                :            :      * \see filterFid()</a>
<a name="456"><span class="lineNum">     456 </span>                :            :      */</a>
<a name="457"><span class="lineNum">     457 </span>                :<span class="lineCov">        297 :     const QgsFeatureIds &amp;filterFids() const { return mFilterFids; }</span></a>
<a name="458"><span class="lineNum">     458 </span>                :            : </a>
<a name="459"><span class="lineNum">     459 </span>                :            :     /**</a>
<a name="460"><span class="lineNum">     460 </span>                :            :      * Sets invalid geometry checking behavior.</a>
<a name="461"><span class="lineNum">     461 </span>                :            :      * \note Invalid geometry checking is not performed when retrieving features</a>
<a name="462"><span class="lineNum">     462 </span>                :            :      * directly from a QgsVectorDataProvider.</a>
<a name="463"><span class="lineNum">     463 </span>                :            :      * \see invalidGeometryCheck()</a>
<a name="464"><span class="lineNum">     464 </span>                :            :      * \since QGIS 3.0</a>
<a name="465"><span class="lineNum">     465 </span>                :            :      */</a>
<a name="466"><span class="lineNum">     466 </span>                :            :     QgsFeatureRequest &amp;setInvalidGeometryCheck( InvalidGeometryCheck check );</a>
<a name="467"><span class="lineNum">     467 </span>                :            : </a>
<a name="468"><span class="lineNum">     468 </span>                :            :     /**</a>
<a name="469"><span class="lineNum">     469 </span>                :            :      * Returns the invalid geometry checking behavior.</a>
<a name="470"><span class="lineNum">     470 </span>                :            :      * \see setInvalidGeometryCheck()</a>
<a name="471"><span class="lineNum">     471 </span>                :            :      * \since QGIS 3.0</a>
<a name="472"><span class="lineNum">     472 </span>                :            :      */</a>
<a name="473"><span class="lineNum">     473 </span>                :<span class="lineCov">       1134 :     InvalidGeometryCheck invalidGeometryCheck() const { return mInvalidGeometryFilter; }</span></a>
<a name="474"><span class="lineNum">     474 </span>                :            : </a>
<a name="475"><span class="lineNum">     475 </span>                :            :     /**</a>
<a name="476"><span class="lineNum">     476 </span>                :            :      * Sets a callback function to use when encountering an invalid geometry and</a>
<a name="477"><span class="lineNum">     477 </span>                :            :      * invalidGeometryCheck() is set to GeometryAbortOnInvalid or GeometrySkipInvalid. This function will be</a>
<a name="478"><span class="lineNum">     478 </span>                :            :      * called using the feature with invalid geometry as a parameter.</a>
<a name="479"><span class="lineNum">     479 </span>                :            :      * \see invalidGeometryCallback()</a>
<a name="480"><span class="lineNum">     480 </span>                :            :      * \since QGIS 3.0</a>
<a name="481"><span class="lineNum">     481 </span>                :            :      */</a>
<a name="482"><span class="lineNum">     482 </span>                :            : #ifndef SIP_RUN</a>
<a name="483"><span class="lineNum">     483 </span>                :            :     QgsFeatureRequest &amp;setInvalidGeometryCallback( const std::function&lt; void( const QgsFeature &amp; )&gt; &amp;callback );</a>
<a name="484"><span class="lineNum">     484 </span>                :            : #else</a>
<a name="485"><span class="lineNum">     485 </span>                :            :     QgsFeatureRequest &amp;setInvalidGeometryCallback( SIP_PYCALLABLE / AllowNone / );</a>
<a name="486"><span class="lineNum">     486 </span>                :            :     % MethodCode</a>
<a name="487"><span class="lineNum">     487 </span>                :            :     Py_BEGIN_ALLOW_THREADS</a>
<a name="488"><span class="lineNum">     488 </span>                :            : </a>
<a name="489"><span class="lineNum">     489 </span>                :            :     sipCpp-&gt;setInvalidGeometryCallback( [a0]( const QgsFeature &amp;arg )</a>
<a name="490"><span class="lineNum">     490 </span>                :            :     {</a>
<a name="491"><span class="lineNum">     491 </span>                :            :       SIP_BLOCK_THREADS</a>
<a name="492"><span class="lineNum">     492 </span>                :            :       Py_XDECREF( sipCallMethod( NULL, a0, &quot;D&quot;, &amp;arg, sipType_QgsFeature, NULL ) );</a>
<a name="493"><span class="lineNum">     493 </span>                :            :       SIP_UNBLOCK_THREADS</a>
<a name="494"><span class="lineNum">     494 </span>                :            :     } );</a>
<a name="495"><span class="lineNum">     495 </span>                :            : </a>
<a name="496"><span class="lineNum">     496 </span>                :            :     sipRes = sipCpp;</a>
<a name="497"><span class="lineNum">     497 </span>                :            : </a>
<a name="498"><span class="lineNum">     498 </span>                :            :     Py_END_ALLOW_THREADS</a>
<a name="499"><span class="lineNum">     499 </span>                :            :     % End</a>
<a name="500"><span class="lineNum">     500 </span>                :            : #endif</a>
<a name="501"><span class="lineNum">     501 </span>                :            : </a>
<a name="502"><span class="lineNum">     502 </span>                :            :     /**</a>
<a name="503"><span class="lineNum">     503 </span>                :            :      * Returns the callback function to use when encountering an invalid geometry and</a>
<a name="504"><span class="lineNum">     504 </span>                :            :      * invalidGeometryCheck() is set to GeometryAbortOnInvalid or GeometrySkipInvalid.</a>
<a name="505"><span class="lineNum">     505 </span>                :            :      * \note not available in Python bindings</a>
<a name="506"><span class="lineNum">     506 </span>                :            :      * \see setInvalidGeometryCallback()</a>
<a name="507"><span class="lineNum">     507 </span>                :            :      * \since QGIS 3.0</a>
<a name="508"><span class="lineNum">     508 </span>                :            :      */</a>
<a name="509"><span class="lineNum">     509 </span>                :<span class="lineNoCov">          0 :     std::function&lt; void( const QgsFeature &amp; ) &gt; invalidGeometryCallback() const { return mInvalidGeometryCallback; } SIP_SKIP</span></a>
<a name="510"><span class="lineNum">     510 </span>                :            : </a>
<a name="511"><span class="lineNum">     511 </span>                :            :     /**</a>
<a name="512"><span class="lineNum">     512 </span>                :            :      * Set the filter \a expression. {\see QgsExpression}</a>
<a name="513"><span class="lineNum">     513 </span>                :            :      * \param expression expression string</a>
<a name="514"><span class="lineNum">     514 </span>                :            :      *</a>
<a name="515"><span class="lineNum">     515 </span>                :            :      * Calling this method will automatically set filterType() to QgsFeatureRequest::FilterExpression.</a>
<a name="516"><span class="lineNum">     516 </span>                :            :      *</a>
<a name="517"><span class="lineNum">     517 </span>                :            :      * \see filterExpression()</a>
<a name="518"><span class="lineNum">     518 </span>                :            :      * \see setExpressionContext()</a>
<a name="519"><span class="lineNum">     519 </span>                :            :      */</a>
<a name="520"><span class="lineNum">     520 </span>                :            :     QgsFeatureRequest &amp;setFilterExpression( const QString &amp;expression );</a>
<a name="521"><span class="lineNum">     521 </span>                :            : </a>
<a name="522"><span class="lineNum">     522 </span>                :            :     /**</a>
<a name="523"><span class="lineNum">     523 </span>                :            :      * Returns the filter expression (if set).</a>
<a name="524"><span class="lineNum">     524 </span>                :            :      * \see setFilterExpression()</a>
<a name="525"><span class="lineNum">     525 </span>                :            :      * \see expressionContext()</a>
<a name="526"><span class="lineNum">     526 </span>                :            :      */</a>
<a name="527"><span class="lineNum">     527 </span>                :<span class="lineNoCov">          0 :     QgsExpression *filterExpression() const { return mFilterExpression.get(); }</span></a>
<a name="528"><span class="lineNum">     528 </span>                :            : </a>
<a name="529"><span class="lineNum">     529 </span>                :            :     /**</a>
<a name="530"><span class="lineNum">     530 </span>                :            :      * Modifies the existing filter expression to add an additional expression filter. The</a>
<a name="531"><span class="lineNum">     531 </span>                :            :      * filter expressions are combined using AND, so only features matching both</a>
<a name="532"><span class="lineNum">     532 </span>                :            :      * the existing expression and the additional expression will be returned.</a>
<a name="533"><span class="lineNum">     533 </span>                :            :      *</a>
<a name="534"><span class="lineNum">     534 </span>                :            :      * Calling this method will automatically set filterType() to QgsFeatureRequest::FilterExpression.</a>
<a name="535"><span class="lineNum">     535 </span>                :            :      *</a>
<a name="536"><span class="lineNum">     536 </span>                :            :      * \since QGIS 2.14</a>
<a name="537"><span class="lineNum">     537 </span>                :            :      */</a>
<a name="538"><span class="lineNum">     538 </span>                :            :     QgsFeatureRequest &amp;combineFilterExpression( const QString &amp;expression );</a>
<a name="539"><span class="lineNum">     539 </span>                :            : </a>
<a name="540"><span class="lineNum">     540 </span>                :            :     /**</a>
<a name="541"><span class="lineNum">     541 </span>                :            :      * Returns the expression context used to evaluate filter expressions.</a>
<a name="542"><span class="lineNum">     542 </span>                :            :      * \see setExpressionContext</a>
<a name="543"><span class="lineNum">     543 </span>                :            :      * \see filterExpression</a>
<a name="544"><span class="lineNum">     544 </span>                :            :      * \since QGIS 2.12</a>
<a name="545"><span class="lineNum">     545 </span>                :            :      */</a>
<a name="546"><span class="lineNum">     546 </span>                :<span class="lineNoCov">          0 :     QgsExpressionContext *expressionContext() { return &amp;mExpressionContext; }</span></a>
<a name="547"><span class="lineNum">     547 </span>                :            : </a>
<a name="548"><span class="lineNum">     548 </span>                :            :     /**</a>
<a name="549"><span class="lineNum">     549 </span>                :            :      * Sets the expression context used to evaluate filter expressions.</a>
<a name="550"><span class="lineNum">     550 </span>                :            :      * \see expressionContext</a>
<a name="551"><span class="lineNum">     551 </span>                :            :      * \see setFilterExpression</a>
<a name="552"><span class="lineNum">     552 </span>                :            :      * \since QGIS 2.12</a>
<a name="553"><span class="lineNum">     553 </span>                :            :      */</a>
<a name="554"><span class="lineNum">     554 </span>                :            :     QgsFeatureRequest &amp;setExpressionContext( const QgsExpressionContext &amp;context );</a>
<a name="555"><span class="lineNum">     555 </span>                :            : </a>
<a name="556"><span class="lineNum">     556 </span>                :            :     /**</a>
<a name="557"><span class="lineNum">     557 </span>                :            :      * Disables any attribute/ID filtering.</a>
<a name="558"><span class="lineNum">     558 </span>                :            :      *</a>
<a name="559"><span class="lineNum">     559 </span>                :            :      * Calling this method will automatically set filterType() to QgsFeatureRequest::FilterNone.</a>
<a name="560"><span class="lineNum">     560 </span>                :            :      *</a>
<a name="561"><span class="lineNum">     561 </span>                :            :      * \note Spatial filters will be left in place.</a>
<a name="562"><span class="lineNum">     562 </span>                :            :      *</a>
<a name="563"><span class="lineNum">     563 </span>                :            :      * \returns The object the method is called on for chaining</a>
<a name="564"><span class="lineNum">     564 </span>                :            :      *</a>
<a name="565"><span class="lineNum">     565 </span>                :            :      * \since QGIS 2.12</a>
<a name="566"><span class="lineNum">     566 </span>                :            :      */</a>
<a name="567"><span class="lineNum">     567 </span>                :<span class="lineNoCov">          0 :     QgsFeatureRequest &amp;disableFilter() { mFilter = FilterNone; mFilterExpression.reset(); return *this; }</span></a>
<a name="568"><span class="lineNum">     568 </span>                :            : </a>
<a name="569"><span class="lineNum">     569 </span>                :            :     /**</a>
<a name="570"><span class="lineNum">     570 </span>                :            :      * Adds a new OrderByClause, appending it as the least important one.</a>
<a name="571"><span class="lineNum">     571 </span>                :            :      *</a>
<a name="572"><span class="lineNum">     572 </span>                :            :      * \param expression The expression to use for ordering</a>
<a name="573"><span class="lineNum">     573 </span>                :            :      * \param ascending  If the order should be ascending (1,2,3) or descending (3,2,1)</a>
<a name="574"><span class="lineNum">     574 </span>                :            :      *                   If the order is ascending, by default nulls are last</a>
<a name="575"><span class="lineNum">     575 </span>                :            :      *                   If the order is descending, by default nulls are first</a>
<a name="576"><span class="lineNum">     576 </span>                :            :      *</a>
<a name="577"><span class="lineNum">     577 </span>                :            :      * \since QGIS 2.14</a>
<a name="578"><span class="lineNum">     578 </span>                :            :      */</a>
<a name="579"><span class="lineNum">     579 </span>                :            : </a>
<a name="580"><span class="lineNum">     580 </span>                :            :     QgsFeatureRequest &amp;addOrderBy( const QString &amp;expression, bool ascending = true );</a>
<a name="581"><span class="lineNum">     581 </span>                :            : </a>
<a name="582"><span class="lineNum">     582 </span>                :            :     /**</a>
<a name="583"><span class="lineNum">     583 </span>                :            :      * Adds a new OrderByClause, appending it as the least important one.</a>
<a name="584"><span class="lineNum">     584 </span>                :            :      *</a>
<a name="585"><span class="lineNum">     585 </span>                :            :      * \param expression The expression to use for ordering</a>
<a name="586"><span class="lineNum">     586 </span>                :            :      * \param ascending  If the order should be ascending (1,2,3) or descending (3,2,1)</a>
<a name="587"><span class="lineNum">     587 </span>                :            :      * \param nullsfirst If TRUE, NULLS are at the beginning, if FALSE, NULLS are at the end</a>
<a name="588"><span class="lineNum">     588 </span>                :            :      *</a>
<a name="589"><span class="lineNum">     589 </span>                :            :      * \since QGIS 2.14</a>
<a name="590"><span class="lineNum">     590 </span>                :            :      */</a>
<a name="591"><span class="lineNum">     591 </span>                :            :     QgsFeatureRequest &amp;addOrderBy( const QString &amp;expression, bool ascending, bool nullsfirst );</a>
<a name="592"><span class="lineNum">     592 </span>                :            : </a>
<a name="593"><span class="lineNum">     593 </span>                :            :     /**</a>
<a name="594"><span class="lineNum">     594 </span>                :            :      * Returns a list of order by clauses specified for this feature request.</a>
<a name="595"><span class="lineNum">     595 </span>                :            :      *</a>
<a name="596"><span class="lineNum">     596 </span>                :            :      * \since QGIS 2.14</a>
<a name="597"><span class="lineNum">     597 </span>                :            :      */</a>
<a name="598"><span class="lineNum">     598 </span>                :            :     OrderBy orderBy() const;</a>
<a name="599"><span class="lineNum">     599 </span>                :            : </a>
<a name="600"><span class="lineNum">     600 </span>                :            :     /**</a>
<a name="601"><span class="lineNum">     601 </span>                :            :      * Set a list of order by clauses.</a>
<a name="602"><span class="lineNum">     602 </span>                :            :      *</a>
<a name="603"><span class="lineNum">     603 </span>                :            :      * \since QGIS 2.14</a>
<a name="604"><span class="lineNum">     604 </span>                :            :      */</a>
<a name="605"><span class="lineNum">     605 </span>                :            :     QgsFeatureRequest &amp;setOrderBy( const OrderBy &amp;orderBy );</a>
<a name="606"><span class="lineNum">     606 </span>                :            : </a>
<a name="607"><span class="lineNum">     607 </span>                :            :     /**</a>
<a name="608"><span class="lineNum">     608 </span>                :            :      * Set the maximum number of features to request.</a>
<a name="609"><span class="lineNum">     609 </span>                :            :      * \param limit maximum number of features, or -1 to request all features.</a>
<a name="610"><span class="lineNum">     610 </span>                :            :      * \see limit()</a>
<a name="611"><span class="lineNum">     611 </span>                :            :      * \since QGIS 2.14</a>
<a name="612"><span class="lineNum">     612 </span>                :            :      */</a>
<a name="613"><span class="lineNum">     613 </span>                :            :     QgsFeatureRequest &amp;setLimit( long long limit );</a>
<a name="614"><span class="lineNum">     614 </span>                :            : </a>
<a name="615"><span class="lineNum">     615 </span>                :            :     /**</a>
<a name="616"><span class="lineNum">     616 </span>                :            :      * Returns the maximum number of features to request, or -1 if no limit set.</a>
<a name="617"><span class="lineNum">     617 </span>                :            :      * \see setLimit</a>
<a name="618"><span class="lineNum">     618 </span>                :            :      * \since QGIS 2.14</a>
<a name="619"><span class="lineNum">     619 </span>                :            :      */</a>
<a name="620"><span class="lineNum">     620 </span>                :            : #ifndef SIP_RUN</a>
<a name="621"><span class="lineNum">     621 </span>                :<span class="lineCov">       2721 :     long long limit() const { return mLimit; }</span></a>
<a name="622"><span class="lineNum">     622 </span>                :            : #else</a>
<a name="623"><span class="lineNum">     623 </span>                :            :     long long limit() const;</a>
<a name="624"><span class="lineNum">     624 </span>                :            : #endif</a>
<a name="625"><span class="lineNum">     625 </span>                :            : </a>
<a name="626"><span class="lineNum">     626 </span>                :            :     /**</a>
<a name="627"><span class="lineNum">     627 </span>                :            :      * Sets \a flags that affect how features will be fetched.</a>
<a name="628"><span class="lineNum">     628 </span>                :            :      *</a>
<a name="629"><span class="lineNum">     629 </span>                :            :      * \see flags()</a>
<a name="630"><span class="lineNum">     630 </span>                :            :      */</a>
<a name="631"><span class="lineNum">     631 </span>                :            :     QgsFeatureRequest &amp;setFlags( QgsFeatureRequest::Flags flags );</a>
<a name="632"><span class="lineNum">     632 </span>                :            : </a>
<a name="633"><span class="lineNum">     633 </span>                :            :     /**</a>
<a name="634"><span class="lineNum">     634 </span>                :            :      * Returns the flags which affect how features are fetched.</a>
<a name="635"><span class="lineNum">     635 </span>                :            :      *</a>
<a name="636"><span class="lineNum">     636 </span>                :            :      * \see setFlags()</a>
<a name="637"><span class="lineNum">     637 </span>                :            :      */</a>
<a name="638"><span class="lineNum">     638 </span>                :<span class="lineCov">       4313 :     Flags flags() const { return mFlags; }</span></a>
<a name="639"><span class="lineNum">     639 </span>                :            : </a>
<a name="640"><span class="lineNum">     640 </span>                :            :     /**</a>
<a name="641"><span class="lineNum">     641 </span>                :            :      * Set a subset of attributes that will be fetched.</a>
<a name="642"><span class="lineNum">     642 </span>                :            :      *</a>
<a name="643"><span class="lineNum">     643 </span>                :            :      * An empty attributes list indicates that no attributes will be fetched.</a>
<a name="644"><span class="lineNum">     644 </span>                :            :      * To revert a call to setSubsetOfAttributes and fetch all available attributes,</a>
<a name="645"><span class="lineNum">     645 </span>                :            :      * the SubsetOfAttributes flag should be removed from the request.</a>
<a name="646"><span class="lineNum">     646 </span>                :            :      *</a>
<a name="647"><span class="lineNum">     647 </span>                :            :      * \note This is intended as hint to data providers for optimising feature retrieval. Depending</a>
<a name="648"><span class="lineNum">     648 </span>                :            :      * on the provider, it may be trivial for the provider to always return all attributes instead of</a>
<a name="649"><span class="lineNum">     649 </span>                :            :      * the requested subset, or actually result in slower retrieval when the attributes are filtered out.</a>
<a name="650"><span class="lineNum">     650 </span>                :            :      * In these cases the provider may ignore this hint and return all attributes regardless of the</a>
<a name="651"><span class="lineNum">     651 </span>                :            :      * requested attributes.</a>
<a name="652"><span class="lineNum">     652 </span>                :            :      *</a>
<a name="653"><span class="lineNum">     653 </span>                :            :      * \see subsetOfAttributes()</a>
<a name="654"><span class="lineNum">     654 </span>                :            :      * \see setNoAttributes()</a>
<a name="655"><span class="lineNum">     655 </span>                :            :      */</a>
<a name="656"><span class="lineNum">     656 </span>                :            :     QgsFeatureRequest &amp;setSubsetOfAttributes( const QgsAttributeList &amp;attrs );</a>
<a name="657"><span class="lineNum">     657 </span>                :            : </a>
<a name="658"><span class="lineNum">     658 </span>                :            :     /**</a>
<a name="659"><span class="lineNum">     659 </span>                :            :      * Set that no attributes will be fetched.</a>
<a name="660"><span class="lineNum">     660 </span>                :            :      *</a>
<a name="661"><span class="lineNum">     661 </span>                :            :      * To revert a call to setNoAttributes and fetch all or some available attributes,</a>
<a name="662"><span class="lineNum">     662 </span>                :            :      * the SubsetOfAttributes flag should be removed from the request.</a>
<a name="663"><span class="lineNum">     663 </span>                :            :      *</a>
<a name="664"><span class="lineNum">     664 </span>                :            :      * \note This is intended as hint to data providers for optimising feature retrieval. Depending</a>
<a name="665"><span class="lineNum">     665 </span>                :            :      * on the provider, it may be trivial for the provider to always return all attributes instead of</a>
<a name="666"><span class="lineNum">     666 </span>                :            :      * removing them. In these cases the provider may ignore this hint and return all attributes</a>
<a name="667"><span class="lineNum">     667 </span>                :            :      * regardless of whether this method has been called.</a>
<a name="668"><span class="lineNum">     668 </span>                :            :      *</a>
<a name="669"><span class="lineNum">     669 </span>                :            :      * \see setSubsetOfAttributes()</a>
<a name="670"><span class="lineNum">     670 </span>                :            :      *</a>
<a name="671"><span class="lineNum">     671 </span>                :            :      * \since QGIS 3.4</a>
<a name="672"><span class="lineNum">     672 </span>                :            :      */</a>
<a name="673"><span class="lineNum">     673 </span>                :            :     QgsFeatureRequest &amp;setNoAttributes();</a>
<a name="674"><span class="lineNum">     674 </span>                :            : </a>
<a name="675"><span class="lineNum">     675 </span>                :            :     /**</a>
<a name="676"><span class="lineNum">     676 </span>                :            :      * Returns the subset of attributes which at least need to be fetched.</a>
<a name="677"><span class="lineNum">     677 </span>                :            :      * \returns A list of attributes to be fetched</a>
<a name="678"><span class="lineNum">     678 </span>                :            :      *</a>
<a name="679"><span class="lineNum">     679 </span>                :            :      * \note This is intended as hint to data providers for optimising feature retrieval. Depending</a>
<a name="680"><span class="lineNum">     680 </span>                :            :      * on the provider, it may be trivial for the provider to always return all attributes instead of</a>
<a name="681"><span class="lineNum">     681 </span>                :            :      * the requested subset, or actually result in slower retrieval when the attributes are filtered out.</a>
<a name="682"><span class="lineNum">     682 </span>                :            :      * In these cases the provider may ignore this hint and return all attributes regardless of the</a>
<a name="683"><span class="lineNum">     683 </span>                :            :      * requested attributes.</a>
<a name="684"><span class="lineNum">     684 </span>                :            :      *</a>
<a name="685"><span class="lineNum">     685 </span>                :            :      * \see setSubsetOfAttributes()</a>
<a name="686"><span class="lineNum">     686 </span>                :            :      * \see setNoAttributes()</a>
<a name="687"><span class="lineNum">     687 </span>                :            :      */</a>
<a name="688"><span class="lineNum">     688 </span>                :<span class="lineCov">        375 :     QgsAttributeList subsetOfAttributes() const { return mAttrs; }</span></a>
<a name="689"><span class="lineNum">     689 </span>                :            : </a>
<a name="690"><span class="lineNum">     690 </span>                :            :     /**</a>
<a name="691"><span class="lineNum">     691 </span>                :            :      * Sets a subset of attributes by names that will be fetched.</a>
<a name="692"><span class="lineNum">     692 </span>                :            :      *</a>
<a name="693"><span class="lineNum">     693 </span>                :            :      * \note This is intended as hint to data providers for optimising feature retrieval. Depending</a>
<a name="694"><span class="lineNum">     694 </span>                :            :      * on the provider, it may be trivial for the provider to always return all attributes instead of</a>
<a name="695"><span class="lineNum">     695 </span>                :            :      * the requested subset, or actually result in slower retrieval when the attributes are filtered out.</a>
<a name="696"><span class="lineNum">     696 </span>                :            :      * In these cases the provider may ignore this hint and return all attributes regardless of the</a>
<a name="697"><span class="lineNum">     697 </span>                :            :      * requested attributes.</a>
<a name="698"><span class="lineNum">     698 </span>                :            :      *</a>
<a name="699"><span class="lineNum">     699 </span>                :            :      * \see subsetOfAttributes()</a>
<a name="700"><span class="lineNum">     700 </span>                :            :      */</a>
<a name="701"><span class="lineNum">     701 </span>                :            :     QgsFeatureRequest &amp;setSubsetOfAttributes( const QStringList &amp;attrNames, const QgsFields &amp;fields );</a>
<a name="702"><span class="lineNum">     702 </span>                :            : </a>
<a name="703"><span class="lineNum">     703 </span>                :            :     /**</a>
<a name="704"><span class="lineNum">     704 </span>                :            :      * Sets a subset of attributes by names that will be fetched.</a>
<a name="705"><span class="lineNum">     705 </span>                :            :      *</a>
<a name="706"><span class="lineNum">     706 </span>                :            :      * \note This is intended as hint to data providers for optimising feature retrieval. Depending</a>
<a name="707"><span class="lineNum">     707 </span>                :            :      * on the provider, it may be trivial for the provider to always return all attributes instead of</a>
<a name="708"><span class="lineNum">     708 </span>                :            :      * the requested subset, or actually result in slower retrieval when the attributes are filtered out.</a>
<a name="709"><span class="lineNum">     709 </span>                :            :      * In these cases the provider may ignore this hint and return all attributes regardless of the</a>
<a name="710"><span class="lineNum">     710 </span>                :            :      * requested attributes.</a>
<a name="711"><span class="lineNum">     711 </span>                :            :      *</a>
<a name="712"><span class="lineNum">     712 </span>                :            :      * \see subsetOfAttributes()</a>
<a name="713"><span class="lineNum">     713 </span>                :            :      */</a>
<a name="714"><span class="lineNum">     714 </span>                :            :     QgsFeatureRequest &amp;setSubsetOfAttributes( const QSet&lt;QString&gt; &amp;attrNames, const QgsFields &amp;fields );</a>
<a name="715"><span class="lineNum">     715 </span>                :            : </a>
<a name="716"><span class="lineNum">     716 </span>                :            :     /**</a>
<a name="717"><span class="lineNum">     717 </span>                :            :      * Set a simplification method for geometries that will be fetched.</a>
<a name="718"><span class="lineNum">     718 </span>                :            :      *</a>
<a name="719"><span class="lineNum">     719 </span>                :            :      * \see simplifyMethod()</a>
<a name="720"><span class="lineNum">     720 </span>                :            :      * \since QGIS 2.2</a>
<a name="721"><span class="lineNum">     721 </span>                :            :      */</a>
<a name="722"><span class="lineNum">     722 </span>                :            :     QgsFeatureRequest &amp;setSimplifyMethod( const QgsSimplifyMethod &amp;simplifyMethod );</a>
<a name="723"><span class="lineNum">     723 </span>                :            : </a>
<a name="724"><span class="lineNum">     724 </span>                :            :     /**</a>
<a name="725"><span class="lineNum">     725 </span>                :            :      * Returns the simplification method for geometries that will be fetched.</a>
<a name="726"><span class="lineNum">     726 </span>                :            :      *</a>
<a name="727"><span class="lineNum">     727 </span>                :            :      * \see setSimplifyMethod()</a>
<a name="728"><span class="lineNum">     728 </span>                :            :      * \since QGIS 2.2</a>
<a name="729"><span class="lineNum">     729 </span>                :            :      */</a>
<a name="730"><span class="lineNum">     730 </span>                :<span class="lineCov">        366 :     const QgsSimplifyMethod &amp;simplifyMethod() const { return mSimplifyMethod; }</span></a>
<a name="731"><span class="lineNum">     731 </span>                :            : </a>
<a name="732"><span class="lineNum">     732 </span>                :            :     /**</a>
<a name="733"><span class="lineNum">     733 </span>                :            :      * Returns the destination coordinate reference system for feature's geometries,</a>
<a name="734"><span class="lineNum">     734 </span>                :            :      * or an invalid QgsCoordinateReferenceSystem if no reprojection will be done</a>
<a name="735"><span class="lineNum">     735 </span>                :            :      * and all features will be left with their original geometry.</a>
<a name="736"><span class="lineNum">     736 </span>                :            :      * \see setDestinationCrs()</a>
<a name="737"><span class="lineNum">     737 </span>                :            :      * \see transformContext()</a>
<a name="738"><span class="lineNum">     738 </span>                :            :      * \since QGIS 3.0</a>
<a name="739"><span class="lineNum">     739 </span>                :            :      */</a>
<a name="740"><span class="lineNum">     740 </span>                :            :     QgsCoordinateReferenceSystem destinationCrs() const;</a>
<a name="741"><span class="lineNum">     741 </span>                :            : </a>
<a name="742"><span class="lineNum">     742 </span>                :            :     /**</a>
<a name="743"><span class="lineNum">     743 </span>                :            :      * Returns the transform context, for use when a destinationCrs() has been set</a>
<a name="744"><span class="lineNum">     744 </span>                :            :      * and reprojection is required</a>
<a name="745"><span class="lineNum">     745 </span>                :            :      * \see setDestinationCrs()</a>
<a name="746"><span class="lineNum">     746 </span>                :            :      * \see destinationCrs()</a>
<a name="747"><span class="lineNum">     747 </span>                :            :      * \since QGIS 3.0</a>
<a name="748"><span class="lineNum">     748 </span>                :            :      */</a>
<a name="749"><span class="lineNum">     749 </span>                :            :     QgsCoordinateTransformContext transformContext() const;</a>
<a name="750"><span class="lineNum">     750 </span>                :            : </a>
<a name="751"><span class="lineNum">     751 </span>                :            :     /**</a>
<a name="752"><span class="lineNum">     752 </span>                :            :      * Sets the destination \a crs for feature's geometries. If set, all</a>
<a name="753"><span class="lineNum">     753 </span>                :            :      * geometries will be reprojected from their original coordinate reference</a>
<a name="754"><span class="lineNum">     754 </span>                :            :      * system to this desired reference system. If \a crs is an invalid</a>
<a name="755"><span class="lineNum">     755 </span>                :            :      * QgsCoordinateReferenceSystem then no reprojection will be done</a>
<a name="756"><span class="lineNum">     756 </span>                :            :      * and all features will be left with their original geometry.</a>
<a name="757"><span class="lineNum">     757 </span>                :            :      *</a>
<a name="758"><span class="lineNum">     758 </span>                :            :      * When a \a crs is set using setDestinationCrs(), then any filterRect()</a>
<a name="759"><span class="lineNum">     759 </span>                :            :      * or referenceGeometry() set on the request is expected to be in the</a>
<a name="760"><span class="lineNum">     760 </span>                :            :      * same CRS as the destination CRS.</a>
<a name="761"><span class="lineNum">     761 </span>                :            :      *</a>
<a name="762"><span class="lineNum">     762 </span>                :            :      * The feature geometry transformation to the destination CRS is performed</a>
<a name="763"><span class="lineNum">     763 </span>                :            :      * after all filter expressions are tested and any virtual fields are</a>
<a name="764"><span class="lineNum">     764 </span>                :            :      * calculated. Accordingly, any geometric expressions used in</a>
<a name="765"><span class="lineNum">     765 </span>                :            :      * filterExpression() will be performed in the original</a>
<a name="766"><span class="lineNum">     766 </span>                :            :      * source CRS. This ensures consistent results are returned regardless of the</a>
<a name="767"><span class="lineNum">     767 </span>                :            :      * destination CRS. Similarly, virtual field values will be calculated using the</a>
<a name="768"><span class="lineNum">     768 </span>                :            :      * original geometry in the source CRS, so these values are not affected by</a>
<a name="769"><span class="lineNum">     769 </span>                :            :      * any destination CRS transform present in the feature request.</a>
<a name="770"><span class="lineNum">     770 </span>                :            :      *</a>
<a name="771"><span class="lineNum">     771 </span>                :            :      * \see destinationCrs()</a>
<a name="772"><span class="lineNum">     772 </span>                :            :      * \since QGIS 3.0</a>
<a name="773"><span class="lineNum">     773 </span>                :            :      */</a>
<a name="774"><span class="lineNum">     774 </span>                :            :     QgsFeatureRequest &amp;setDestinationCrs( const QgsCoordinateReferenceSystem &amp;crs, const QgsCoordinateTransformContext &amp;context );</a>
<a name="775"><span class="lineNum">     775 </span>                :            : </a>
<a name="776"><span class="lineNum">     776 </span>                :            :     /**</a>
<a name="777"><span class="lineNum">     777 </span>                :            :      * Sets a callback function to use when encountering a transform error when iterating</a>
<a name="778"><span class="lineNum">     778 </span>                :            :      * features and a destinationCrs() is set. This function will be</a>
<a name="779"><span class="lineNum">     779 </span>                :            :      * called using the feature which encountered the transform error as a parameter.</a>
<a name="780"><span class="lineNum">     780 </span>                :            :      * \see transformErrorCallback()</a>
<a name="781"><span class="lineNum">     781 </span>                :            :      * \see setDestinationCrs()</a>
<a name="782"><span class="lineNum">     782 </span>                :            :      * \since QGIS 3.0</a>
<a name="783"><span class="lineNum">     783 </span>                :            :      */</a>
<a name="784"><span class="lineNum">     784 </span>                :            : #ifndef SIP_RUN</a>
<a name="785"><span class="lineNum">     785 </span>                :            :     QgsFeatureRequest &amp;setTransformErrorCallback( const std::function&lt; void( const QgsFeature &amp; )&gt; &amp;callback );</a>
<a name="786"><span class="lineNum">     786 </span>                :            : #else</a>
<a name="787"><span class="lineNum">     787 </span>                :            :     QgsFeatureRequest &amp;setTransformErrorCallback( SIP_PYCALLABLE / AllowNone / );</a>
<a name="788"><span class="lineNum">     788 </span>                :            :     % MethodCode</a>
<a name="789"><span class="lineNum">     789 </span>                :            :     Py_BEGIN_ALLOW_THREADS</a>
<a name="790"><span class="lineNum">     790 </span>                :            : </a>
<a name="791"><span class="lineNum">     791 </span>                :            :     sipCpp-&gt;setTransformErrorCallback( [a0]( const QgsFeature &amp;arg )</a>
<a name="792"><span class="lineNum">     792 </span>                :            :     {</a>
<a name="793"><span class="lineNum">     793 </span>                :            :       SIP_BLOCK_THREADS</a>
<a name="794"><span class="lineNum">     794 </span>                :            :       Py_XDECREF( sipCallMethod( NULL, a0, &quot;D&quot;, &amp;arg, sipType_QgsFeature, NULL ) );</a>
<a name="795"><span class="lineNum">     795 </span>                :            :       SIP_UNBLOCK_THREADS</a>
<a name="796"><span class="lineNum">     796 </span>                :            :     } );</a>
<a name="797"><span class="lineNum">     797 </span>                :            : </a>
<a name="798"><span class="lineNum">     798 </span>                :            :     sipRes = sipCpp;</a>
<a name="799"><span class="lineNum">     799 </span>                :            : </a>
<a name="800"><span class="lineNum">     800 </span>                :            :     Py_END_ALLOW_THREADS</a>
<a name="801"><span class="lineNum">     801 </span>                :            :     % End</a>
<a name="802"><span class="lineNum">     802 </span>                :            : #endif</a>
<a name="803"><span class="lineNum">     803 </span>                :            : </a>
<a name="804"><span class="lineNum">     804 </span>                :            :     /**</a>
<a name="805"><span class="lineNum">     805 </span>                :            :      * Returns the callback function to use when encountering a transform error when iterating</a>
<a name="806"><span class="lineNum">     806 </span>                :            :      * features and a destinationCrs() is set.</a>
<a name="807"><span class="lineNum">     807 </span>                :            :      * \note not available in Python bindings</a>
<a name="808"><span class="lineNum">     808 </span>                :            :      * \see setTransformErrorCallback()</a>
<a name="809"><span class="lineNum">     809 </span>                :            :      * \see destinationCrs()</a>
<a name="810"><span class="lineNum">     810 </span>                :            :      * \since QGIS 3.0</a>
<a name="811"><span class="lineNum">     811 </span>                :            :      */</a>
<a name="812"><span class="lineNum">     812 </span>                :<span class="lineNoCov">          0 :     std::function&lt; void( const QgsFeature &amp; ) &gt; transformErrorCallback() const { return mTransformErrorCallback; } SIP_SKIP</span></a>
<a name="813"><span class="lineNum">     813 </span>                :            : </a>
<a name="814"><span class="lineNum">     814 </span>                :            : </a>
<a name="815"><span class="lineNum">     815 </span>                :            :     /**</a>
<a name="816"><span class="lineNum">     816 </span>                :            :      * Check if a feature is accepted by this requests filter</a>
<a name="817"><span class="lineNum">     817 </span>                :            :      *</a>
<a name="818"><span class="lineNum">     818 </span>                :            :      * \param feature  The feature which will be tested</a>
<a name="819"><span class="lineNum">     819 </span>                :            :      *</a>
<a name="820"><span class="lineNum">     820 </span>                :            :      * \returns TRUE, if the filter accepts the feature</a>
<a name="821"><span class="lineNum">     821 </span>                :            :      *</a>
<a name="822"><span class="lineNum">     822 </span>                :            :      * \since QGIS 2.1</a>
<a name="823"><span class="lineNum">     823 </span>                :            :      */</a>
<a name="824"><span class="lineNum">     824 </span>                :            :     bool acceptFeature( const QgsFeature &amp;feature );</a>
<a name="825"><span class="lineNum">     825 </span>                :            : </a>
<a name="826"><span class="lineNum">     826 </span>                :            :     /**</a>
<a name="827"><span class="lineNum">     827 </span>                :            :      * Returns the timeout (in milliseconds) for how long we should wait for a connection if none is available from the pool</a>
<a name="828"><span class="lineNum">     828 </span>                :            :      * at this moment. A negative value (which is set by default) will wait forever.</a>
<a name="829"><span class="lineNum">     829 </span>                :            :      *</a>
<a name="830"><span class="lineNum">     830 </span>                :            :      * \note Only works if the provider supports this option.</a>
<a name="831"><span class="lineNum">     831 </span>                :            :      *</a>
<a name="832"><span class="lineNum">     832 </span>                :            :      * \deprecated Use timeout() instead.</a>
<a name="833"><span class="lineNum">     833 </span>                :            :      * \since QGIS 3.0</a>
<a name="834"><span class="lineNum">     834 </span>                :            :      */</a>
<a name="835"><span class="lineNum">     835 </span>                :            :     Q_DECL_DEPRECATED int connectionTimeout() const SIP_DEPRECATED;</a>
<a name="836"><span class="lineNum">     836 </span>                :            : </a>
<a name="837"><span class="lineNum">     837 </span>                :            :     /**</a>
<a name="838"><span class="lineNum">     838 </span>                :            :      * Sets the timeout (in milliseconds) for how long we should wait for a connection if none is available from the pool</a>
<a name="839"><span class="lineNum">     839 </span>                :            :      * at this moment. A negative value (which is set by default) will wait forever.</a>
<a name="840"><span class="lineNum">     840 </span>                :            :      *</a>
<a name="841"><span class="lineNum">     841 </span>                :            :      * \note Only works if the provider supports this option.</a>
<a name="842"><span class="lineNum">     842 </span>                :            :      *</a>
<a name="843"><span class="lineNum">     843 </span>                :            :      * \deprecated Use setTimeout() instead.</a>
<a name="844"><span class="lineNum">     844 </span>                :            :      * \since QGIS 3.0</a>
<a name="845"><span class="lineNum">     845 </span>                :            :      */</a>
<a name="846"><span class="lineNum">     846 </span>                :            :     Q_DECL_DEPRECATED QgsFeatureRequest &amp;setConnectionTimeout( int connectionTimeout ) SIP_DEPRECATED;</a>
<a name="847"><span class="lineNum">     847 </span>                :            : </a>
<a name="848"><span class="lineNum">     848 </span>                :            :     /**</a>
<a name="849"><span class="lineNum">     849 </span>                :            :      * Returns the timeout (in milliseconds) for the maximum time we should wait during feature requests before a</a>
<a name="850"><span class="lineNum">     850 </span>                :            :      * feature is returned. A negative value (which is set by default) will wait forever.</a>
<a name="851"><span class="lineNum">     851 </span>                :            :      *</a>
<a name="852"><span class="lineNum">     852 </span>                :            :      * \note Only works if the provider supports this option.</a>
<a name="853"><span class="lineNum">     853 </span>                :            :      *</a>
<a name="854"><span class="lineNum">     854 </span>                :            :      * \see setTimeout()</a>
<a name="855"><span class="lineNum">     855 </span>                :            :      * \since QGIS 3.4</a>
<a name="856"><span class="lineNum">     856 </span>                :            :      */</a>
<a name="857"><span class="lineNum">     857 </span>                :            :     int timeout() const;</a>
<a name="858"><span class="lineNum">     858 </span>                :            : </a>
<a name="859"><span class="lineNum">     859 </span>                :            :     /**</a>
<a name="860"><span class="lineNum">     860 </span>                :            :      * Sets the \a timeout (in milliseconds) for the maximum time we should wait during feature requests before a</a>
<a name="861"><span class="lineNum">     861 </span>                :            :      * feature is returned. A negative value (which is set by default) will wait forever.</a>
<a name="862"><span class="lineNum">     862 </span>                :            :      *</a>
<a name="863"><span class="lineNum">     863 </span>                :            :      * \note Only works if the provider supports this option.</a>
<a name="864"><span class="lineNum">     864 </span>                :            :      *</a>
<a name="865"><span class="lineNum">     865 </span>                :            :      * \see timeout()</a>
<a name="866"><span class="lineNum">     866 </span>                :            :      * \since QGIS 3.4</a>
<a name="867"><span class="lineNum">     867 </span>                :            :      */</a>
<a name="868"><span class="lineNum">     868 </span>                :            :     QgsFeatureRequest &amp;setTimeout( int timeout );</a>
<a name="869"><span class="lineNum">     869 </span>                :            : </a>
<a name="870"><span class="lineNum">     870 </span>                :            :     /**</a>
<a name="871"><span class="lineNum">     871 </span>                :            :      * In case this request may be run nested within another already running</a>
<a name="872"><span class="lineNum">     872 </span>                :            :      * iteration on the same connection, set this to TRUE.</a>
<a name="873"><span class="lineNum">     873 </span>                :            :      *</a>
<a name="874"><span class="lineNum">     874 </span>                :            :      * If this flag is TRUE, this request will be able to make use of &quot;spare&quot;</a>
<a name="875"><span class="lineNum">     875 </span>                :            :      * connections to avoid deadlocks.</a>
<a name="876"><span class="lineNum">     876 </span>                :            :      *</a>
<a name="877"><span class="lineNum">     877 </span>                :            :      * For example, this should be set on requests that are issued from an</a>
<a name="878"><span class="lineNum">     878 </span>                :            :      * expression function.</a>
<a name="879"><span class="lineNum">     879 </span>                :            :      *</a>
<a name="880"><span class="lineNum">     880 </span>                :            :      * \see setRequestMayBeNested()</a>
<a name="881"><span class="lineNum">     881 </span>                :            :      * \since QGIS 3.4</a>
<a name="882"><span class="lineNum">     882 </span>                :            :      */</a>
<a name="883"><span class="lineNum">     883 </span>                :            :     bool requestMayBeNested() const;</a>
<a name="884"><span class="lineNum">     884 </span>                :            : </a>
<a name="885"><span class="lineNum">     885 </span>                :            :     /**</a>
<a name="886"><span class="lineNum">     886 </span>                :            :      * In case this request may be run nested within another already running</a>
<a name="887"><span class="lineNum">     887 </span>                :            :      * iteration on the same connection, set this to TRUE.</a>
<a name="888"><span class="lineNum">     888 </span>                :            :      *</a>
<a name="889"><span class="lineNum">     889 </span>                :            :      * If this flag is TRUE, this request will be able to make use of &quot;spare&quot;</a>
<a name="890"><span class="lineNum">     890 </span>                :            :      * connections to avoid deadlocks.</a>
<a name="891"><span class="lineNum">     891 </span>                :            :      *</a>
<a name="892"><span class="lineNum">     892 </span>                :            :      * For example, this should be set on requests that are issued from an</a>
<a name="893"><span class="lineNum">     893 </span>                :            :      * expression function.</a>
<a name="894"><span class="lineNum">     894 </span>                :            :      *</a>
<a name="895"><span class="lineNum">     895 </span>                :            :      * \see requestMayBeNested()</a>
<a name="896"><span class="lineNum">     896 </span>                :            :      * \since QGIS 3.4</a>
<a name="897"><span class="lineNum">     897 </span>                :            :      */</a>
<a name="898"><span class="lineNum">     898 </span>                :            :     QgsFeatureRequest &amp;setRequestMayBeNested( bool requestMayBeNested );</a>
<a name="899"><span class="lineNum">     899 </span>                :            : </a>
<a name="900"><span class="lineNum">     900 </span>                :            :     /**</a>
<a name="901"><span class="lineNum">     901 </span>                :            :      * Attach a \a feedback object that can be queried regularly by the iterator to check</a>
<a name="902"><span class="lineNum">     902 </span>                :            :      * if it should be canceled.</a>
<a name="903"><span class="lineNum">     903 </span>                :            :      *</a>
<a name="904"><span class="lineNum">     904 </span>                :            :      * Ownership of \a feedback is NOT transferred, and the caller must take care that it exists</a>
<a name="905"><span class="lineNum">     905 </span>                :            :      * for the lifetime of the feature request and feature iterators.</a>
<a name="906"><span class="lineNum">     906 </span>                :            :      *</a>
<a name="907"><span class="lineNum">     907 </span>                :            :      * \see feedback()</a>
<a name="908"><span class="lineNum">     908 </span>                :            :      *</a>
<a name="909"><span class="lineNum">     909 </span>                :            :      * \since QGIS 3.20</a>
<a name="910"><span class="lineNum">     910 </span>                :            :      */</a>
<a name="911"><span class="lineNum">     911 </span>                :            :     void setFeedback( QgsFeedback *feedback );</a>
<a name="912"><span class="lineNum">     912 </span>                :            : </a>
<a name="913"><span class="lineNum">     913 </span>                :            :     /**</a>
<a name="914"><span class="lineNum">     914 </span>                :            :      * Returns the feedback object that can be queried regularly by the iterator to check</a>
<a name="915"><span class="lineNum">     915 </span>                :            :      * if it should be canceled, if set.</a>
<a name="916"><span class="lineNum">     916 </span>                :            :      *</a>
<a name="917"><span class="lineNum">     917 </span>                :            :      * \see setFeedback()</a>
<a name="918"><span class="lineNum">     918 </span>                :            :      *</a>
<a name="919"><span class="lineNum">     919 </span>                :            :      * \since QGIS 3.20</a>
<a name="920"><span class="lineNum">     920 </span>                :            :      */</a>
<a name="921"><span class="lineNum">     921 </span>                :            :     QgsFeedback *feedback() const;</a>
<a name="922"><span class="lineNum">     922 </span>                :            : </a>
<a name="923"><span class="lineNum">     923 </span>                :            :   protected:</a>
<a name="924"><span class="lineNum">     924 </span>                :            : </a>
<a name="925"><span class="lineNum">     925 </span>                :            :     /**</a>
<a name="926"><span class="lineNum">     926 </span>                :            :      * Attribute/ID filter type.</a>
<a name="927"><span class="lineNum">     927 </span>                :            :      */</a>
<a name="928"><span class="lineNum">     928 </span>                :            :     FilterType mFilter = FilterNone;</a>
<a name="929"><span class="lineNum">     929 </span>                :            : </a>
<a name="930"><span class="lineNum">     930 </span>                :            :     /**</a>
<a name="931"><span class="lineNum">     931 </span>                :            :      * Spatial filter type.</a>
<a name="932"><span class="lineNum">     932 </span>                :            :      *</a>
<a name="933"><span class="lineNum">     933 </span>                :            :      * \since QGIS 3.22</a>
<a name="934"><span class="lineNum">     934 </span>                :            :      */</a>
<a name="935"><span class="lineNum">     935 </span>                :            :     Qgis::SpatialFilterType mSpatialFilter = Qgis::SpatialFilterType::NoFilter;</a>
<a name="936"><span class="lineNum">     936 </span>                :            : </a>
<a name="937"><span class="lineNum">     937 </span>                :            :     /**</a>
<a name="938"><span class="lineNum">     938 </span>                :            :      * Bounding box for spatial filtering.</a>
<a name="939"><span class="lineNum">     939 </span>                :            :      */</a>
<a name="940"><span class="lineNum">     940 </span>                :            :     QgsRectangle mFilterRect;</a>
<a name="941"><span class="lineNum">     941 </span>                :            : </a>
<a name="942"><span class="lineNum">     942 </span>                :            :     /**</a>
<a name="943"><span class="lineNum">     943 </span>                :            :      * Reference geometry for Qgis::RequestSpatialFilter::DistanceWithin filtering.</a>
<a name="944"><span class="lineNum">     944 </span>                :            :      */</a>
<a name="945"><span class="lineNum">     945 </span>                :            :     QgsGeometry mReferenceGeometry;</a>
<a name="946"><span class="lineNum">     946 </span>                :            : </a>
<a name="947"><span class="lineNum">     947 </span>                :            :     /**</a>
<a name="948"><span class="lineNum">     948 </span>                :            :      * Prepared geometry engine for mReferenceGeometry.</a>
<a name="949"><span class="lineNum">     949 </span>                :            :      */</a>
<a name="950"><span class="lineNum">     950 </span>                :            :     std::unique_ptr&lt; QgsGeometryEngine &gt; mReferenceGeometryEngine;</a>
<a name="951"><span class="lineNum">     951 </span>                :            : </a>
<a name="952"><span class="lineNum">     952 </span>                :            :     /**</a>
<a name="953"><span class="lineNum">     953 </span>                :            :      * Maximum distance from reference geometry.</a>
<a name="954"><span class="lineNum">     954 </span>                :            :      */</a>
<a name="955"><span class="lineNum">     955 </span>                :            :     double mDistanceWithin = 0;</a>
<a name="956"><span class="lineNum">     956 </span>                :            : </a>
<a name="957"><span class="lineNum">     957 </span>                :            :     QgsFeatureId mFilterFid = -1;</a>
<a name="958"><span class="lineNum">     958 </span>                :            :     QgsFeatureIds mFilterFids;</a>
<a name="959"><span class="lineNum">     959 </span>                :            :     std::unique_ptr&lt; QgsExpression &gt; mFilterExpression;</a>
<a name="960"><span class="lineNum">     960 </span>                :            :     QgsExpressionContext mExpressionContext;</a>
<a name="961"><span class="lineNum">     961 </span>                :            :     Flags mFlags = Flags();</a>
<a name="962"><span class="lineNum">     962 </span>                :            :     QgsAttributeList mAttrs;</a>
<a name="963"><span class="lineNum">     963 </span>                :            :     QgsSimplifyMethod mSimplifyMethod;</a>
<a name="964"><span class="lineNum">     964 </span>                :            :     long long mLimit = -1;</a>
<a name="965"><span class="lineNum">     965 </span>                :            :     OrderBy mOrderBy;</a>
<a name="966"><span class="lineNum">     966 </span>                :            :     InvalidGeometryCheck mInvalidGeometryFilter = GeometryNoCheck;</a>
<a name="967"><span class="lineNum">     967 </span>                :            :     std::function&lt; void( const QgsFeature &amp; ) &gt; mInvalidGeometryCallback;</a>
<a name="968"><span class="lineNum">     968 </span>                :            :     std::function&lt; void( const QgsFeature &amp; ) &gt; mTransformErrorCallback;</a>
<a name="969"><span class="lineNum">     969 </span>                :            :     QgsCoordinateReferenceSystem mCrs;</a>
<a name="970"><span class="lineNum">     970 </span>                :            :     QgsCoordinateTransformContext mTransformContext;</a>
<a name="971"><span class="lineNum">     971 </span>                :            :     int mTimeout = -1;</a>
<a name="972"><span class="lineNum">     972 </span>                :            :     int mRequestMayBeNested = false;</a>
<a name="973"><span class="lineNum">     973 </span>                :            :     QgsFeedback *mFeedback = nullptr;</a>
<a name="974"><span class="lineNum">     974 </span>                :            : };</a>
<a name="975"><span class="lineNum">     975 </span>                :            : </a>
<a name="976"><span class="lineNum">     976 </span>                :<span class="lineNoCov">          0 : Q_DECLARE_OPERATORS_FOR_FLAGS( QgsFeatureRequest::Flags )</span></a>
<a name="977"><span class="lineNum">     977 </span>                :            : </a>
<a name="978"><span class="lineNum">     978 </span>                :            : </a>
<a name="979"><span class="lineNum">     979 </span>                :            : class QgsFeatureIterator;</a>
<a name="980"><span class="lineNum">     980 </span>                :            : class QgsAbstractFeatureIterator;</a>
<a name="981"><span class="lineNum">     981 </span>                :            : </a>
<a name="982"><span class="lineNum">     982 </span>                :            : /**</a>
<a name="983"><span class="lineNum">     983 </span>                :            :  * \ingroup core</a>
<a name="984"><span class="lineNum">     984 </span>                :            :  * \brief Base class that can be used for any class that is capable of returning features</a>
<a name="985"><span class="lineNum">     985 </span>                :            :  * \since QGIS 2.4</a>
<a name="986"><span class="lineNum">     986 </span>                :            :  */</a>
<a name="987"><span class="lineNum">     987 </span>                :<span class="lineCov">        446 : class CORE_EXPORT QgsAbstractFeatureSource</span></a>
<a name="988"><span class="lineNum">     988 </span>                :            : {</a>
<a name="989"><span class="lineNum">     989 </span>                :            :   public:</a>
<a name="990"><span class="lineNum">     990 </span>                :            :     virtual ~QgsAbstractFeatureSource();</a>
<a name="991"><span class="lineNum">     991 </span>                :            : </a>
<a name="992"><span class="lineNum">     992 </span>                :            : </a>
<a name="993"><span class="lineNum">     993 </span>                :            :     // IMPORTANT -- do NOT remove the /TransferBack/ annotation here -- while it looks completely wrong, it's</a>
<a name="994"><span class="lineNum">     994 </span>                :            :     // required for Python data providers to work correctly! Argh!</a>
<a name="995"><span class="lineNum">     995 </span>                :            : </a>
<a name="996"><span class="lineNum">     996 </span>                :            :     /**</a>
<a name="997"><span class="lineNum">     997 </span>                :            :      * Gets an iterator for features matching the specified request</a>
<a name="998"><span class="lineNum">     998 </span>                :            :      * \param request The request</a>
<a name="999"><span class="lineNum">     999 </span>                :            :      * \returns A feature iterator</a>
<a name="1000"><span class="lineNum">    1000 </span>                :            :      */</a>
<a name="1001"><span class="lineNum">    1001 </span>                :            :     virtual QgsFeatureIterator getFeatures( const QgsFeatureRequest &amp;request = QgsFeatureRequest() ) = 0 SIP_TRANSFERBACK;</a>
<a name="1002"><span class="lineNum">    1002 </span>                :            : </a>
<a name="1003"><span class="lineNum">    1003 </span>                :            :     // IMPORTANT -- do NOT remove the /TransferBack/ annotation here -- while it looks completely wrong, it's</a>
<a name="1004"><span class="lineNum">    1004 </span>                :            :     // required for Python data providers to work correctly! Argh!</a>
<a name="1005"><span class="lineNum">    1005 </span>                :            : </a>
<a name="1006"><span class="lineNum">    1006 </span>                :            :   protected:</a>
<a name="1007"><span class="lineNum">    1007 </span>                :            :     void iteratorOpened( QgsAbstractFeatureIterator *it );</a>
<a name="1008"><span class="lineNum">    1008 </span>                :            :     void iteratorClosed( QgsAbstractFeatureIterator *it );</a>
<a name="1009"><span class="lineNum">    1009 </span>                :            : </a>
<a name="1010"><span class="lineNum">    1010 </span>                :            :     QSet&lt; QgsAbstractFeatureIterator * &gt; mActiveIterators;</a>
<a name="1011"><span class="lineNum">    1011 </span>                :            : </a>
<a name="1012"><span class="lineNum">    1012 </span>                :            :     template&lt;typename&gt; friend class QgsAbstractFeatureIteratorFromSource;</a>
<a name="1013"><span class="lineNum">    1013 </span>                :            : };</a>
<a name="1014"><span class="lineNum">    1014 </span>                :            : </a>
<a name="1015"><span class="lineNum">    1015 </span>                :            : #endif // QGSFEATUREREQUEST_H</a>
</pre>
      </td>
    </tr>
  </table>
  <br>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="ruler"><img src="../glass.png" width=3 height=3 alt=""></td></tr>
    <tr><td class="versionInfo">Generated by: <a href="http://ltp.sourceforge.net/coverage/lcov.php" target="_parent">LCOV version 1.15</a></td></tr>
  </table>
  <br>

</body>
</html>
