<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>LCOV - coverage.info.cleaned - core/providers/qgsdataprovider.h</title>
  <link rel="stylesheet" type="text/css" href="../../gcov.css">
</head>

<body>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="title">LCOV - code coverage report</td></tr>
    <tr><td class="ruler"><img src="../../glass.png" width=3 height=3 alt=""></td></tr>

    <tr>
      <td width="100%">
        <table cellpadding=1 border=0 width="100%">
          <tr>
            <td width="10%" class="headerItem">Current view:</td>
            <td width="35%" class="headerValue"><a href="../../index.html">top level</a> - <a href="index.html">core/providers</a> - qgsdataprovider.h<span style="font-size: 80%;"> (source / <a href="qgsdataprovider.h.func-sort-c.html">functions</a>)</span></td>
            <td width="5%"></td>
            <td width="15%"></td>
            <td width="10%" class="headerCovTableHead">Hit</td>
            <td width="10%" class="headerCovTableHead">Total</td>
            <td width="15%" class="headerCovTableHead">Coverage</td>
          </tr>
          <tr>
            <td class="headerItem">Test:</td>
            <td class="headerValue">coverage.info.cleaned</td>
            <td></td>
            <td class="headerItem">Lines:</td>
            <td class="headerCovTableEntry">1</td>
            <td class="headerCovTableEntry">59</td>
            <td class="headerCovTableEntryLo">1.7 %</td>
          </tr>
          <tr>
            <td class="headerItem">Date:</td>
            <td class="headerValue">2021-10-13 17:24:53</td>
            <td></td>
            <td class="headerItem">Functions:</td>
            <td class="headerCovTableEntry">0</td>
            <td class="headerCovTableEntry">0</td>
            <td class="headerCovTableEntryHi">-</td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td class="headerItem">Branches:</td>
            <td class="headerCovTableEntry">0</td>
            <td class="headerCovTableEntry">0</td>
            <td class="headerCovTableEntryHi">-</td>
          </tr>
          <tr><td><img src="../../glass.png" width=3 height=3 alt=""></td></tr>
        </table>
      </td>
    </tr>

    <tr><td class="ruler"><img src="../../glass.png" width=3 height=3 alt=""></td></tr>
  </table>

  <table cellpadding=0 cellspacing=0 border=0>
    <tr>
      <td><br></td>
    </tr>
    <tr>
      <td>
<pre class="sourceHeading">           Branch data     Line data    Source code</pre>
<pre class="source">
<a name="1"><span class="lineNum">       1 </span>                :            : /***************************************************************************</a>
<a name="2"><span class="lineNum">       2 </span>                :            :                 qgsdataprovider.h - DataProvider Interface class</a>
<a name="3"><span class="lineNum">       3 </span>                :            :                      --------------------------------------</a>
<a name="4"><span class="lineNum">       4 </span>                :            :     Date                 : 09-Sep-2003</a>
<a name="5"><span class="lineNum">       5 </span>                :            :     Copyright            : (C) 2003 by Gary E.Sherman</a>
<a name="6"><span class="lineNum">       6 </span>                :            :     email                : sherman at mrcc.com</a>
<a name="7"><span class="lineNum">       7 </span>                :            :  ***************************************************************************</a>
<a name="8"><span class="lineNum">       8 </span>                :            :  *                                                                         *</a>
<a name="9"><span class="lineNum">       9 </span>                :            :  *   This program is free software; you can redistribute it and/or modify  *</a>
<a name="10"><span class="lineNum">      10 </span>                :            :  *   it under the terms of the GNU General Public License as published by  *</a>
<a name="11"><span class="lineNum">      11 </span>                :            :  *   the Free Software Foundation; either version 2 of the License, or     *</a>
<a name="12"><span class="lineNum">      12 </span>                :            :  *   (at your option) any later version.                                   *</a>
<a name="13"><span class="lineNum">      13 </span>                :            :  *                                                                         *</a>
<a name="14"><span class="lineNum">      14 </span>                :            :  ***************************************************************************/</a>
<a name="15"><span class="lineNum">      15 </span>                :            : </a>
<a name="16"><span class="lineNum">      16 </span>                :            : #ifndef QQGSDATAPROVIDER_H</a>
<a name="17"><span class="lineNum">      17 </span>                :            : #define QQGSDATAPROVIDER_H</a>
<a name="18"><span class="lineNum">      18 </span>                :            : </a>
<a name="19"><span class="lineNum">      19 </span>                :            : #include &quot;qgis_core.h&quot;</a>
<a name="20"><span class="lineNum">      20 </span>                :            : #include &lt;QDateTime&gt;</a>
<a name="21"><span class="lineNum">      21 </span>                :            : #include &lt;QObject&gt;</a>
<a name="22"><span class="lineNum">      22 </span>                :            : #include &lt;QString&gt;</a>
<a name="23"><span class="lineNum">      23 </span>                :            : #include &lt;QStringList&gt;</a>
<a name="24"><span class="lineNum">      24 </span>                :            : #include &lt;QMutex&gt;</a>
<a name="25"><span class="lineNum">      25 </span>                :            : </a>
<a name="26"><span class="lineNum">      26 </span>                :            : #include &quot;qgsdatasourceuri.h&quot;</a>
<a name="27"><span class="lineNum">      27 </span>                :            : #include &quot;qgscoordinatetransformcontext.h&quot;</a>
<a name="28"><span class="lineNum">      28 </span>                :            : #include &quot;qgslayermetadata.h&quot;</a>
<a name="29"><span class="lineNum">      29 </span>                :            : #include &quot;qgserror.h&quot;</a>
<a name="30"><span class="lineNum">      30 </span>                :            : </a>
<a name="31"><span class="lineNum">      31 </span>                :            : class QgsRectangle;</a>
<a name="32"><span class="lineNum">      32 </span>                :            : class QgsCoordinateReferenceSystem;</a>
<a name="33"><span class="lineNum">      33 </span>                :            : class QgsDataProviderTemporalCapabilities;</a>
<a name="34"><span class="lineNum">      34 </span>                :            : </a>
<a name="35"><span class="lineNum">      35 </span>                :            : </a>
<a name="36"><span class="lineNum">      36 </span>                :            : /**</a>
<a name="37"><span class="lineNum">      37 </span>                :            :  * \ingroup core</a>
<a name="38"><span class="lineNum">      38 </span>                :            :  * \brief Abstract base class for spatial data provider implementations.</a>
<a name="39"><span class="lineNum">      39 </span>                :            :  */</a>
<a name="40"><span class="lineNum">      40 </span>                :<span class="lineNoCov">          0 : class CORE_EXPORT QgsDataProvider : public QObject</span></a>
<a name="41"><span class="lineNum">      41 </span>                :            : {</a>
<a name="42"><span class="lineNum">      42 </span>                :            : </a>
<a name="43"><span class="lineNum">      43 </span>                :            : #ifdef SIP_RUN</a>
<a name="44"><span class="lineNum">      44 </span>                :            :     SIP_CONVERT_TO_SUBCLASS_CODE</a>
<a name="45"><span class="lineNum">      45 </span>                :            :     if ( qobject_cast&lt;QgsVectorDataProvider *&gt;( sipCpp ) )</a>
<a name="46"><span class="lineNum">      46 </span>                :            :     {</a>
<a name="47"><span class="lineNum">      47 </span>                :            :       sipType = sipType_QgsVectorDataProvider;</a>
<a name="48"><span class="lineNum">      48 </span>                :            :     }</a>
<a name="49"><span class="lineNum">      49 </span>                :            :     else if ( qobject_cast&lt;QgsRasterDataProvider *&gt;( sipCpp ) )</a>
<a name="50"><span class="lineNum">      50 </span>                :            :     {</a>
<a name="51"><span class="lineNum">      51 </span>                :            :       sipType = sipType_QgsRasterDataProvider;</a>
<a name="52"><span class="lineNum">      52 </span>                :            :     }</a>
<a name="53"><span class="lineNum">      53 </span>                :            :     else if ( qobject_cast&lt;QgsMeshDataProvider *&gt;( sipCpp ) )</a>
<a name="54"><span class="lineNum">      54 </span>                :            :     {</a>
<a name="55"><span class="lineNum">      55 </span>                :            :       sipType = sipType_QgsMeshDataProvider;</a>
<a name="56"><span class="lineNum">      56 </span>                :            :     }</a>
<a name="57"><span class="lineNum">      57 </span>                :            :     else if ( qobject_cast&lt;QgsPointCloudDataProvider *&gt;( sipCpp ) )</a>
<a name="58"><span class="lineNum">      58 </span>                :            :     {</a>
<a name="59"><span class="lineNum">      59 </span>                :            :       sipType = sipType_QgsPointCloudDataProvider;</a>
<a name="60"><span class="lineNum">      60 </span>                :            :     }</a>
<a name="61"><span class="lineNum">      61 </span>                :            :     else</a>
<a name="62"><span class="lineNum">      62 </span>                :            :     {</a>
<a name="63"><span class="lineNum">      63 </span>                :            :       sipType = 0;</a>
<a name="64"><span class="lineNum">      64 </span>                :            :     }</a>
<a name="65"><span class="lineNum">      65 </span>                :            :     SIP_END</a>
<a name="66"><span class="lineNum">      66 </span>                :            : #endif</a>
<a name="67"><span class="lineNum">      67 </span>                :            :     Q_OBJECT</a>
<a name="68"><span class="lineNum">      68 </span>                :            : </a>
<a name="69"><span class="lineNum">      69 </span>                :            :   public:</a>
<a name="70"><span class="lineNum">      70 </span>                :            : </a>
<a name="71"><span class="lineNum">      71 </span>                :            :     // TODO QGIS 4: (re)move DataCapability as this enum is really meant for data items rather than data providers</a>
<a name="72"><span class="lineNum">      72 </span>                :            : </a>
<a name="73"><span class="lineNum">      73 </span>                :            :     /**</a>
<a name="74"><span class="lineNum">      74 </span>                :            :      * Used in browser model to understand which items for which providers should be populated</a>
<a name="75"><span class="lineNum">      75 </span>                :            :      */</a>
<a name="76"><span class="lineNum">      76 </span>                :            :     enum DataCapability</a>
<a name="77"><span class="lineNum">      77 </span>                :            :     {</a>
<a name="78"><span class="lineNum">      78 </span>                :            :       NoDataCapabilities  = 0,</a>
<a name="79"><span class="lineNum">      79 </span>                :            :       File                = 1,</a>
<a name="80"><span class="lineNum">      80 </span>                :            :       Dir                 = 1 &lt;&lt; 1,</a>
<a name="81"><span class="lineNum">      81 </span>                :            :       Database            = 1 &lt;&lt; 2,</a>
<a name="82"><span class="lineNum">      82 </span>                :            :       Net                 = 1 &lt;&lt; 3  // Internet source</a>
<a name="83"><span class="lineNum">      83 </span>                :            :     };</a>
<a name="84"><span class="lineNum">      84 </span>                :            :     Q_DECLARE_FLAGS( DataCapabilities, DataCapability )</a>
<a name="85"><span class="lineNum">      85 </span>                :            : </a>
<a name="86"><span class="lineNum">      86 </span>                :            :     /**</a>
<a name="87"><span class="lineNum">      87 </span>                :            :      * Properties are used to pass custom configuration options into data providers.</a>
<a name="88"><span class="lineNum">      88 </span>                :            :      * This enum defines a list of custom properties which can be used on different</a>
<a name="89"><span class="lineNum">      89 </span>                :            :      * providers. It depends on the provider, which properties are supported.</a>
<a name="90"><span class="lineNum">      90 </span>                :            :      * In addition to these default properties, providers can add their custom properties</a>
<a name="91"><span class="lineNum">      91 </span>                :            :      * starting from CustomData.</a>
<a name="92"><span class="lineNum">      92 </span>                :            :      */</a>
<a name="93"><span class="lineNum">      93 </span>                :            :     enum ProviderProperty</a>
<a name="94"><span class="lineNum">      94 </span>                :            :     {</a>
<a name="95"><span class="lineNum">      95 </span>                :            :       EvaluateDefaultValues,       //!&lt; Evaluate default values on provider side when calling QgsVectorDataProvider::defaultValue( int index ) rather than on commit.</a>
<a name="96"><span class="lineNum">      96 </span>                :            :       CustomData   = 3000          //!&lt; Custom properties for 3rd party providers or very provider-specific properties which are not expected to be of interest for other providers can be added starting from this value up.</a>
<a name="97"><span class="lineNum">      97 </span>                :            :     };</a>
<a name="98"><span class="lineNum">      98 </span>                :            : </a>
<a name="99"><span class="lineNum">      99 </span>                :            : </a>
<a name="100"><span class="lineNum">     100 </span>                :            :     /**</a>
<a name="101"><span class="lineNum">     101 </span>                :            :      * Setting options for creating vector data providers.</a>
<a name="102"><span class="lineNum">     102 </span>                :            :      *</a>
<a name="103"><span class="lineNum">     103 </span>                :            :      * \note coordinateTransformContext was added in QGIS 3.8</a>
<a name="104"><span class="lineNum">     104 </span>                :            :      *</a>
<a name="105"><span class="lineNum">     105 </span>                :            :      * \since QGIS 3.2</a>
<a name="106"><span class="lineNum">     106 </span>                :            :      */</a>
<a name="107"><span class="lineNum">     107 </span>                :<span class="lineCov">        280 :     struct ProviderOptions</span></a>
<a name="108"><span class="lineNum">     108 </span>                :            :     {</a>
<a name="109"><span class="lineNum">     109 </span>                :            : </a>
<a name="110"><span class="lineNum">     110 </span>                :            :       /**</a>
<a name="111"><span class="lineNum">     111 </span>                :            :        * Coordinate transform context</a>
<a name="112"><span class="lineNum">     112 </span>                :            :        */</a>
<a name="113"><span class="lineNum">     113 </span>                :            :       QgsCoordinateTransformContext transformContext;</a>
<a name="114"><span class="lineNum">     114 </span>                :            : </a>
<a name="115"><span class="lineNum">     115 </span>                :            :     };</a>
<a name="116"><span class="lineNum">     116 </span>                :            : </a>
<a name="117"><span class="lineNum">     117 </span>                :            :     /**</a>
<a name="118"><span class="lineNum">     118 </span>                :            :      * Flags which control dataprovider construction.</a>
<a name="119"><span class="lineNum">     119 </span>                :            :      * \since QGIS 3.16</a>
<a name="120"><span class="lineNum">     120 </span>                :            :      */</a>
<a name="121"><span class="lineNum">     121 </span>                :            :     enum ReadFlag</a>
<a name="122"><span class="lineNum">     122 </span>                :            :     {</a>
<a name="123"><span class="lineNum">     123 </span>                :            :       FlagTrustDataSource = 1 &lt;&lt; 0, //!&lt; Trust datasource config (primary key unicity, geometry type and srid, etc). Improves provider load time by skipping expensive checks like primary key unicity, geometry type and srid and by using estimated metadata on data load. Since QGIS 3.16</a>
<a name="124"><span class="lineNum">     124 </span>                :            :       SkipFeatureCount = 1 &lt;&lt; 1, //!&lt; Make featureCount() return -1 to indicate unknown, and subLayers() to return a unknown feature count as well. Since QGIS 3.18. Only implemented by OGR provider at time of writing.</a>
<a name="125"><span class="lineNum">     125 </span>                :            :       FlagLoadDefaultStyle = 1 &lt;&lt; 2, //!&lt; Reset the layer's style to the default for the datasource</a>
<a name="126"><span class="lineNum">     126 </span>                :            :       SkipGetExtent = 1 &lt;&lt; 3, //!&lt; Skip the extent from provider</a>
<a name="127"><span class="lineNum">     127 </span>                :            :     };</a>
<a name="128"><span class="lineNum">     128 </span>                :            :     Q_DECLARE_FLAGS( ReadFlags, ReadFlag )</a>
<a name="129"><span class="lineNum">     129 </span>                :            : </a>
<a name="130"><span class="lineNum">     130 </span>                :            :     /**</a>
<a name="131"><span class="lineNum">     131 </span>                :            :      * Create a new dataprovider with the specified in the \a uri.</a>
<a name="132"><span class="lineNum">     132 </span>                :            :      *</a>
<a name="133"><span class="lineNum">     133 </span>                :            :      * Additional creation options are specified within the \a options value and since QGIS 3.16 creation flags are specified within the \a flags value.</a>
<a name="134"><span class="lineNum">     134 </span>                :            :      */</a>
<a name="135"><span class="lineNum">     135 </span>                :            :     QgsDataProvider( const QString &amp;uri = QString(),</a>
<a name="136"><span class="lineNum">     136 </span>                :            :                      const QgsDataProvider::ProviderOptions &amp;providerOptions = QgsDataProvider::ProviderOptions(),</a>
<a name="137"><span class="lineNum">     137 </span>                :            :                      QgsDataProvider::ReadFlags flags = QgsDataProvider::ReadFlags() );</a>
<a name="138"><span class="lineNum">     138 </span>                :            : </a>
<a name="139"><span class="lineNum">     139 </span>                :            :     /**</a>
<a name="140"><span class="lineNum">     140 </span>                :            :      * Returns the coordinate system for the data source.</a>
<a name="141"><span class="lineNum">     141 </span>                :            :      * If the provider isn't capable of returning its projection then an invalid</a>
<a name="142"><span class="lineNum">     142 </span>                :            :      * QgsCoordinateReferenceSystem will be returned.</a>
<a name="143"><span class="lineNum">     143 </span>                :            :      */</a>
<a name="144"><span class="lineNum">     144 </span>                :            :     virtual QgsCoordinateReferenceSystem crs() const = 0;</a>
<a name="145"><span class="lineNum">     145 </span>                :            : </a>
<a name="146"><span class="lineNum">     146 </span>                :            :     /**</a>
<a name="147"><span class="lineNum">     147 </span>                :            :      * Set the data source specification. This may be a path or database</a>
<a name="148"><span class="lineNum">     148 </span>                :            :      * connection string</a>
<a name="149"><span class="lineNum">     149 </span>                :            :      * \param uri source specification</a>
<a name="150"><span class="lineNum">     150 </span>                :            :      */</a>
<a name="151"><span class="lineNum">     151 </span>                :<span class="lineNoCov">          0 :     virtual void setDataSourceUri( const QString &amp;uri )</span></a>
<a name="152"><span class="lineNum">     152 </span>                :            :     {</a>
<a name="153"><span class="lineNum">     153 </span>                :<span class="lineNoCov">          0 :       mDataSourceURI = uri;</span></a>
<a name="154"><span class="lineNum">     154 </span>                :<span class="lineNoCov">          0 :     }</span></a>
<a name="155"><span class="lineNum">     155 </span>                :            : </a>
<a name="156"><span class="lineNum">     156 </span>                :            :     /**</a>
<a name="157"><span class="lineNum">     157 </span>                :            :      * Gets the data source specification. This may be a path or database</a>
<a name="158"><span class="lineNum">     158 </span>                :            :      * connection string</a>
<a name="159"><span class="lineNum">     159 </span>                :            :      * \param expandAuthConfig Whether to expand any assigned authentication configuration</a>
<a name="160"><span class="lineNum">     160 </span>                :            :      * \returns data source specification</a>
<a name="161"><span class="lineNum">     161 </span>                :            :      * \note The default authentication configuration expansion is FALSE. This keeps credentials</a>
<a name="162"><span class="lineNum">     162 </span>                :            :      * out of layer data source URIs and project files. Expansion should be specifically done</a>
<a name="163"><span class="lineNum">     163 </span>                :            :      * only when needed within a provider</a>
<a name="164"><span class="lineNum">     164 </span>                :            :      */</a>
<a name="165"><span class="lineNum">     165 </span>                :<span class="lineNoCov">          0 :     virtual QString dataSourceUri( bool expandAuthConfig = false ) const</span></a>
<a name="166"><span class="lineNum">     166 </span>                :            :     {</a>
<a name="167"><span class="lineNum">     167 </span>                :<span class="lineNoCov">          0 :       if ( expandAuthConfig &amp;&amp; mDataSourceURI.contains( QLatin1String( &quot;authcfg&quot; ) ) )</span></a>
<a name="168"><span class="lineNum">     168 </span>                :            :       {</a>
<a name="169"><span class="lineNum">     169 </span>                :<span class="lineNoCov">          0 :         const QgsDataSourceUri uri( mDataSourceURI );</span></a>
<a name="170"><span class="lineNum">     170 </span>                :<span class="lineNoCov">          0 :         return uri.uri( expandAuthConfig );</span></a>
<a name="171"><span class="lineNum">     171 </span>                :<span class="lineNoCov">          0 :       }</span></a>
<a name="172"><span class="lineNum">     172 </span>                :            :       else</a>
<a name="173"><span class="lineNum">     173 </span>                :            :       {</a>
<a name="174"><span class="lineNum">     174 </span>                :<span class="lineNoCov">          0 :         return mDataSourceURI;</span></a>
<a name="175"><span class="lineNum">     175 </span>                :            :       }</a>
<a name="176"><span class="lineNum">     176 </span>                :<span class="lineNoCov">          0 :     }</span></a>
<a name="177"><span class="lineNum">     177 </span>                :            : </a>
<a name="178"><span class="lineNum">     178 </span>                :            :     /**</a>
<a name="179"><span class="lineNum">     179 </span>                :            :      * Returns a short comment for the data that this provider is</a>
<a name="180"><span class="lineNum">     180 </span>                :            :      * providing access to (e.g. the comment for postgres table).</a>
<a name="181"><span class="lineNum">     181 </span>                :            :      *</a>
<a name="182"><span class="lineNum">     182 </span>                :            :      * \note The default implementation returns an empty string.</a>
<a name="183"><span class="lineNum">     183 </span>                :            :      * \since QGIS 3.14</a>
<a name="184"><span class="lineNum">     184 </span>                :            :      */</a>
<a name="185"><span class="lineNum">     185 </span>                :<span class="lineNoCov">          0 :     virtual QString dataComment() const { return QString(); };</span></a>
<a name="186"><span class="lineNum">     186 </span>                :            : </a>
<a name="187"><span class="lineNum">     187 </span>                :            : </a>
<a name="188"><span class="lineNum">     188 </span>                :            :     /**</a>
<a name="189"><span class="lineNum">     189 </span>                :            :      * Set the data source specification.</a>
<a name="190"><span class="lineNum">     190 </span>                :            :      *</a>
<a name="191"><span class="lineNum">     191 </span>                :            :      * \since QGIS 3.0</a>
<a name="192"><span class="lineNum">     192 </span>                :            :      */</a>
<a name="193"><span class="lineNum">     193 </span>                :<span class="lineNoCov">          0 :     void setUri( const QgsDataSourceUri &amp;uri )</span></a>
<a name="194"><span class="lineNum">     194 </span>                :            :     {</a>
<a name="195"><span class="lineNum">     195 </span>                :<span class="lineNoCov">          0 :       mDataSourceURI = uri.uri( true );</span></a>
<a name="196"><span class="lineNum">     196 </span>                :<span class="lineNoCov">          0 :     }</span></a>
<a name="197"><span class="lineNum">     197 </span>                :            : </a>
<a name="198"><span class="lineNum">     198 </span>                :            :     /**</a>
<a name="199"><span class="lineNum">     199 </span>                :            :      * Gets the data source specification.</a>
<a name="200"><span class="lineNum">     200 </span>                :            :      *</a>
<a name="201"><span class="lineNum">     201 </span>                :            :      * \since QGIS 3.0</a>
<a name="202"><span class="lineNum">     202 </span>                :            :      */</a>
<a name="203"><span class="lineNum">     203 </span>                :<span class="lineNoCov">          0 :     QgsDataSourceUri uri() const</span></a>
<a name="204"><span class="lineNum">     204 </span>                :            :     {</a>
<a name="205"><span class="lineNum">     205 </span>                :<span class="lineNoCov">          0 :       return QgsDataSourceUri( mDataSourceURI );</span></a>
<a name="206"><span class="lineNum">     206 </span>                :            :     }</a>
<a name="207"><span class="lineNum">     207 </span>                :            : </a>
<a name="208"><span class="lineNum">     208 </span>                :            :     /**</a>
<a name="209"><span class="lineNum">     209 </span>                :            :      * Returns the provider's temporal capabilities.</a>
<a name="210"><span class="lineNum">     210 </span>                :            :      *</a>
<a name="211"><span class="lineNum">     211 </span>                :            :      * This may be NULLPTR, depending on the data provider.</a>
<a name="212"><span class="lineNum">     212 </span>                :            :      *</a>
<a name="213"><span class="lineNum">     213 </span>                :            :      * \since QGIS 3.14</a>
<a name="214"><span class="lineNum">     214 </span>                :            :      */</a>
<a name="215"><span class="lineNum">     215 </span>                :            :     virtual QgsDataProviderTemporalCapabilities *temporalCapabilities();</a>
<a name="216"><span class="lineNum">     216 </span>                :            : </a>
<a name="217"><span class="lineNum">     217 </span>                :            :     /**</a>
<a name="218"><span class="lineNum">     218 </span>                :            :      * Returns the provider's temporal capabilities.</a>
<a name="219"><span class="lineNum">     219 </span>                :            :      *</a>
<a name="220"><span class="lineNum">     220 </span>                :            :      * This may be NULLPTR, depending on the data provider.</a>
<a name="221"><span class="lineNum">     221 </span>                :            :      *</a>
<a name="222"><span class="lineNum">     222 </span>                :            :      * \since QGIS 3.14</a>
<a name="223"><span class="lineNum">     223 </span>                :            :      */</a>
<a name="224"><span class="lineNum">     224 </span>                :            :     virtual const QgsDataProviderTemporalCapabilities *temporalCapabilities() const SIP_SKIP;</a>
<a name="225"><span class="lineNum">     225 </span>                :            : </a>
<a name="226"><span class="lineNum">     226 </span>                :            :     /**</a>
<a name="227"><span class="lineNum">     227 </span>                :            :      * Returns the extent of the layer</a>
<a name="228"><span class="lineNum">     228 </span>                :            :      * \returns QgsRectangle containing the extent of the layer</a>
<a name="229"><span class="lineNum">     229 </span>                :            :      */</a>
<a name="230"><span class="lineNum">     230 </span>                :            :     virtual QgsRectangle extent() const = 0;</a>
<a name="231"><span class="lineNum">     231 </span>                :            : </a>
<a name="232"><span class="lineNum">     232 </span>                :            : </a>
<a name="233"><span class="lineNum">     233 </span>                :            :     /**</a>
<a name="234"><span class="lineNum">     234 </span>                :            :      * Returns TRUE if this is a valid layer. It is up to individual providers</a>
<a name="235"><span class="lineNum">     235 </span>                :            :      * to determine what constitutes a valid layer.</a>
<a name="236"><span class="lineNum">     236 </span>                :            :      */</a>
<a name="237"><span class="lineNum">     237 </span>                :            :     virtual bool isValid() const = 0;</a>
<a name="238"><span class="lineNum">     238 </span>                :            : </a>
<a name="239"><span class="lineNum">     239 </span>                :            :     /**</a>
<a name="240"><span class="lineNum">     240 </span>                :            :      * Update the extents of the layer. Not implemented by default.</a>
<a name="241"><span class="lineNum">     241 </span>                :            :      */</a>
<a name="242"><span class="lineNum">     242 </span>                :<span class="lineNoCov">          0 :     virtual void updateExtents()</span></a>
<a name="243"><span class="lineNum">     243 </span>                :            :     {</a>
<a name="244"><span class="lineNum">     244 </span>                :            :       // NOP by default</a>
<a name="245"><span class="lineNum">     245 </span>                :<span class="lineNoCov">          0 :     }</span></a>
<a name="246"><span class="lineNum">     246 </span>                :            : </a>
<a name="247"><span class="lineNum">     247 </span>                :            : </a>
<a name="248"><span class="lineNum">     248 </span>                :            :     /**</a>
<a name="249"><span class="lineNum">     249 </span>                :            :      * Set the subset string used to create a subset of features in</a>
<a name="250"><span class="lineNum">     250 </span>                :            :      * the layer. This may be a sql where clause or any other string</a>
<a name="251"><span class="lineNum">     251 </span>                :            :      * that can be used by the data provider to create a subset.</a>
<a name="252"><span class="lineNum">     252 </span>                :            :      * Must be implemented in the dataprovider.</a>
<a name="253"><span class="lineNum">     253 </span>                :            :      */</a>
<a name="254"><span class="lineNum">     254 </span>                :<span class="lineNoCov">          0 :     virtual bool setSubsetString( const QString &amp;subset, bool updateFeatureCount = true )</span></a>
<a name="255"><span class="lineNum">     255 </span>                :            :     {</a>
<a name="256"><span class="lineNum">     256 </span>                :            :       // NOP by default</a>
<a name="257"><span class="lineNum">     257 </span>                :<span class="lineNoCov">          0 :       Q_UNUSED( subset )</span></a>
<a name="258"><span class="lineNum">     258 </span>                :            :       Q_UNUSED( updateFeatureCount )</a>
<a name="259"><span class="lineNum">     259 </span>                :<span class="lineNoCov">          0 :       return false;</span></a>
<a name="260"><span class="lineNum">     260 </span>                :            :     }</a>
<a name="261"><span class="lineNum">     261 </span>                :            : </a>
<a name="262"><span class="lineNum">     262 </span>                :            : </a>
<a name="263"><span class="lineNum">     263 </span>                :            :     /**</a>
<a name="264"><span class="lineNum">     264 </span>                :            :      * Returns TRUE if the provider supports setting of subset strings.</a>
<a name="265"><span class="lineNum">     265 </span>                :            :     */</a>
<a name="266"><span class="lineNum">     266 </span>                :<span class="lineNoCov">          0 :     virtual bool supportsSubsetString() const { return false; }</span></a>
<a name="267"><span class="lineNum">     267 </span>                :            : </a>
<a name="268"><span class="lineNum">     268 </span>                :            :     /**</a>
<a name="269"><span class="lineNum">     269 </span>                :            :      * Returns the subset definition string (typically sql) currently in</a>
<a name="270"><span class="lineNum">     270 </span>                :            :      * use by the layer and used by the provider to limit the feature set.</a>
<a name="271"><span class="lineNum">     271 </span>                :            :      * Must be overridden in the dataprovider, otherwise returns a null</a>
<a name="272"><span class="lineNum">     272 </span>                :            :      * QString.</a>
<a name="273"><span class="lineNum">     273 </span>                :            :      */</a>
<a name="274"><span class="lineNum">     274 </span>                :<span class="lineNoCov">          0 :     virtual QString subsetString() const</span></a>
<a name="275"><span class="lineNum">     275 </span>                :            :     {</a>
<a name="276"><span class="lineNum">     276 </span>                :<span class="lineNoCov">          0 :       return QString();</span></a>
<a name="277"><span class="lineNum">     277 </span>                :            :     }</a>
<a name="278"><span class="lineNum">     278 </span>                :            : </a>
<a name="279"><span class="lineNum">     279 </span>                :            : </a>
<a name="280"><span class="lineNum">     280 </span>                :            :     /**</a>
<a name="281"><span class="lineNum">     281 </span>                :            :      * Sub-layers handled by this provider, in order from bottom to top</a>
<a name="282"><span class="lineNum">     282 </span>                :            :      *</a>
<a name="283"><span class="lineNum">     283 </span>                :            :      * Sub-layers are used when the provider's source can combine layers</a>
<a name="284"><span class="lineNum">     284 </span>                :            :      * it knows about in some way before it hands them off to the provider.</a>
<a name="285"><span class="lineNum">     285 </span>                :            :      *</a>
<a name="286"><span class="lineNum">     286 </span>                :            :      * \see SUBLAYER_SEPARATOR</a>
<a name="287"><span class="lineNum">     287 </span>                :            :      */</a>
<a name="288"><span class="lineNum">     288 </span>                :<span class="lineNoCov">          0 :     virtual QStringList subLayers() const</span></a>
<a name="289"><span class="lineNum">     289 </span>                :            :     {</a>
<a name="290"><span class="lineNum">     290 </span>                :<span class="lineNoCov">          0 :       return QStringList();  // Empty</span></a>
<a name="291"><span class="lineNum">     291 </span>                :            :     }</a>
<a name="292"><span class="lineNum">     292 </span>                :            : </a>
<a name="293"><span class="lineNum">     293 </span>                :            :     /**</a>
<a name="294"><span class="lineNum">     294 </span>                :            :      * Sub-layer styles for each sub-layer handled by this provider,</a>
<a name="295"><span class="lineNum">     295 </span>                :            :      * in order from bottom to top</a>
<a name="296"><span class="lineNum">     296 </span>                :            :      *</a>
<a name="297"><span class="lineNum">     297 </span>                :            :      * Sub-layer styles are used to abstract the way the provider's source can symbolise</a>
<a name="298"><span class="lineNum">     298 </span>                :            :      * layers in some way at the server, before it serves them to the provider.</a>
<a name="299"><span class="lineNum">     299 </span>                :            :      */</a>
<a name="300"><span class="lineNum">     300 </span>                :<span class="lineNoCov">          0 :     virtual QStringList subLayerStyles() const</span></a>
<a name="301"><span class="lineNum">     301 </span>                :            :     {</a>
<a name="302"><span class="lineNum">     302 </span>                :<span class="lineNoCov">          0 :       return QStringList();  // Empty</span></a>
<a name="303"><span class="lineNum">     303 </span>                :            :     }</a>
<a name="304"><span class="lineNum">     304 </span>                :            : </a>
<a name="305"><span class="lineNum">     305 </span>                :            : </a>
<a name="306"><span class="lineNum">     306 </span>                :            :     /**</a>
<a name="307"><span class="lineNum">     307 </span>                :            :      * Returns the number of layers for the current data source</a>
<a name="308"><span class="lineNum">     308 </span>                :            :      */</a>
<a name="309"><span class="lineNum">     309 </span>                :<span class="lineNoCov">          0 :     virtual uint subLayerCount() const</span></a>
<a name="310"><span class="lineNum">     310 </span>                :            :     {</a>
<a name="311"><span class="lineNum">     311 </span>                :<span class="lineNoCov">          0 :       return 0;</span></a>
<a name="312"><span class="lineNum">     312 </span>                :            :     }</a>
<a name="313"><span class="lineNum">     313 </span>                :            : </a>
<a name="314"><span class="lineNum">     314 </span>                :            : </a>
<a name="315"><span class="lineNum">     315 </span>                :            :     /**</a>
<a name="316"><span class="lineNum">     316 </span>                :            :      * Reorder the list of layer names to be rendered by this provider</a>
<a name="317"><span class="lineNum">     317 </span>                :            :      * (in order from bottom to top)</a>
<a name="318"><span class="lineNum">     318 </span>                :            :      * \note   layers must have been previously added.</a>
<a name="319"><span class="lineNum">     319 </span>                :            :      */</a>
<a name="320"><span class="lineNum">     320 </span>                :<span class="lineNoCov">          0 :     virtual void setLayerOrder( const QStringList &amp;layers )</span></a>
<a name="321"><span class="lineNum">     321 </span>                :            :     {</a>
<a name="322"><span class="lineNum">     322 </span>                :            :       //prevent unused var warnings</a>
<a name="323"><span class="lineNum">     323 </span>                :<span class="lineNoCov">          0 :       if ( layers.count() &lt; 1 )</span></a>
<a name="324"><span class="lineNum">     324 </span>                :            :       {</a>
<a name="325"><span class="lineNum">     325 </span>                :<span class="lineNoCov">          0 :         return;</span></a>
<a name="326"><span class="lineNum">     326 </span>                :            :       }</a>
<a name="327"><span class="lineNum">     327 </span>                :            :       // NOOP</a>
<a name="328"><span class="lineNum">     328 </span>                :<span class="lineNoCov">          0 :     }</span></a>
<a name="329"><span class="lineNum">     329 </span>                :            : </a>
<a name="330"><span class="lineNum">     330 </span>                :            : </a>
<a name="331"><span class="lineNum">     331 </span>                :            :     /**</a>
<a name="332"><span class="lineNum">     332 </span>                :            :      * Set the visibility of the given sublayer name</a>
<a name="333"><span class="lineNum">     333 </span>                :            :      */</a>
<a name="334"><span class="lineNum">     334 </span>                :<span class="lineNoCov">          0 :     virtual void setSubLayerVisibility( const QString &amp;name, bool vis )</span></a>
<a name="335"><span class="lineNum">     335 </span>                :            :     {</a>
<a name="336"><span class="lineNum">     336 </span>                :            :       //prevent unused var warnings</a>
<a name="337"><span class="lineNum">     337 </span>                :<span class="lineNoCov">          0 :       if ( name.isEmpty() || !vis )</span></a>
<a name="338"><span class="lineNum">     338 </span>                :            :       {</a>
<a name="339"><span class="lineNum">     339 </span>                :<span class="lineNoCov">          0 :         return;</span></a>
<a name="340"><span class="lineNum">     340 </span>                :            :       }</a>
<a name="341"><span class="lineNum">     341 </span>                :            :       // NOOP</a>
<a name="342"><span class="lineNum">     342 </span>                :<span class="lineNoCov">          0 :     }</span></a>
<a name="343"><span class="lineNum">     343 </span>                :            : </a>
<a name="344"><span class="lineNum">     344 </span>                :            : </a>
<a name="345"><span class="lineNum">     345 </span>                :            :     /**</a>
<a name="346"><span class="lineNum">     346 </span>                :            :      * Returns a provider name</a>
<a name="347"><span class="lineNum">     347 </span>                :            :      *</a>
<a name="348"><span class="lineNum">     348 </span>                :            :      * Essentially just returns the provider key.  Should be used to build file</a>
<a name="349"><span class="lineNum">     349 </span>                :            :      * dialogs so that providers can be shown with their supported types. Thus</a>
<a name="350"><span class="lineNum">     350 </span>                :            :      * if more than one provider supports a given format, the user is able to</a>
<a name="351"><span class="lineNum">     351 </span>                :            :      * select a specific provider to open that file.</a>
<a name="352"><span class="lineNum">     352 </span>                :            :      *</a>
<a name="353"><span class="lineNum">     353 </span>                :            :      * \note</a>
<a name="354"><span class="lineNum">     354 </span>                :            :      *</a>
<a name="355"><span class="lineNum">     355 </span>                :            :      * Instead of being pure virtual, might be better to generalize this</a>
<a name="356"><span class="lineNum">     356 </span>                :            :      * behavior and presume that none of the sub-classes are going to do</a>
<a name="357"><span class="lineNum">     357 </span>                :            :      * anything strange with regards to their name or description?</a>
<a name="358"><span class="lineNum">     358 </span>                :            :      *</a>
<a name="359"><span class="lineNum">     359 </span>                :            :      */</a>
<a name="360"><span class="lineNum">     360 </span>                :            :     virtual QString name() const = 0;</a>
<a name="361"><span class="lineNum">     361 </span>                :            : </a>
<a name="362"><span class="lineNum">     362 </span>                :            : </a>
<a name="363"><span class="lineNum">     363 </span>                :            :     /**</a>
<a name="364"><span class="lineNum">     364 </span>                :            :      * Returns description</a>
<a name="365"><span class="lineNum">     365 </span>                :            :      *</a>
<a name="366"><span class="lineNum">     366 </span>                :            :      * Returns a terse string describing what the provider is.</a>
<a name="367"><span class="lineNum">     367 </span>                :            :      *</a>
<a name="368"><span class="lineNum">     368 </span>                :            :      * \note</a>
<a name="369"><span class="lineNum">     369 </span>                :            :      *</a>
<a name="370"><span class="lineNum">     370 </span>                :            :      * Instead of being pure virtual, might be better to generalize this</a>
<a name="371"><span class="lineNum">     371 </span>                :            :      * behavior and presume that none of the sub-classes are going to do</a>
<a name="372"><span class="lineNum">     372 </span>                :            :      * anything strange with regards to their name or description?</a>
<a name="373"><span class="lineNum">     373 </span>                :            :      *</a>
<a name="374"><span class="lineNum">     374 </span>                :            :      */</a>
<a name="375"><span class="lineNum">     375 </span>                :            :     virtual QString description() const = 0;</a>
<a name="376"><span class="lineNum">     376 </span>                :            : </a>
<a name="377"><span class="lineNum">     377 </span>                :            : </a>
<a name="378"><span class="lineNum">     378 </span>                :            :     /**</a>
<a name="379"><span class="lineNum">     379 </span>                :            :      * Returns vector file filter string</a>
<a name="380"><span class="lineNum">     380 </span>                :            :      *</a>
<a name="381"><span class="lineNum">     381 </span>                :            :      * Returns a string suitable for a QFileDialog of vector file formats</a>
<a name="382"><span class="lineNum">     382 </span>                :            :      * supported by the data provider.  Naturally this will be an empty string</a>
<a name="383"><span class="lineNum">     383 </span>                :            :      * for those data providers that do not deal with plain files, such as</a>
<a name="384"><span class="lineNum">     384 </span>                :            :      * databases and servers.</a>
<a name="385"><span class="lineNum">     385 </span>                :            :      *</a>
<a name="386"><span class="lineNum">     386 </span>                :            :      * \note It'd be nice to eventually be raster/vector neutral.</a>
<a name="387"><span class="lineNum">     387 </span>                :            :      */</a>
<a name="388"><span class="lineNum">     388 </span>                :<span class="lineNoCov">          0 :     virtual QString fileVectorFilters() const</span></a>
<a name="389"><span class="lineNum">     389 </span>                :            :     {</a>
<a name="390"><span class="lineNum">     390 </span>                :<span class="lineNoCov">          0 :       return QString();</span></a>
<a name="391"><span class="lineNum">     391 </span>                :            :     }</a>
<a name="392"><span class="lineNum">     392 </span>                :            : </a>
<a name="393"><span class="lineNum">     393 </span>                :            : </a>
<a name="394"><span class="lineNum">     394 </span>                :            :     /**</a>
<a name="395"><span class="lineNum">     395 </span>                :            :      * Returns raster file filter string</a>
<a name="396"><span class="lineNum">     396 </span>                :            :      *</a>
<a name="397"><span class="lineNum">     397 </span>                :            :      * Returns a string suitable for a QFileDialog of raster file formats</a>
<a name="398"><span class="lineNum">     398 </span>                :            :      * supported by the data provider.  Naturally this will be an empty string</a>
<a name="399"><span class="lineNum">     399 </span>                :            :      * for those data providers that do not deal with plain files, such as</a>
<a name="400"><span class="lineNum">     400 </span>                :            :      * databases and servers.</a>
<a name="401"><span class="lineNum">     401 </span>                :            :      *</a>
<a name="402"><span class="lineNum">     402 </span>                :            :      * \note It'd be nice to eventually be raster/vector neutral.</a>
<a name="403"><span class="lineNum">     403 </span>                :            :      */</a>
<a name="404"><span class="lineNum">     404 </span>                :<span class="lineNoCov">          0 :     virtual QString fileRasterFilters() const</span></a>
<a name="405"><span class="lineNum">     405 </span>                :            :     {</a>
<a name="406"><span class="lineNum">     406 </span>                :<span class="lineNoCov">          0 :       return QString();</span></a>
<a name="407"><span class="lineNum">     407 </span>                :            :     }</a>
<a name="408"><span class="lineNum">     408 </span>                :            : </a>
<a name="409"><span class="lineNum">     409 </span>                :            :     // TODO QGIS 4 -&gt; Make `reloadData()` non virtual. This should be implemented in `reloadProviderData()`.</a>
<a name="410"><span class="lineNum">     410 </span>                :            : </a>
<a name="411"><span class="lineNum">     411 </span>                :            :     /**</a>
<a name="412"><span class="lineNum">     412 </span>                :            :      * Reloads the data from the source for providers with data caches to synchronize,</a>
<a name="413"><span class="lineNum">     413 </span>                :            :      * changes in the data source, feature counts and other specific actions.</a>
<a name="414"><span class="lineNum">     414 </span>                :            :      * Emits the `dataChanged` signal</a>
<a name="415"><span class="lineNum">     415 </span>                :            :      *</a>
<a name="416"><span class="lineNum">     416 </span>                :            :      * \note only available for providers which implement the reloadProviderData() method.</a>
<a name="417"><span class="lineNum">     417 </span>                :            :      */</a>
<a name="418"><span class="lineNum">     418 </span>                :            :     virtual void reloadData();</a>
<a name="419"><span class="lineNum">     419 </span>                :            : </a>
<a name="420"><span class="lineNum">     420 </span>                :            :     //! Time stamp of data source in the moment when data/metadata were loaded by provider</a>
<a name="421"><span class="lineNum">     421 </span>                :<span class="lineNoCov">          0 :     virtual QDateTime timestamp() const { return mTimestamp; }</span></a>
<a name="422"><span class="lineNum">     422 </span>                :            : </a>
<a name="423"><span class="lineNum">     423 </span>                :            :     //! Current time stamp of data source</a>
<a name="424"><span class="lineNum">     424 </span>                :<span class="lineNoCov">          0 :     virtual QDateTime dataTimestamp() const { return QDateTime(); }</span></a>
<a name="425"><span class="lineNum">     425 </span>                :            : </a>
<a name="426"><span class="lineNum">     426 </span>                :            :     /**</a>
<a name="427"><span class="lineNum">     427 </span>                :            :      * Gets current status error. This error describes some principal problem</a>
<a name="428"><span class="lineNum">     428 </span>                :            :      *  for which provider cannot work and thus is not valid. It is not last error</a>
<a name="429"><span class="lineNum">     429 </span>                :            :      *  after accessing data by block(), identify() etc.</a>
<a name="430"><span class="lineNum">     430 </span>                :            :      */</a>
<a name="431"><span class="lineNum">     431 </span>                :<span class="lineNoCov">          0 :     virtual QgsError error() const { return mError; }</span></a>
<a name="432"><span class="lineNum">     432 </span>                :            : </a>
<a name="433"><span class="lineNum">     433 </span>                :            :     /**</a>
<a name="434"><span class="lineNum">     434 </span>                :            :      * Invalidate connections corresponding to specified name</a>
<a name="435"><span class="lineNum">     435 </span>                :            :      * \since QGIS 2.16</a>
<a name="436"><span class="lineNum">     436 </span>                :            :      */</a>
<a name="437"><span class="lineNum">     437 </span>                :<span class="lineNoCov">          0 :     virtual void invalidateConnections( const QString &amp;connection ) { Q_UNUSED( connection ) }</span></a>
<a name="438"><span class="lineNum">     438 </span>                :            : </a>
<a name="439"><span class="lineNum">     439 </span>                :            :     /**</a>
<a name="440"><span class="lineNum">     440 </span>                :            :      * Enter update mode.</a>
<a name="441"><span class="lineNum">     441 </span>                :            :      *</a>
<a name="442"><span class="lineNum">     442 </span>                :            :      * This is aimed at providers that can open differently the connection to</a>
<a name="443"><span class="lineNum">     443 </span>                :            :      * the datasource, according it to be in update mode or in read-only mode.</a>
<a name="444"><span class="lineNum">     444 </span>                :            :      * A call to this method shall be balanced with a call to leaveUpdateMode(),</a>
<a name="445"><span class="lineNum">     445 </span>                :            :      * if this method returns TRUE.</a>
<a name="446"><span class="lineNum">     446 </span>                :            :      *</a>
<a name="447"><span class="lineNum">     447 </span>                :            :      * Most providers will have an empty implementation for that method.</a>
<a name="448"><span class="lineNum">     448 </span>                :            :      *</a>
<a name="449"><span class="lineNum">     449 </span>                :            :      * For backward compatibility, providers that implement enterUpdateMode() should</a>
<a name="450"><span class="lineNum">     450 </span>                :            :      * still make sure to allow editing operations to work even if enterUpdateMode()</a>
<a name="451"><span class="lineNum">     451 </span>                :            :      * is not explicitly called.</a>
<a name="452"><span class="lineNum">     452 </span>                :            :      *</a>
<a name="453"><span class="lineNum">     453 </span>                :            :      * Several successive calls to enterUpdateMode() can be done. So there is</a>
<a name="454"><span class="lineNum">     454 </span>                :            :      * a concept of stack of calls that must be handled by the provider. Only the first</a>
<a name="455"><span class="lineNum">     455 </span>                :            :      * call to enterUpdateMode() will really turn update mode on.</a>
<a name="456"><span class="lineNum">     456 </span>                :            :      *</a>
<a name="457"><span class="lineNum">     457 </span>                :            :      * \returns TRUE in case of success (or no-op implementation), FALSE in case of failure.</a>
<a name="458"><span class="lineNum">     458 </span>                :            :      *</a>
<a name="459"><span class="lineNum">     459 </span>                :            :      * \since QGIS 2.16</a>
<a name="460"><span class="lineNum">     460 </span>                :            :      */</a>
<a name="461"><span class="lineNum">     461 </span>                :<span class="lineNoCov">          0 :     virtual bool enterUpdateMode() { return true; }</span></a>
<a name="462"><span class="lineNum">     462 </span>                :            : </a>
<a name="463"><span class="lineNum">     463 </span>                :            :     /**</a>
<a name="464"><span class="lineNum">     464 </span>                :            :      * Leave update mode.</a>
<a name="465"><span class="lineNum">     465 </span>                :            :      *</a>
<a name="466"><span class="lineNum">     466 </span>                :            :      * This is aimed at providers that can open differently the connection to</a>
<a name="467"><span class="lineNum">     467 </span>                :            :      * the datasource, according it to be in update mode or in read-only mode.</a>
<a name="468"><span class="lineNum">     468 </span>                :            :      * This method shall be balanced with a successful call to enterUpdateMode().</a>
<a name="469"><span class="lineNum">     469 </span>                :            :      *</a>
<a name="470"><span class="lineNum">     470 </span>                :            :      * Most providers will have an empty implementation for that method.</a>
<a name="471"><span class="lineNum">     471 </span>                :            :      *</a>
<a name="472"><span class="lineNum">     472 </span>                :            :      * Several successive calls to enterUpdateMode() can be done. So there is</a>
<a name="473"><span class="lineNum">     473 </span>                :            :      * a concept of stack of calls that must be handled by the provider. Only the last</a>
<a name="474"><span class="lineNum">     474 </span>                :            :      * call to leaveUpdateMode() will really turn update mode off.</a>
<a name="475"><span class="lineNum">     475 </span>                :            :      *</a>
<a name="476"><span class="lineNum">     476 </span>                :            :      * \returns TRUE in case of success (or no-op implementation), FALSE in case of failure.</a>
<a name="477"><span class="lineNum">     477 </span>                :            :      *</a>
<a name="478"><span class="lineNum">     478 </span>                :            :      * \since QGIS 2.16</a>
<a name="479"><span class="lineNum">     479 </span>                :            :      */</a>
<a name="480"><span class="lineNum">     480 </span>                :<span class="lineNoCov">          0 :     virtual bool leaveUpdateMode() { return true; }</span></a>
<a name="481"><span class="lineNum">     481 </span>                :            : </a>
<a name="482"><span class="lineNum">     482 </span>                :            :     /**</a>
<a name="483"><span class="lineNum">     483 </span>                :            :      * Allows setting arbitrary properties on the provider.</a>
<a name="484"><span class="lineNum">     484 </span>                :            :      * It depends on the provider which properties are supported.</a>
<a name="485"><span class="lineNum">     485 </span>                :            :      *</a>
<a name="486"><span class="lineNum">     486 </span>                :            :      * \since QGIS 2.16</a>
<a name="487"><span class="lineNum">     487 </span>                :            :      */</a>
<a name="488"><span class="lineNum">     488 </span>                :            :     void setProviderProperty( ProviderProperty property, const QVariant &amp;value );</a>
<a name="489"><span class="lineNum">     489 </span>                :            : </a>
<a name="490"><span class="lineNum">     490 </span>                :            :     /**</a>
<a name="491"><span class="lineNum">     491 </span>                :            :      * Allows setting arbitrary properties on the provider.</a>
<a name="492"><span class="lineNum">     492 </span>                :            :      * It depends on the provider which properties are supported.</a>
<a name="493"><span class="lineNum">     493 </span>                :            :      *</a>
<a name="494"><span class="lineNum">     494 </span>                :            :      * \since QGIS 2.16</a>
<a name="495"><span class="lineNum">     495 </span>                :            :      */</a>
<a name="496"><span class="lineNum">     496 </span>                :            :     void setProviderProperty( int property, const QVariant &amp;value ); // SIP_SKIP</a>
<a name="497"><span class="lineNum">     497 </span>                :            : </a>
<a name="498"><span class="lineNum">     498 </span>                :            :     /**</a>
<a name="499"><span class="lineNum">     499 </span>                :            :      * Gets the current value of a certain provider property.</a>
<a name="500"><span class="lineNum">     500 </span>                :            :      * It depends on the provider which properties are supported.</a>
<a name="501"><span class="lineNum">     501 </span>                :            :      *</a>
<a name="502"><span class="lineNum">     502 </span>                :            :      * \since QGIS 2.16</a>
<a name="503"><span class="lineNum">     503 </span>                :            :      */</a>
<a name="504"><span class="lineNum">     504 </span>                :            :     QVariant providerProperty( ProviderProperty property, const QVariant &amp;defaultValue = QVariant() ) const;</a>
<a name="505"><span class="lineNum">     505 </span>                :            : </a>
<a name="506"><span class="lineNum">     506 </span>                :            :     /**</a>
<a name="507"><span class="lineNum">     507 </span>                :            :      * Gets the current value of a certain provider property.</a>
<a name="508"><span class="lineNum">     508 </span>                :            :      * It depends on the provider which properties are supported.</a>
<a name="509"><span class="lineNum">     509 </span>                :            :      *</a>
<a name="510"><span class="lineNum">     510 </span>                :            :      * \since QGIS 2.16</a>
<a name="511"><span class="lineNum">     511 </span>                :            :      */</a>
<a name="512"><span class="lineNum">     512 </span>                :            :     QVariant providerProperty( int property, const QVariant &amp;defaultValue ) const; // SIP_SKIP</a>
<a name="513"><span class="lineNum">     513 </span>                :            : </a>
<a name="514"><span class="lineNum">     514 </span>                :            :     /**</a>
<a name="515"><span class="lineNum">     515 </span>                :            :      * Set whether the provider will listen to datasource notifications</a>
<a name="516"><span class="lineNum">     516 </span>                :            :      * If set, the provider will issue notify signals.</a>
<a name="517"><span class="lineNum">     517 </span>                :            :      *</a>
<a name="518"><span class="lineNum">     518 </span>                :            :      * The default implementation does nothing.</a>
<a name="519"><span class="lineNum">     519 </span>                :            :      *</a>
<a name="520"><span class="lineNum">     520 </span>                :            :      * \see notify</a>
<a name="521"><span class="lineNum">     521 </span>                :            :      *</a>
<a name="522"><span class="lineNum">     522 </span>                :            :      * \since QGIS 3.0</a>
<a name="523"><span class="lineNum">     523 </span>                :            :      */</a>
<a name="524"><span class="lineNum">     524 </span>                :            :     virtual void setListening( bool isListening );</a>
<a name="525"><span class="lineNum">     525 </span>                :            : </a>
<a name="526"><span class="lineNum">     526 </span>                :            : #ifndef SIP_RUN</a>
<a name="527"><span class="lineNum">     527 </span>                :            : </a>
<a name="528"><span class="lineNum">     528 </span>                :            :     /**</a>
<a name="529"><span class="lineNum">     529 </span>                :            :      * Stores settings related to the context in which a preview job runs.</a>
<a name="530"><span class="lineNum">     530 </span>                :            :      * \note Not available in Python bindings</a>
<a name="531"><span class="lineNum">     531 </span>                :            :      * \since QGIS 3.0</a>
<a name="532"><span class="lineNum">     532 </span>                :            :      */</a>
<a name="533"><span class="lineNum">     533 </span>                :<span class="lineNoCov">          0 :     struct PreviewContext</span></a>
<a name="534"><span class="lineNum">     534 </span>                :            :     {</a>
<a name="535"><span class="lineNum">     535 </span>                :            :       //! Previous rendering time for the layer, in ms</a>
<a name="536"><span class="lineNum">     536 </span>                :<span class="lineNoCov">          0 :       double lastRenderingTimeMs = -1;</span></a>
<a name="537"><span class="lineNum">     537 </span>                :            : </a>
<a name="538"><span class="lineNum">     538 </span>                :            :       //! Default maximum allowable render time, in ms</a>
<a name="539"><span class="lineNum">     539 </span>                :<span class="lineNoCov">          0 :       double maxRenderingTimeMs = MAXIMUM_LAYER_PREVIEW_TIME_MS;</span></a>
<a name="540"><span class="lineNum">     540 </span>                :            :     };</a>
<a name="541"><span class="lineNum">     541 </span>                :            : #endif</a>
<a name="542"><span class="lineNum">     542 </span>                :            : </a>
<a name="543"><span class="lineNum">     543 </span>                :            :     /**</a>
<a name="544"><span class="lineNum">     544 </span>                :            :      * Returns whether the layer must be rendered in preview jobs.</a>
<a name="545"><span class="lineNum">     545 </span>                :            :      *</a>
<a name="546"><span class="lineNum">     546 </span>                :            :      * The \a context argument gives useful information which can be used</a>
<a name="547"><span class="lineNum">     547 </span>                :            :      * to determine whether the layer should be rendered or not.</a>
<a name="548"><span class="lineNum">     548 </span>                :            :      *</a>
<a name="549"><span class="lineNum">     549 </span>                :            :      * The base implementation returns TRUE if lastRenderingTimeMs &lt;= maxRenderingTimeMs.</a>
<a name="550"><span class="lineNum">     550 </span>                :            :      *</a>
<a name="551"><span class="lineNum">     551 </span>                :            :      *</a>
<a name="552"><span class="lineNum">     552 </span>                :            :      * \note not available in Python bindings</a>
<a name="553"><span class="lineNum">     553 </span>                :            :      * \since QGIS 3.0</a>
<a name="554"><span class="lineNum">     554 </span>                :            :      */</a>
<a name="555"><span class="lineNum">     555 </span>                :            :     virtual bool renderInPreview( const QgsDataProvider::PreviewContext &amp;context ); // SIP_SKIP</a>
<a name="556"><span class="lineNum">     556 </span>                :            : </a>
<a name="557"><span class="lineNum">     557 </span>                :            :     /**</a>
<a name="558"><span class="lineNum">     558 </span>                :            :      * Returns layer metadata collected from the provider's source.</a>
<a name="559"><span class="lineNum">     559 </span>                :            :      *</a>
<a name="560"><span class="lineNum">     560 </span>                :            :      * Individual data providers must implement this method if they support collecting metadata.</a>
<a name="561"><span class="lineNum">     561 </span>                :            :      *</a>
<a name="562"><span class="lineNum">     562 </span>                :            :      * \see writeLayerMetadata()</a>
<a name="563"><span class="lineNum">     563 </span>                :            :      * \since QGIS 3.0</a>
<a name="564"><span class="lineNum">     564 </span>                :            :     */</a>
<a name="565"><span class="lineNum">     565 </span>                :<span class="lineNoCov">          0 :     virtual QgsLayerMetadata layerMetadata() const { return QgsLayerMetadata(); }</span></a>
<a name="566"><span class="lineNum">     566 </span>                :            : </a>
<a name="567"><span class="lineNum">     567 </span>                :            :     /**</a>
<a name="568"><span class="lineNum">     568 </span>                :            :      * Writes layer \a metadata to the underlying provider source. Support depends</a>
<a name="569"><span class="lineNum">     569 </span>                :            :      * on individual provider capabilities.</a>
<a name="570"><span class="lineNum">     570 </span>                :            :      *</a>
<a name="571"><span class="lineNum">     571 </span>                :            :      * Returns TRUE if metadata was successfully written to the data provider.</a>
<a name="572"><span class="lineNum">     572 </span>                :            :      * \see layerMetadata()</a>
<a name="573"><span class="lineNum">     573 </span>                :            :      * \since QGIS 3.0</a>
<a name="574"><span class="lineNum">     574 </span>                :            :     */</a>
<a name="575"><span class="lineNum">     575 </span>                :<span class="lineNoCov">          0 :     virtual bool writeLayerMetadata( const QgsLayerMetadata &amp;metadata ) { Q_UNUSED( metadata ) return false; }</span></a>
<a name="576"><span class="lineNum">     576 </span>                :            : </a>
<a name="577"><span class="lineNum">     577 </span>                :            :     /**</a>
<a name="578"><span class="lineNum">     578 </span>                :            :      * Returns data provider coordinate transform context</a>
<a name="579"><span class="lineNum">     579 </span>                :            :      *</a>
<a name="580"><span class="lineNum">     580 </span>                :            :      * \see setTransformContext()</a>
<a name="581"><span class="lineNum">     581 </span>                :            :      * \note not available in Python bindings</a>
<a name="582"><span class="lineNum">     582 </span>                :            :      * \since QGIS 3.8</a>
<a name="583"><span class="lineNum">     583 </span>                :            :      */</a>
<a name="584"><span class="lineNum">     584 </span>                :            :     QgsCoordinateTransformContext transformContext() const SIP_SKIP;</a>
<a name="585"><span class="lineNum">     585 </span>                :            : </a>
<a name="586"><span class="lineNum">     586 </span>                :            :     /**</a>
<a name="587"><span class="lineNum">     587 </span>                :            :      * Sets data coordinate transform context to \a transformContext</a>
<a name="588"><span class="lineNum">     588 </span>                :            :      *</a>
<a name="589"><span class="lineNum">     589 </span>                :            :      * The default implementation is a simple setter, subclasses may override to perform</a>
<a name="590"><span class="lineNum">     590 </span>                :            :      * additional actions required by a change of coordinate transform context.</a>
<a name="591"><span class="lineNum">     591 </span>                :            :      *</a>
<a name="592"><span class="lineNum">     592 </span>                :            :      * \see transformContext()</a>
<a name="593"><span class="lineNum">     593 </span>                :            :      * \note not available in Python bindings</a>
<a name="594"><span class="lineNum">     594 </span>                :            :      * \since QGIS 3.8</a>
<a name="595"><span class="lineNum">     595 </span>                :            :      */</a>
<a name="596"><span class="lineNum">     596 </span>                :            :     virtual void setTransformContext( const QgsCoordinateTransformContext &amp;transformContext ) SIP_SKIP;</a>
<a name="597"><span class="lineNum">     597 </span>                :            : </a>
<a name="598"><span class="lineNum">     598 </span>                :            :     /**</a>
<a name="599"><span class="lineNum">     599 </span>                :            :      * String sequence used for separating components of sublayers strings.</a>
<a name="600"><span class="lineNum">     600 </span>                :            :      * \note Replaces the static const SUBLAYER_SEPARATOR</a>
<a name="601"><span class="lineNum">     601 </span>                :            :      * \see subLayers()</a>
<a name="602"><span class="lineNum">     602 </span>                :            :      * \since QGIS 3.12</a>
<a name="603"><span class="lineNum">     603 </span>                :            :      */</a>
<a name="604"><span class="lineNum">     604 </span>                :            :     static QString sublayerSeparator();</a>
<a name="605"><span class="lineNum">     605 </span>                :            : </a>
<a name="606"><span class="lineNum">     606 </span>                :            :   signals:</a>
<a name="607"><span class="lineNum">     607 </span>                :            : </a>
<a name="608"><span class="lineNum">     608 </span>                :            :     /**</a>
<a name="609"><span class="lineNum">     609 </span>                :            :      * Emitted whenever a deferred extent calculation is completed by the provider.</a>
<a name="610"><span class="lineNum">     610 </span>                :            :      *</a>
<a name="611"><span class="lineNum">     611 </span>                :            :      * Layers should connect to this signal and update their cached extents whenever</a>
<a name="612"><span class="lineNum">     612 </span>                :            :      * it is emitted.</a>
<a name="613"><span class="lineNum">     613 </span>                :            :      */</a>
<a name="614"><span class="lineNum">     614 </span>                :            :     void fullExtentCalculated();</a>
<a name="615"><span class="lineNum">     615 </span>                :            : </a>
<a name="616"><span class="lineNum">     616 </span>                :            :     /**</a>
<a name="617"><span class="lineNum">     617 </span>                :            :      * Emitted whenever a change is made to the data provider which may have</a>
<a name="618"><span class="lineNum">     618 </span>                :            :      * caused changes in the provider's data OUTSIDE of QGIS.</a>
<a name="619"><span class="lineNum">     619 </span>                :            :      *</a>
<a name="620"><span class="lineNum">     620 </span>                :            :      * When emitted from a QgsVectorDataProvider, any cached information such as</a>
<a name="621"><span class="lineNum">     621 </span>                :            :      * feature ids should be invalidated.</a>
<a name="622"><span class="lineNum">     622 </span>                :            :      *</a>
<a name="623"><span class="lineNum">     623 </span>                :            :      * \warning This signal is NOT emitted when changes are made to a provider</a>
<a name="624"><span class="lineNum">     624 </span>                :            :      * from INSIDE QGIS -- e.g. when adding features to a vector layer, deleting features</a>
<a name="625"><span class="lineNum">     625 </span>                :            :      * or modifying existing features. Instead, the specific QgsVectorLayer signals</a>
<a name="626"><span class="lineNum">     626 </span>                :            :      * should be used to detect these operations.</a>
<a name="627"><span class="lineNum">     627 </span>                :            :      */</a>
<a name="628"><span class="lineNum">     628 </span>                :            :     void dataChanged();</a>
<a name="629"><span class="lineNum">     629 </span>                :            : </a>
<a name="630"><span class="lineNum">     630 </span>                :            :     /**</a>
<a name="631"><span class="lineNum">     631 </span>                :            :      * Emitted when the datasource issues a notification.</a>
<a name="632"><span class="lineNum">     632 </span>                :            :      *</a>
<a name="633"><span class="lineNum">     633 </span>                :            :      * \see setListening</a>
<a name="634"><span class="lineNum">     634 </span>                :            :      *</a>
<a name="635"><span class="lineNum">     635 </span>                :            :      * \since QGIS 3.0</a>
<a name="636"><span class="lineNum">     636 </span>                :            :      */</a>
<a name="637"><span class="lineNum">     637 </span>                :            :     void notify( const QString &amp;msg );</a>
<a name="638"><span class="lineNum">     638 </span>                :            : </a>
<a name="639"><span class="lineNum">     639 </span>                :            : </a>
<a name="640"><span class="lineNum">     640 </span>                :            :   protected:</a>
<a name="641"><span class="lineNum">     641 </span>                :            : </a>
<a name="642"><span class="lineNum">     642 </span>                :            :     /**</a>
<a name="643"><span class="lineNum">     643 </span>                :            :      * Timestamp of data in the moment when the data were loaded by provider.</a>
<a name="644"><span class="lineNum">     644 </span>                :            :      */</a>
<a name="645"><span class="lineNum">     645 </span>                :            :     QDateTime mTimestamp;</a>
<a name="646"><span class="lineNum">     646 </span>                :            : </a>
<a name="647"><span class="lineNum">     647 </span>                :            :     //! \brief Error</a>
<a name="648"><span class="lineNum">     648 </span>                :            :     QgsError mError;</a>
<a name="649"><span class="lineNum">     649 </span>                :            : </a>
<a name="650"><span class="lineNum">     650 </span>                :            :     //! Add error message</a>
<a name="651"><span class="lineNum">     651 </span>                :<span class="lineNoCov">          0 :     void appendError( const QgsErrorMessage &amp;message ) { mError.append( message ); }</span></a>
<a name="652"><span class="lineNum">     652 </span>                :            : </a>
<a name="653"><span class="lineNum">     653 </span>                :            :     //! Sets error message</a>
<a name="654"><span class="lineNum">     654 </span>                :<span class="lineNoCov">          0 :     void setError( const QgsError &amp;error ) { mError = error;}</span></a>
<a name="655"><span class="lineNum">     655 </span>                :            : </a>
<a name="656"><span class="lineNum">     656 </span>                :            :     //! Read flags. It's up to the subclass to respect these when needed</a>
<a name="657"><span class="lineNum">     657 </span>                :            :     QgsDataProvider::ReadFlags mReadFlags = QgsDataProvider::ReadFlags();</a>
<a name="658"><span class="lineNum">     658 </span>                :            : </a>
<a name="659"><span class="lineNum">     659 </span>                :            :   private:</a>
<a name="660"><span class="lineNum">     660 </span>                :            : </a>
<a name="661"><span class="lineNum">     661 </span>                :            :     /**</a>
<a name="662"><span class="lineNum">     662 </span>                :            :      * Universal Resource Identifier for source data.</a>
<a name="663"><span class="lineNum">     663 </span>                :            :      * This could be a file, database, or server address.</a>
<a name="664"><span class="lineNum">     664 </span>                :            :      */</a>
<a name="665"><span class="lineNum">     665 </span>                :            :     QString mDataSourceURI;</a>
<a name="666"><span class="lineNum">     666 </span>                :            : </a>
<a name="667"><span class="lineNum">     667 </span>                :            :     QgsDataProvider::ProviderOptions mOptions;</a>
<a name="668"><span class="lineNum">     668 </span>                :            : </a>
<a name="669"><span class="lineNum">     669 </span>                :            :     QMap&lt; int, QVariant &gt; mProviderProperties;</a>
<a name="670"><span class="lineNum">     670 </span>                :            : </a>
<a name="671"><span class="lineNum">     671 </span>                :            :     /**</a>
<a name="672"><span class="lineNum">     672 </span>                :            :      * Protects options from being accessed concurrently</a>
<a name="673"><span class="lineNum">     673 </span>                :            :      */</a>
<a name="674"><span class="lineNum">     674 </span>                :            :     mutable QMutex mOptionsMutex;</a>
<a name="675"><span class="lineNum">     675 </span>                :            : </a>
<a name="676"><span class="lineNum">     676 </span>                :            :     /**</a>
<a name="677"><span class="lineNum">     677 </span>                :            :      * Reloads the data according to the provider</a>
<a name="678"><span class="lineNum">     678 </span>                :            :      * \since QGIS 3.12</a>
<a name="679"><span class="lineNum">     679 </span>                :            :     */</a>
<a name="680"><span class="lineNum">     680 </span>                :<span class="lineNoCov">          0 :     virtual void reloadProviderData() {}</span></a>
<a name="681"><span class="lineNum">     681 </span>                :            : };</a>
<a name="682"><span class="lineNum">     682 </span>                :            : </a>
<a name="683"><span class="lineNum">     683 </span>                :<span class="lineNoCov">          0 : Q_DECLARE_OPERATORS_FOR_FLAGS( QgsDataProvider::ReadFlags )</span></a>
<a name="684"><span class="lineNum">     684 </span>                :            : </a>
<a name="685"><span class="lineNum">     685 </span>                :            : #endif</a>
</pre>
      </td>
    </tr>
  </table>
  <br>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="ruler"><img src="../../glass.png" width=3 height=3 alt=""></td></tr>
    <tr><td class="versionInfo">Generated by: <a href="http://ltp.sourceforge.net/coverage/lcov.php" target="_parent">LCOV version 1.15</a></td></tr>
  </table>
  <br>

</body>
</html>
