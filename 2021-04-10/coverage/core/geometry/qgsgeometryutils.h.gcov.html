<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>LCOV - coverage.info.cleaned - core/geometry/qgsgeometryutils.h</title>
  <link rel="stylesheet" type="text/css" href="../../gcov.css">
</head>

<body>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="title">LCOV - code coverage report</td></tr>
    <tr><td class="ruler"><img src="../../glass.png" width=3 height=3 alt=""></td></tr>

    <tr>
      <td width="100%">
        <table cellpadding=1 border=0 width="100%">
          <tr>
            <td width="10%" class="headerItem">Current view:</td>
            <td width="35%" class="headerValue"><a href="../../index.html">top level</a> - <a href="index.html">core/geometry</a> - qgsgeometryutils.h<span style="font-size: 80%;"> (source / <a href="qgsgeometryutils.h.func-sort-c.html">functions</a>)</span></td>
            <td width="5%"></td>
            <td width="15%"></td>
            <td width="10%" class="headerCovTableHead">Hit</td>
            <td width="10%" class="headerCovTableHead">Total</td>
            <td width="15%" class="headerCovTableHead">Coverage</td>
          </tr>
          <tr>
            <td class="headerItem">Test:</td>
            <td class="headerValue">coverage.info.cleaned</td>
            <td></td>
            <td class="headerItem">Lines:</td>
            <td class="headerCovTableEntry">49</td>
            <td class="headerCovTableEntry">49</td>
            <td class="headerCovTableEntryHi">100.0 %</td>
          </tr>
          <tr>
            <td class="headerItem">Date:</td>
            <td class="headerValue">2021-04-10 08:29:14</td>
            <td></td>
            <td class="headerItem">Functions:</td>
            <td class="headerCovTableEntry">0</td>
            <td class="headerCovTableEntry">0</td>
            <td class="headerCovTableEntryHi">-</td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td class="headerItem">Branches:</td>
            <td class="headerCovTableEntry">0</td>
            <td class="headerCovTableEntry">0</td>
            <td class="headerCovTableEntryHi">-</td>
          </tr>
          <tr><td><img src="../../glass.png" width=3 height=3 alt=""></td></tr>
        </table>
      </td>
    </tr>

    <tr><td class="ruler"><img src="../../glass.png" width=3 height=3 alt=""></td></tr>
  </table>

  <table cellpadding=0 cellspacing=0 border=0>
    <tr>
      <td><br></td>
    </tr>
    <tr>
      <td>
<pre class="sourceHeading">           Branch data     Line data    Source code</pre>
<pre class="source">
<a name="1"><span class="lineNum">       1 </span>                :            : /***************************************************************************</a>
<a name="2"><span class="lineNum">       2 </span>                :            :                         qgsgeometryutils.h</a>
<a name="3"><span class="lineNum">       3 </span>                :            :   -------------------------------------------------------------------</a>
<a name="4"><span class="lineNum">       4 </span>                :            : Date                 : 21 Nov 2014</a>
<a name="5"><span class="lineNum">       5 </span>                :            : Copyright            : (C) 2014 by Marco Hugentobler</a>
<a name="6"><span class="lineNum">       6 </span>                :            : email                : marco.hugentobler at sourcepole dot com</a>
<a name="7"><span class="lineNum">       7 </span>                :            :  ***************************************************************************</a>
<a name="8"><span class="lineNum">       8 </span>                :            :  *                                                                         *</a>
<a name="9"><span class="lineNum">       9 </span>                :            :  *   This program is free software; you can redistribute it and/or modify  *</a>
<a name="10"><span class="lineNum">      10 </span>                :            :  *   it under the terms of the GNU General Public License as published by  *</a>
<a name="11"><span class="lineNum">      11 </span>                :            :  *   the Free Software Foundation; either version 2 of the License, or     *</a>
<a name="12"><span class="lineNum">      12 </span>                :            :  *   (at your option) any later version.                                   *</a>
<a name="13"><span class="lineNum">      13 </span>                :            :  *                                                                         *</a>
<a name="14"><span class="lineNum">      14 </span>                :            :  ***************************************************************************/</a>
<a name="15"><span class="lineNum">      15 </span>                :            : </a>
<a name="16"><span class="lineNum">      16 </span>                :            : #ifndef QGSGEOMETRYUTILS_H</a>
<a name="17"><span class="lineNum">      17 </span>                :            : #define QGSGEOMETRYUTILS_H</a>
<a name="18"><span class="lineNum">      18 </span>                :            : </a>
<a name="19"><span class="lineNum">      19 </span>                :            : #include &lt;limits&gt;</a>
<a name="20"><span class="lineNum">      20 </span>                :            : </a>
<a name="21"><span class="lineNum">      21 </span>                :            : #include &quot;qgis_core.h&quot;</a>
<a name="22"><span class="lineNum">      22 </span>                :            : #include &quot;qgis_sip.h&quot;</a>
<a name="23"><span class="lineNum">      23 </span>                :            : #include &quot;qgspoint.h&quot;</a>
<a name="24"><span class="lineNum">      24 </span>                :            : #include &quot;qgsabstractgeometry.h&quot;</a>
<a name="25"><span class="lineNum">      25 </span>                :            : #include &quot;qgsvector3d.h&quot;</a>
<a name="26"><span class="lineNum">      26 </span>                :            : </a>
<a name="27"><span class="lineNum">      27 </span>                :            : #include &lt;QJsonArray&gt;</a>
<a name="28"><span class="lineNum">      28 </span>                :            : </a>
<a name="29"><span class="lineNum">      29 </span>                :            : class QgsLineString;</a>
<a name="30"><span class="lineNum">      30 </span>                :            : </a>
<a name="31"><span class="lineNum">      31 </span>                :            : /**</a>
<a name="32"><span class="lineNum">      32 </span>                :            :  * \ingroup core</a>
<a name="33"><span class="lineNum">      33 </span>                :            :  * \class QgsGeometryUtils</a>
<a name="34"><span class="lineNum">      34 </span>                :            :  * \brief Contains various geometry utility functions.</a>
<a name="35"><span class="lineNum">      35 </span>                :            :  * \since QGIS 2.10</a>
<a name="36"><span class="lineNum">      36 </span>                :            :  */</a>
<a name="37"><span class="lineNum">      37 </span>                :            : class CORE_EXPORT QgsGeometryUtils</a>
<a name="38"><span class="lineNum">      38 </span>                :            : {</a>
<a name="39"><span class="lineNum">      39 </span>                :            :   public:</a>
<a name="40"><span class="lineNum">      40 </span>                :            : </a>
<a name="41"><span class="lineNum">      41 </span>                :            :     /**</a>
<a name="42"><span class="lineNum">      42 </span>                :            :      * Returns list of linestrings extracted from the passed geometry. The returned objects</a>
<a name="43"><span class="lineNum">      43 </span>                :            :      *  have to be deleted by the caller.</a>
<a name="44"><span class="lineNum">      44 </span>                :            :      */</a>
<a name="45"><span class="lineNum">      45 </span>                :            :     static QVector&lt;QgsLineString *&gt; extractLineStrings( const QgsAbstractGeometry *geom ) SIP_FACTORY;</a>
<a name="46"><span class="lineNum">      46 </span>                :            : </a>
<a name="47"><span class="lineNum">      47 </span>                :            :     /**</a>
<a name="48"><span class="lineNum">      48 </span>                :            :      * Returns the closest vertex to a geometry for a specified point.</a>
<a name="49"><span class="lineNum">      49 </span>                :            :      * On error null point will be returned and &quot;id&quot; argument will be invalid.</a>
<a name="50"><span class="lineNum">      50 </span>                :            :      */</a>
<a name="51"><span class="lineNum">      51 </span>                :            :     static QgsPoint closestVertex( const QgsAbstractGeometry &amp;geom, const QgsPoint &amp;pt, QgsVertexId &amp;id SIP_OUT );</a>
<a name="52"><span class="lineNum">      52 </span>                :            : </a>
<a name="53"><span class="lineNum">      53 </span>                :            :     /**</a>
<a name="54"><span class="lineNum">      54 </span>                :            :      * Returns the nearest point on a segment of a \a geometry</a>
<a name="55"><span class="lineNum">      55 </span>                :            :      * for the specified \a point. The z and m values will be linearly interpolated between</a>
<a name="56"><span class="lineNum">      56 </span>                :            :      * the two neighbouring vertices.</a>
<a name="57"><span class="lineNum">      57 </span>                :            :      */</a>
<a name="58"><span class="lineNum">      58 </span>                :            :     static QgsPoint closestPoint( const QgsAbstractGeometry &amp;geometry, const QgsPoint &amp;point );</a>
<a name="59"><span class="lineNum">      59 </span>                :            : </a>
<a name="60"><span class="lineNum">      60 </span>                :            :     /**</a>
<a name="61"><span class="lineNum">      61 </span>                :            :      * Returns the distance along a geometry from its first vertex to the specified vertex.</a>
<a name="62"><span class="lineNum">      62 </span>                :            :      * \param geom geometry</a>
<a name="63"><span class="lineNum">      63 </span>                :            :      * \param id vertex id to find distance to</a>
<a name="64"><span class="lineNum">      64 </span>                :            :      * \returns distance to vertex (following geometry)</a>
<a name="65"><span class="lineNum">      65 </span>                :            :      * \since QGIS 2.16</a>
<a name="66"><span class="lineNum">      66 </span>                :            :      */</a>
<a name="67"><span class="lineNum">      67 </span>                :            :     static double distanceToVertex( const QgsAbstractGeometry &amp;geom, QgsVertexId id );</a>
<a name="68"><span class="lineNum">      68 </span>                :            : </a>
<a name="69"><span class="lineNum">      69 </span>                :            :     /**</a>
<a name="70"><span class="lineNum">      70 </span>                :            :      * Retrieves the vertices which are before and after the interpolated point at a specified distance along a linestring</a>
<a name="71"><span class="lineNum">      71 </span>                :            :      * (or polygon boundary).</a>
<a name="72"><span class="lineNum">      72 </span>                :            :      * \param geometry line or polygon geometry</a>
<a name="73"><span class="lineNum">      73 </span>                :            :      * \param distance distance to traverse along geometry</a>
<a name="74"><span class="lineNum">      74 </span>                :            :      * \param previousVertex will be set to previous vertex ID</a>
<a name="75"><span class="lineNum">      75 </span>                :            :      * \param nextVertex will be set to next vertex ID</a>
<a name="76"><span class="lineNum">      76 </span>                :            :      * \returns TRUE if vertices were successfully retrieved</a>
<a name="77"><span class="lineNum">      77 </span>                :            :      * \note if the distance coincides exactly with a vertex, then both previousVertex and nextVertex will be set to this vertex</a>
<a name="78"><span class="lineNum">      78 </span>                :            :      * \since QGIS 3.0</a>
<a name="79"><span class="lineNum">      79 </span>                :            :      */</a>
<a name="80"><span class="lineNum">      80 </span>                :            :     static bool verticesAtDistance( const QgsAbstractGeometry &amp;geometry,</a>
<a name="81"><span class="lineNum">      81 </span>                :            :                                     double distance,</a>
<a name="82"><span class="lineNum">      82 </span>                :            :                                     QgsVertexId &amp;previousVertex SIP_OUT,</a>
<a name="83"><span class="lineNum">      83 </span>                :            :                                     QgsVertexId &amp;nextVertex SIP_OUT );</a>
<a name="84"><span class="lineNum">      84 </span>                :            : </a>
<a name="85"><span class="lineNum">      85 </span>                :            :     /**</a>
<a name="86"><span class="lineNum">      86 </span>                :            :      * Returns the squared 2D distance between two points.</a>
<a name="87"><span class="lineNum">      87 </span>                :            :      */</a>
<a name="88"><span class="lineNum">      88 </span>                :            :     static double sqrDistance2D( const QgsPoint &amp;pt1, const QgsPoint &amp;pt2 ) SIP_HOLDGIL;</a>
<a name="89"><span class="lineNum">      89 </span>                :            : </a>
<a name="90"><span class="lineNum">      90 </span>                :            :     /**</a>
<a name="91"><span class="lineNum">      91 </span>                :            :      * Returns the squared distance between a point and a line.</a>
<a name="92"><span class="lineNum">      92 </span>                :            :      */</a>
<a name="93"><span class="lineNum">      93 </span>                :            :     static double sqrDistToLine( double ptX, double ptY, double x1, double y1, double x2, double y2, double &amp;minDistX SIP_OUT, double &amp;minDistY SIP_OUT, double epsilon ) SIP_HOLDGIL;</a>
<a name="94"><span class="lineNum">      94 </span>                :            : </a>
<a name="95"><span class="lineNum">      95 </span>                :            :     /**</a>
<a name="96"><span class="lineNum">      96 </span>                :            :      * Computes the intersection between two lines. Z dimension is</a>
<a name="97"><span class="lineNum">      97 </span>                :            :      * supported and is retrieved from the first 3D point amongst \a p1 and</a>
<a name="98"><span class="lineNum">      98 </span>                :            :      * \a p2.</a>
<a name="99"><span class="lineNum">      99 </span>                :            :      * \param p1 Point on the first line</a>
<a name="100"><span class="lineNum">     100 </span>                :            :      * \param v1 Direction vector of the first line</a>
<a name="101"><span class="lineNum">     101 </span>                :            :      * \param p2 Point on the second line</a>
<a name="102"><span class="lineNum">     102 </span>                :            :      * \param v2 Direction vector of the second line</a>
<a name="103"><span class="lineNum">     103 </span>                :            :      * \param intersection Output parameter, the intersection point</a>
<a name="104"><span class="lineNum">     104 </span>                :            :      * \returns Whether the lines intersect</a>
<a name="105"><span class="lineNum">     105 </span>                :            :      */</a>
<a name="106"><span class="lineNum">     106 </span>                :            :     static bool lineIntersection( const QgsPoint &amp;p1, QgsVector v1, const QgsPoint &amp;p2, QgsVector v2, QgsPoint &amp;intersection SIP_OUT ) SIP_HOLDGIL;</a>
<a name="107"><span class="lineNum">     107 </span>                :            : </a>
<a name="108"><span class="lineNum">     108 </span>                :            :     /**</a>
<a name="109"><span class="lineNum">     109 </span>                :            :      * \brief Compute the intersection between two segments</a>
<a name="110"><span class="lineNum">     110 </span>                :            :      * \param p1 First segment start point</a>
<a name="111"><span class="lineNum">     111 </span>                :            :      * \param p2 First segment end point</a>
<a name="112"><span class="lineNum">     112 </span>                :            :      * \param q1 Second segment start point</a>
<a name="113"><span class="lineNum">     113 </span>                :            :      * \param q2 Second segment end point</a>
<a name="114"><span class="lineNum">     114 </span>                :            :      * \param intersectionPoint Output parameter, the intersection point</a>
<a name="115"><span class="lineNum">     115 </span>                :            :      * \param isIntersection Output parameter, return TRUE if an intersection is found</a>
<a name="116"><span class="lineNum">     116 </span>                :            :      * \param tolerance The tolerance to use</a>
<a name="117"><span class="lineNum">     117 </span>                :            :      * \param acceptImproperIntersection By default, this method returns TRUE only if segments have proper intersection. If set true, returns also TRUE if segments have improper intersection (end of one segment on other segment ; continuous segments).</a>
<a name="118"><span class="lineNum">     118 </span>                :            :      * \returns  Whether the segments intersect</a>
<a name="119"><span class="lineNum">     119 </span>                :            :      *</a>
<a name="120"><span class="lineNum">     120 </span>                :            :      * ### Example</a>
<a name="121"><span class="lineNum">     121 </span>                :            :      *</a>
<a name="122"><span class="lineNum">     122 </span>                :            :      * \code{.py}</a>
<a name="123"><span class="lineNum">     123 </span>                :            :      *   ret = QgsGeometryUtils.segmentIntersection( QgsPoint( 0, 0 ), QgsPoint( 0, 1 ), QgsPoint( 1, 1 ), QgsPoint( 1, 0 ) )</a>
<a name="124"><span class="lineNum">     124 </span>                :            :      *   ret[0], ret[1].asWkt(), ret[2]</a>
<a name="125"><span class="lineNum">     125 </span>                :            :      *   # Whether the segments intersect, the intersection point, is intersect</a>
<a name="126"><span class="lineNum">     126 </span>                :            :      *   # (False, 'Point (0 0)', False)</a>
<a name="127"><span class="lineNum">     127 </span>                :            :      *   ret = QgsGeometryUtils.segmentIntersection( QgsPoint( 0, 0 ), QgsPoint( 0, 5 ), QgsPoint( 0, 5 ), QgsPoint( 1, 5 ) )</a>
<a name="128"><span class="lineNum">     128 </span>                :            :      *   ret[0], ret[1].asWkt(), ret[2]</a>
<a name="129"><span class="lineNum">     129 </span>                :            :      *   # (False, 'Point (0 5)', True)</a>
<a name="130"><span class="lineNum">     130 </span>                :            :      *   ret = QgsGeometryUtils.segmentIntersection( QgsPoint( 0, 0 ), QgsPoint( 0, 5 ), QgsPoint( 0, 5 ), QgsPoint( 1, 5 ), acceptImproperIntersection=True )</a>
<a name="131"><span class="lineNum">     131 </span>                :            :      *   ret[0], ret[1].asWkt(), ret[2]</a>
<a name="132"><span class="lineNum">     132 </span>                :            :      *   # (True, 'Point (0 5)', True)</a>
<a name="133"><span class="lineNum">     133 </span>                :            :      *   ret = QgsGeometryUtils.segmentIntersection( QgsPoint( 0, 0 ), QgsPoint( 0, 5 ), QgsPoint( 0, 2 ), QgsPoint( 1, 5 ) )</a>
<a name="134"><span class="lineNum">     134 </span>                :            :      *   ret[0], ret[1].asWkt(), ret[2]</a>
<a name="135"><span class="lineNum">     135 </span>                :            :      *   # (False, 'Point (0 2)', True)</a>
<a name="136"><span class="lineNum">     136 </span>                :            :      *   ret = QgsGeometryUtils.segmentIntersection( QgsPoint( 0, 0 ), QgsPoint( 0, 5 ), QgsPoint( 0, 2 ), QgsPoint( 1, 5 ), acceptImproperIntersection=True )</a>
<a name="137"><span class="lineNum">     137 </span>                :            :      *   ret[0], ret[1].asWkt(), ret[2]</a>
<a name="138"><span class="lineNum">     138 </span>                :            :      *   # (True, 'Point (0 2)', True)</a>
<a name="139"><span class="lineNum">     139 </span>                :            :      *   ret = QgsGeometryUtils.segmentIntersection( QgsPoint( 0, -5 ), QgsPoint( 0, 5 ), QgsPoint( 2, 0 ), QgsPoint( -1, 0 ) )</a>
<a name="140"><span class="lineNum">     140 </span>                :            :      *   ret[0], ret[1].asWkt(), ret[2]</a>
<a name="141"><span class="lineNum">     141 </span>                :            :      *   # (True, 'Point (0 0)', True)</a>
<a name="142"><span class="lineNum">     142 </span>                :            :      * \endcode</a>
<a name="143"><span class="lineNum">     143 </span>                :            :      */</a>
<a name="144"><span class="lineNum">     144 </span>                :            :     static bool segmentIntersection( const QgsPoint &amp;p1, const QgsPoint &amp;p2, const QgsPoint &amp;q1, const QgsPoint &amp;q2, QgsPoint &amp;intersectionPoint SIP_OUT, bool &amp;isIntersection SIP_OUT, double tolerance = 1e-8, bool acceptImproperIntersection = false ) SIP_HOLDGIL;</a>
<a name="145"><span class="lineNum">     145 </span>                :            : </a>
<a name="146"><span class="lineNum">     146 </span>                :            :     /**</a>
<a name="147"><span class="lineNum">     147 </span>                :            :      * \brief Compute the intersection of a line and a circle.</a>
<a name="148"><span class="lineNum">     148 </span>                :            :      * If the intersection has two solutions (points),</a>
<a name="149"><span class="lineNum">     149 </span>                :            :      * the closest point to the initial \a intersection point is returned.</a>
<a name="150"><span class="lineNum">     150 </span>                :            :      * \param center the center of the circle</a>
<a name="151"><span class="lineNum">     151 </span>                :            :      * \param radius the radius of the circle</a>
<a name="152"><span class="lineNum">     152 </span>                :            :      * \param linePoint1 a first point on the line</a>
<a name="153"><span class="lineNum">     153 </span>                :            :      * \param linePoint2 a second point on the line</a>
<a name="154"><span class="lineNum">     154 </span>                :            :      * \param intersection the initial point and the returned intersection point</a>
<a name="155"><span class="lineNum">     155 </span>                :            :      * \return TRUE if an intersection has been found</a>
<a name="156"><span class="lineNum">     156 </span>                :            :      */</a>
<a name="157"><span class="lineNum">     157 </span>                :            :     static bool lineCircleIntersection( const QgsPointXY &amp;center, double radius,</a>
<a name="158"><span class="lineNum">     158 </span>                :            :                                         const QgsPointXY &amp;linePoint1, const QgsPointXY &amp;linePoint2,</a>
<a name="159"><span class="lineNum">     159 </span>                :            :                                         QgsPointXY &amp;intersection SIP_INOUT ) SIP_HOLDGIL;</a>
<a name="160"><span class="lineNum">     160 </span>                :            : </a>
<a name="161"><span class="lineNum">     161 </span>                :            :     /**</a>
<a name="162"><span class="lineNum">     162 </span>                :            :      * Calculates the intersections points between the circle with center \a center1 and</a>
<a name="163"><span class="lineNum">     163 </span>                :            :      * radius \a radius1 and the circle with center \a center2 and radius \a radius2.</a>
<a name="164"><span class="lineNum">     164 </span>                :            :      *</a>
<a name="165"><span class="lineNum">     165 </span>                :            :      * If found, the intersection points will be stored in \a intersection1 and \a intersection2.</a>
<a name="166"><span class="lineNum">     166 </span>                :            :      *</a>
<a name="167"><span class="lineNum">     167 </span>                :            :      * \returns number of intersection points found.</a>
<a name="168"><span class="lineNum">     168 </span>                :            :      *</a>
<a name="169"><span class="lineNum">     169 </span>                :            :      * \since QGIS 3.2</a>
<a name="170"><span class="lineNum">     170 </span>                :            :      */</a>
<a name="171"><span class="lineNum">     171 </span>                :            :     static int circleCircleIntersections( QgsPointXY center1, double radius1,</a>
<a name="172"><span class="lineNum">     172 </span>                :            :                                           QgsPointXY center2, double radius2,</a>
<a name="173"><span class="lineNum">     173 </span>                :            :                                           QgsPointXY &amp;intersection1 SIP_OUT, QgsPointXY &amp;intersection2 SIP_OUT ) SIP_HOLDGIL;</a>
<a name="174"><span class="lineNum">     174 </span>                :            : </a>
<a name="175"><span class="lineNum">     175 </span>                :            :     /**</a>
<a name="176"><span class="lineNum">     176 </span>                :            :      * Calculates the tangent points between the circle with the specified \a center and \a radius</a>
<a name="177"><span class="lineNum">     177 </span>                :            :      * and the point \a p.</a>
<a name="178"><span class="lineNum">     178 </span>                :            :      *</a>
<a name="179"><span class="lineNum">     179 </span>                :            :      * If found, the tangent points will be stored in \a pt1 and \a pt2.</a>
<a name="180"><span class="lineNum">     180 </span>                :            :      *</a>
<a name="181"><span class="lineNum">     181 </span>                :            :      * \since QGIS 3.2</a>
<a name="182"><span class="lineNum">     182 </span>                :            :      */</a>
<a name="183"><span class="lineNum">     183 </span>                :            :     static bool tangentPointAndCircle( const QgsPointXY &amp;center, double radius,</a>
<a name="184"><span class="lineNum">     184 </span>                :            :                                        const QgsPointXY &amp;p, QgsPointXY &amp;pt1 SIP_OUT, QgsPointXY &amp;pt2 SIP_OUT ) SIP_HOLDGIL;</a>
<a name="185"><span class="lineNum">     185 </span>                :            : </a>
<a name="186"><span class="lineNum">     186 </span>                :            :     /**</a>
<a name="187"><span class="lineNum">     187 </span>                :            :      * Calculates the outer tangent points for two circles, centered at \a center1 and</a>
<a name="188"><span class="lineNum">     188 </span>                :            :      * \a center2 and with radii of \a radius1 and \a radius2 respectively.</a>
<a name="189"><span class="lineNum">     189 </span>                :            :      *</a>
<a name="190"><span class="lineNum">     190 </span>                :            :      * The outer tangent points correspond to the points at which the two lines</a>
<a name="191"><span class="lineNum">     191 </span>                :            :      * which are drawn so that they are tangential to both circles touch</a>
<a name="192"><span class="lineNum">     192 </span>                :            :      * the circles.</a>
<a name="193"><span class="lineNum">     193 </span>                :            :      *</a>
<a name="194"><span class="lineNum">     194 </span>                :            :      * The first tangent line is described by the points</a>
<a name="195"><span class="lineNum">     195 </span>                :            :      * stored in \a line1P1 and \a line1P2,</a>
<a name="196"><span class="lineNum">     196 </span>                :            :      * and the second line is described by the points stored in \a line2P1</a>
<a name="197"><span class="lineNum">     197 </span>                :            :      * and \a line2P2.</a>
<a name="198"><span class="lineNum">     198 </span>                :            :      *</a>
<a name="199"><span class="lineNum">     199 </span>                :            :      * Returns the number of tangents (either 0 or 2).</a>
<a name="200"><span class="lineNum">     200 </span>                :            :      *</a>
<a name="201"><span class="lineNum">     201 </span>                :            :      * \since QGIS 3.2</a>
<a name="202"><span class="lineNum">     202 </span>                :            :      */</a>
<a name="203"><span class="lineNum">     203 </span>                :            :     static int circleCircleOuterTangents(</a>
<a name="204"><span class="lineNum">     204 </span>                :            :       const QgsPointXY &amp;center1, double radius1, const QgsPointXY &amp;center2, double radius2,</a>
<a name="205"><span class="lineNum">     205 </span>                :            :       QgsPointXY &amp;line1P1 SIP_OUT, QgsPointXY &amp;line1P2 SIP_OUT,</a>
<a name="206"><span class="lineNum">     206 </span>                :            :       QgsPointXY &amp;line2P1 SIP_OUT, QgsPointXY &amp;line2P2 SIP_OUT ) SIP_HOLDGIL;</a>
<a name="207"><span class="lineNum">     207 </span>                :            : </a>
<a name="208"><span class="lineNum">     208 </span>                :            :     /**</a>
<a name="209"><span class="lineNum">     209 </span>                :            :      * Calculates the inner tangent points for two circles, centered at \a</a>
<a name="210"><span class="lineNum">     210 </span>                :            :      * center1 and \a center2 and with radii of \a radius1 and \a radius2</a>
<a name="211"><span class="lineNum">     211 </span>                :            :      * respectively.</a>
<a name="212"><span class="lineNum">     212 </span>                :            :      *</a>
<a name="213"><span class="lineNum">     213 </span>                :            :      * The inner tangent points correspond to the points at which the two lines</a>
<a name="214"><span class="lineNum">     214 </span>                :            :      * which are drawn so that they are tangential to both circles and are</a>
<a name="215"><span class="lineNum">     215 </span>                :            :      * crossing each other.</a>
<a name="216"><span class="lineNum">     216 </span>                :            :      *</a>
<a name="217"><span class="lineNum">     217 </span>                :            :      * The first tangent line is described by the points</a>
<a name="218"><span class="lineNum">     218 </span>                :            :      * stored in \a line1P1 and \a line1P2,</a>
<a name="219"><span class="lineNum">     219 </span>                :            :      * and the second line is described by the points stored in \a line2P1</a>
<a name="220"><span class="lineNum">     220 </span>                :            :      * and \a line2P2.</a>
<a name="221"><span class="lineNum">     221 </span>                :            :      *</a>
<a name="222"><span class="lineNum">     222 </span>                :            :      * Returns the number of tangents (either 0 or 2).</a>
<a name="223"><span class="lineNum">     223 </span>                :            :      *</a>
<a name="224"><span class="lineNum">     224 </span>                :            :      * \since QGIS 3.6</a>
<a name="225"><span class="lineNum">     225 </span>                :            :      */</a>
<a name="226"><span class="lineNum">     226 </span>                :            :     static int circleCircleInnerTangents(</a>
<a name="227"><span class="lineNum">     227 </span>                :            :       const QgsPointXY &amp;center1, double radius1, const QgsPointXY &amp;center2, double radius2,</a>
<a name="228"><span class="lineNum">     228 </span>                :            :       QgsPointXY &amp;line1P1 SIP_OUT, QgsPointXY &amp;line1P2 SIP_OUT,</a>
<a name="229"><span class="lineNum">     229 </span>                :            :       QgsPointXY &amp;line2P1 SIP_OUT, QgsPointXY &amp;line2P2 SIP_OUT ) SIP_HOLDGIL;</a>
<a name="230"><span class="lineNum">     230 </span>                :            : </a>
<a name="231"><span class="lineNum">     231 </span>                :            :     /**</a>
<a name="232"><span class="lineNum">     232 </span>                :            :      * \brief Project the point on a segment</a>
<a name="233"><span class="lineNum">     233 </span>                :            :      * \param p The point</a>
<a name="234"><span class="lineNum">     234 </span>                :            :      * \param s1 The segment start point</a>
<a name="235"><span class="lineNum">     235 </span>                :            :      * \param s2 The segment end point</a>
<a name="236"><span class="lineNum">     236 </span>                :            :      * \returns The projection of the point on the segment</a>
<a name="237"><span class="lineNum">     237 </span>                :            :      */</a>
<a name="238"><span class="lineNum">     238 </span>                :<span class="lineCov">        699 :     static QgsPoint projectPointOnSegment( const QgsPoint &amp;p, const QgsPoint &amp;s1, const QgsPoint &amp;s2 ) SIP_HOLDGIL</span></a>
<a name="239"><span class="lineNum">     239 </span>                :            :     {</a>
<a name="240"><span class="lineNum">     240 </span>                :<span class="lineCov">        699 :       double nx = s2.y() - s1.y();</span></a>
<a name="241"><span class="lineNum">     241 </span>                :<span class="lineCov">        699 :       double ny = -( s2.x() - s1.x() );</span></a>
<a name="242"><span class="lineNum">     242 </span>                :<span class="lineCov">        699 :       double t = ( p.x() * ny - p.y() * nx - s1.x() * ny + s1.y() * nx ) / ( ( s2.x() - s1.x() ) * ny - ( s2.y() - s1.y() ) * nx );</span></a>
<a name="243"><span class="lineNum">     243 </span>                :<span class="lineCov">        699 :       return t &lt; 0. ? s1 : t &gt; 1. ? s2 : QgsPoint( s1.x() + ( s2.x() - s1.x() ) * t, s1.y() + ( s2.y() - s1.y() ) * t );</span></a>
<a name="244"><span class="lineNum">     244 </span>                :            :     }</a>
<a name="245"><span class="lineNum">     245 </span>                :            : </a>
<a name="246"><span class="lineNum">     246 </span>                :            :     //! \note not available in Python bindings</a>
<a name="247"><span class="lineNum">     247 </span>                :<span class="lineCov">         42 :     struct SelfIntersection SIP_SKIP</span></a>
<a name="248"><span class="lineNum">     248 </span>                :            :     {</a>
<a name="249"><span class="lineNum">     249 </span>                :            :       int segment1;</a>
<a name="250"><span class="lineNum">     250 </span>                :            :       int segment2;</a>
<a name="251"><span class="lineNum">     251 </span>                :            :       QgsPoint point;</a>
<a name="252"><span class="lineNum">     252 </span>                :            :     };</a>
<a name="253"><span class="lineNum">     253 </span>                :            : </a>
<a name="254"><span class="lineNum">     254 </span>                :            :     /**</a>
<a name="255"><span class="lineNum">     255 </span>                :            :      * \brief Find self intersections in a polyline</a>
<a name="256"><span class="lineNum">     256 </span>                :            :      * \param geom The geometry to check</a>
<a name="257"><span class="lineNum">     257 </span>                :            :      * \param part The part of the geometry to check</a>
<a name="258"><span class="lineNum">     258 </span>                :            :      * \param ring The ring of the geometry part to check</a>
<a name="259"><span class="lineNum">     259 </span>                :            :      * \param tolerance The tolerance to use</a>
<a name="260"><span class="lineNum">     260 </span>                :            :      * \returns The list of self intersections</a>
<a name="261"><span class="lineNum">     261 </span>                :            :      * \note not available in Python bindings</a>
<a name="262"><span class="lineNum">     262 </span>                :            :      * \since QGIS 2.12</a>
<a name="263"><span class="lineNum">     263 </span>                :            :      */</a>
<a name="264"><span class="lineNum">     264 </span>                :            :     static QVector&lt;SelfIntersection&gt; selfIntersections( const QgsAbstractGeometry *geom, int part, int ring, double tolerance ) SIP_SKIP;</a>
<a name="265"><span class="lineNum">     265 </span>                :            : </a>
<a name="266"><span class="lineNum">     266 </span>                :            :     /**</a>
<a name="267"><span class="lineNum">     267 </span>                :            :      * Returns a value &lt; 0 if the point (\a x, \a y) is left of the line from (\a x1, \a y1) -&gt; (\a x2, \a y2).</a>
<a name="268"><span class="lineNum">     268 </span>                :            :      * A positive return value indicates the point is to the right of the line.</a>
<a name="269"><span class="lineNum">     269 </span>                :            :      *</a>
<a name="270"><span class="lineNum">     270 </span>                :            :      * If the return value is 0, then the test was unsuccessful (e.g. due to testing a point exactly</a>
<a name="271"><span class="lineNum">     271 </span>                :            :      * on the line, or exactly in line with the segment) and the result is undefined.</a>
<a name="272"><span class="lineNum">     272 </span>                :            :      */</a>
<a name="273"><span class="lineNum">     273 </span>                :            :     static int leftOfLine( const double x, const double y, const double x1, const double y1, const double x2, const double y2 ) SIP_HOLDGIL;</a>
<a name="274"><span class="lineNum">     274 </span>                :            : </a>
<a name="275"><span class="lineNum">     275 </span>                :            :     /**</a>
<a name="276"><span class="lineNum">     276 </span>                :            :      * Returns a value &lt; 0 if the point \a point is left of the line from \a p1 -&gt; \a p2.</a>
<a name="277"><span class="lineNum">     277 </span>                :            :      * A positive return value indicates the point is to the right of the line.</a>
<a name="278"><span class="lineNum">     278 </span>                :            :      *</a>
<a name="279"><span class="lineNum">     279 </span>                :            :      * If the return value is 0, then the test was unsuccessful (e.g. due to testing a point exactly</a>
<a name="280"><span class="lineNum">     280 </span>                :            :      * on the line, or exactly in line with the segment) and the result is undefined.</a>
<a name="281"><span class="lineNum">     281 </span>                :            :      *</a>
<a name="282"><span class="lineNum">     282 </span>                :            :      * \since QGIS 3.6</a>
<a name="283"><span class="lineNum">     283 </span>                :            :      */</a>
<a name="284"><span class="lineNum">     284 </span>                :            :     static int leftOfLine( const QgsPoint &amp;point, const QgsPoint &amp;p1, const QgsPoint &amp;p2 ) SIP_HOLDGIL;</a>
<a name="285"><span class="lineNum">     285 </span>                :            : </a>
<a name="286"><span class="lineNum">     286 </span>                :            :     /**</a>
<a name="287"><span class="lineNum">     287 </span>                :            :      * Returns a point a specified \a distance toward a second point.</a>
<a name="288"><span class="lineNum">     288 </span>                :            :      */</a>
<a name="289"><span class="lineNum">     289 </span>                :            :     static QgsPoint pointOnLineWithDistance( const QgsPoint &amp;startPoint, const QgsPoint &amp;directionPoint, double distance ) SIP_HOLDGIL;</a>
<a name="290"><span class="lineNum">     290 </span>                :            : </a>
<a name="291"><span class="lineNum">     291 </span>                :            :     /**</a>
<a name="292"><span class="lineNum">     292 </span>                :            :      * Calculates the point a specified \a distance from (\a x1, \a y1) toward a second point (\a x2, \a y2).</a>
<a name="293"><span class="lineNum">     293 </span>                :            :      *</a>
<a name="294"><span class="lineNum">     294 </span>                :            :      * Optionally, interpolated z and m values can be obtained by specifying the \a z1, \a z2 and \a z arguments</a>
<a name="295"><span class="lineNum">     295 </span>                :            :      * and/or the \a m1, \a m2, \a m arguments.</a>
<a name="296"><span class="lineNum">     296 </span>                :            :      *</a>
<a name="297"><span class="lineNum">     297 </span>                :            :      * \note Not available in Python bindings</a>
<a name="298"><span class="lineNum">     298 </span>                :            :      * \since QGIS 3.4</a>
<a name="299"><span class="lineNum">     299 </span>                :            :      */</a>
<a name="300"><span class="lineNum">     300 </span>                :            :     static void pointOnLineWithDistance( double x1, double y1, double x2, double y2, double distance, double &amp;x, double &amp;y,</a>
<a name="301"><span class="lineNum">     301 </span>                :            :                                          double *z1 = nullptr, double *z2 = nullptr, double *z = nullptr,</a>
<a name="302"><span class="lineNum">     302 </span>                :            :                                          double *m1 = nullptr, double *m2 = nullptr, double *m = nullptr ) SIP_SKIP;</a>
<a name="303"><span class="lineNum">     303 </span>                :            : </a>
<a name="304"><span class="lineNum">     304 </span>                :            :     /**</a>
<a name="305"><span class="lineNum">     305 </span>                :            :      * Calculates a point a certain \a proportion of the way along the segment from (\a x1, \a y1) to (\a x2, \a y2),</a>
<a name="306"><span class="lineNum">     306 </span>                :            :      * offset from the segment by the specified \a offset amount.</a>
<a name="307"><span class="lineNum">     307 </span>                :            :      *</a>
<a name="308"><span class="lineNum">     308 </span>                :            :      * \param x1 x-coordinate of start of segment</a>
<a name="309"><span class="lineNum">     309 </span>                :            :      * \param y1 y-coordinate of start of segment</a>
<a name="310"><span class="lineNum">     310 </span>                :            :      * \param x2 x-coordinate of end of segment</a>
<a name="311"><span class="lineNum">     311 </span>                :            :      * \param y2 y-coordinate of end of segment</a>
<a name="312"><span class="lineNum">     312 </span>                :            :      * \param proportion proportion of the segment's length at which to place the point (between 0.0 and 1.0)</a>
<a name="313"><span class="lineNum">     313 </span>                :            :      * \param offset perpendicular offset from segment to apply to point. A negative \a offset shifts the point to the left of the segment, while a positive \a offset will shift it to the right of the segment.</a>
<a name="314"><span class="lineNum">     314 </span>                :            :      * \param x calculated point x-coordinate</a>
<a name="315"><span class="lineNum">     315 </span>                :            :      * \param y calculated point y-coordinate</a>
<a name="316"><span class="lineNum">     316 </span>                :            :      *</a>
<a name="317"><span class="lineNum">     317 </span>                :            :      * ### Example</a>
<a name="318"><span class="lineNum">     318 </span>                :            :      *</a>
<a name="319"><span class="lineNum">     319 </span>                :            :      * \code{.py}</a>
<a name="320"><span class="lineNum">     320 </span>                :            :      *   # Offset point at center of segment by 2 units to the right</a>
<a name="321"><span class="lineNum">     321 </span>                :            :      *   x, y = QgsGeometryUtils.perpendicularOffsetPointAlongSegment( 1, 5, 11, 5, 0.5, 2 )</a>
<a name="322"><span class="lineNum">     322 </span>                :            :      *   # (6.0, 3.0)</a>
<a name="323"><span class="lineNum">     323 </span>                :            :      *</a>
<a name="324"><span class="lineNum">     324 </span>                :            :      *   # Offset point at center of segment by 2 units to the left</a>
<a name="325"><span class="lineNum">     325 </span>                :            :      *   x, y = QgsGeometryUtils.perpendicularOffsetPointAlongSegment( 1, 5, 11, 5, 0.5, -2 )</a>
<a name="326"><span class="lineNum">     326 </span>                :            :      *   # (6.0, 7.0)</a>
<a name="327"><span class="lineNum">     327 </span>                :            :      * \endcode</a>
<a name="328"><span class="lineNum">     328 </span>                :            :      *</a>
<a name="329"><span class="lineNum">     329 </span>                :            :      * \since QGIS 3.20</a>
<a name="330"><span class="lineNum">     330 </span>                :            :      */</a>
<a name="331"><span class="lineNum">     331 </span>                :            :     static void perpendicularOffsetPointAlongSegment( double x1, double y1, double x2, double y2, double proportion, double offset, double *x SIP_OUT, double *y  SIP_OUT );</a>
<a name="332"><span class="lineNum">     332 </span>                :            : </a>
<a name="333"><span class="lineNum">     333 </span>                :            :     /**</a>
<a name="334"><span class="lineNum">     334 </span>                :            :      * Interpolates a point on an arc defined by three points, \a pt1, \a pt2 and \a pt3. The arc will be</a>
<a name="335"><span class="lineNum">     335 </span>                :            :      * interpolated by the specified \a distance from \a pt1.</a>
<a name="336"><span class="lineNum">     336 </span>                :            :      *</a>
<a name="337"><span class="lineNum">     337 </span>                :            :      * Any z or m values present in the points will also be linearly interpolated in the output.</a>
<a name="338"><span class="lineNum">     338 </span>                :            :      *</a>
<a name="339"><span class="lineNum">     339 </span>                :            :      * \since QGIS 3.4</a>
<a name="340"><span class="lineNum">     340 </span>                :            :      */</a>
<a name="341"><span class="lineNum">     341 </span>                :            :     static QgsPoint interpolatePointOnArc( const QgsPoint &amp;pt1, const QgsPoint &amp;pt2, const QgsPoint &amp;pt3, double distance ) SIP_HOLDGIL;</a>
<a name="342"><span class="lineNum">     342 </span>                :            : </a>
<a name="343"><span class="lineNum">     343 </span>                :            :     //! Returns the counter clockwise angle between a line with components dx, dy and the line with dx &gt; 0 and dy = 0</a>
<a name="344"><span class="lineNum">     344 </span>                :            :     static double ccwAngle( double dy, double dx ) SIP_HOLDGIL;</a>
<a name="345"><span class="lineNum">     345 </span>                :            : </a>
<a name="346"><span class="lineNum">     346 </span>                :            :     //! Returns radius and center of the circle through pt1, pt2, pt3</a>
<a name="347"><span class="lineNum">     347 </span>                :            :     static void circleCenterRadius( const QgsPoint &amp;pt1, const QgsPoint &amp;pt2, const QgsPoint &amp;pt3, double &amp;radius SIP_OUT,</a>
<a name="348"><span class="lineNum">     348 </span>                :            :                                     double &amp;centerX SIP_OUT, double &amp;centerY SIP_OUT ) SIP_HOLDGIL;</a>
<a name="349"><span class="lineNum">     349 </span>                :            : </a>
<a name="350"><span class="lineNum">     350 </span>                :            :     /**</a>
<a name="351"><span class="lineNum">     351 </span>                :            :      * Returns TRUE if the circle defined by three angles is ordered clockwise.</a>
<a name="352"><span class="lineNum">     352 </span>                :            :      *</a>
<a name="353"><span class="lineNum">     353 </span>                :            :      * The angles are defined counter-clockwise from the origin, i.e. using</a>
<a name="354"><span class="lineNum">     354 </span>                :            :      * Euclidean angles as opposed to geographic &quot;North up&quot; angles.</a>
<a name="355"><span class="lineNum">     355 </span>                :            :      */</a>
<a name="356"><span class="lineNum">     356 </span>                :            :     static bool circleClockwise( double angle1, double angle2, double angle3 ) SIP_HOLDGIL;</a>
<a name="357"><span class="lineNum">     357 </span>                :            : </a>
<a name="358"><span class="lineNum">     358 </span>                :            :     //! Returns TRUE if, in a circle, angle is between angle1 and angle2</a>
<a name="359"><span class="lineNum">     359 </span>                :            :     static bool circleAngleBetween( double angle, double angle1, double angle2, bool clockwise ) SIP_HOLDGIL;</a>
<a name="360"><span class="lineNum">     360 </span>                :            : </a>
<a name="361"><span class="lineNum">     361 </span>                :            :     /**</a>
<a name="362"><span class="lineNum">     362 </span>                :            :      * Returns TRUE if an angle is between angle1 and angle3 on a circle described by</a>
<a name="363"><span class="lineNum">     363 </span>                :            :      * angle1, angle2 and angle3.</a>
<a name="364"><span class="lineNum">     364 </span>                :            :      */</a>
<a name="365"><span class="lineNum">     365 </span>                :            :     static bool angleOnCircle( double angle, double angle1, double angle2, double angle3 ) SIP_HOLDGIL;</a>
<a name="366"><span class="lineNum">     366 </span>                :            : </a>
<a name="367"><span class="lineNum">     367 </span>                :            :     //! Length of a circular string segment defined by pt1, pt2, pt3</a>
<a name="368"><span class="lineNum">     368 </span>                :            :     static double circleLength( double x1, double y1, double x2, double y2, double x3, double y3 ) SIP_HOLDGIL;</a>
<a name="369"><span class="lineNum">     369 </span>                :            : </a>
<a name="370"><span class="lineNum">     370 </span>                :            :     //! Calculates angle of a circular string part defined by pt1, pt2, pt3</a>
<a name="371"><span class="lineNum">     371 </span>                :            :     static double sweepAngle( double centerX, double centerY, double x1, double y1, double x2, double y2, double x3, double y3 ) SIP_HOLDGIL;</a>
<a name="372"><span class="lineNum">     372 </span>                :            : </a>
<a name="373"><span class="lineNum">     373 </span>                :            :     /**</a>
<a name="374"><span class="lineNum">     374 </span>                :            :      * Calculates midpoint on circle passing through \a p1 and \a p2, closest to</a>
<a name="375"><span class="lineNum">     375 </span>                :            :      * the given coordinate \a mousePos. Z dimension is supported and is retrieved from the</a>
<a name="376"><span class="lineNum">     376 </span>                :            :      * first 3D point amongst \a p1 and \a p2.</a>
<a name="377"><span class="lineNum">     377 </span>                :            :      * \see segmentMidPointFromCenter()</a>
<a name="378"><span class="lineNum">     378 </span>                :            :      */</a>
<a name="379"><span class="lineNum">     379 </span>                :            :     static bool segmentMidPoint( const QgsPoint &amp;p1, const QgsPoint &amp;p2, QgsPoint &amp;result SIP_OUT, double radius, const QgsPoint &amp;mousePos ) SIP_HOLDGIL;</a>
<a name="380"><span class="lineNum">     380 </span>                :            : </a>
<a name="381"><span class="lineNum">     381 </span>                :            :     /**</a>
<a name="382"><span class="lineNum">     382 </span>                :            :      * Calculates the midpoint on the circle passing through \a p1 and \a p2,</a>
<a name="383"><span class="lineNum">     383 </span>                :            :      * with the specified \a center coordinate.</a>
<a name="384"><span class="lineNum">     384 </span>                :            :      *</a>
<a name="385"><span class="lineNum">     385 </span>                :            :      * If \a useShortestArc is TRUE, then the midpoint returned will be that corresponding</a>
<a name="386"><span class="lineNum">     386 </span>                :            :      * to the shorter arc from \a p1 to \a p2. If it is FALSE, the longer arc from \a p1</a>
<a name="387"><span class="lineNum">     387 </span>                :            :      * to \a p2 will be used (i.e. winding the other way around the circle).</a>
<a name="388"><span class="lineNum">     388 </span>                :            :      *</a>
<a name="389"><span class="lineNum">     389 </span>                :            :      * \see segmentMidPoint()</a>
<a name="390"><span class="lineNum">     390 </span>                :            :      * \since QGIS 3.2</a>
<a name="391"><span class="lineNum">     391 </span>                :            :      */</a>
<a name="392"><span class="lineNum">     392 </span>                :            :     static QgsPoint segmentMidPointFromCenter( const QgsPoint &amp;p1, const QgsPoint &amp;p2, const QgsPoint &amp;center, bool useShortestArc = true ) SIP_HOLDGIL;</a>
<a name="393"><span class="lineNum">     393 </span>                :            : </a>
<a name="394"><span class="lineNum">     394 </span>                :            :     //! Calculates the direction angle of a circle tangent (clockwise from north in radians)</a>
<a name="395"><span class="lineNum">     395 </span>                :            :     static double circleTangentDirection( const QgsPoint &amp;tangentPoint, const QgsPoint &amp;cp1, const QgsPoint &amp;cp2, const QgsPoint &amp;cp3 ) SIP_HOLDGIL;</a>
<a name="396"><span class="lineNum">     396 </span>                :            : </a>
<a name="397"><span class="lineNum">     397 </span>                :            :     /**</a>
<a name="398"><span class="lineNum">     398 </span>                :            :      * Convert circular arc defined by p1, p2, p3 (p1/p3 being start resp. end point, p2 lies on the arc) into a sequence of points.</a>
<a name="399"><span class="lineNum">     399 </span>                :            :      * \since 3.0</a>
<a name="400"><span class="lineNum">     400 </span>                :            :      */</a>
<a name="401"><span class="lineNum">     401 </span>                :            :     static void segmentizeArc( const QgsPoint &amp;p1, const QgsPoint &amp;p2, const QgsPoint &amp;p3,</a>
<a name="402"><span class="lineNum">     402 </span>                :            :                                QgsPointSequence SIP_PYALTERNATIVETYPE( QVector&lt;QgsPoint&gt; ) &amp;points SIP_OUT, double tolerance = M_PI_2 / 90,</a>
<a name="403"><span class="lineNum">     403 </span>                :            :                                QgsAbstractGeometry::SegmentationToleranceType toleranceType = QgsAbstractGeometry::MaximumAngle,</a>
<a name="404"><span class="lineNum">     404 </span>                :            :                                bool hasZ = false, bool hasM = false );</a>
<a name="405"><span class="lineNum">     405 </span>                :            : </a>
<a name="406"><span class="lineNum">     406 </span>                :            :     /**</a>
<a name="407"><span class="lineNum">     407 </span>                :            :      * Returns TRUE if point \a b is on the arc formed by points \a a1, \a a2, and \a a3, but not within</a>
<a name="408"><span class="lineNum">     408 </span>                :            :      * that arc portion already described by \a a1, \a a2 and \a a3.</a>
<a name="409"><span class="lineNum">     409 </span>                :            :      *</a>
<a name="410"><span class="lineNum">     410 </span>                :            :      * The \a distanceTolerance specifies the maximum deviation allowed between the original location</a>
<a name="411"><span class="lineNum">     411 </span>                :            :      * of point \b and where it would fall on the candidate arc.</a>
<a name="412"><span class="lineNum">     412 </span>                :            :      *</a>
<a name="413"><span class="lineNum">     413 </span>                :            :      * This method only consider a segments as continuing an arc if the points are all regularly spaced</a>
<a name="414"><span class="lineNum">     414 </span>                :            :      * on the candidate arc. The \a pointSpacingAngleTolerance parameter specifies the maximum</a>
<a name="415"><span class="lineNum">     415 </span>                :            :      * angular deviation (in radians) allowed when testing for regular point spacing.</a>
<a name="416"><span class="lineNum">     416 </span>                :            :      *</a>
<a name="417"><span class="lineNum">     417 </span>                :            :      * \note The API is considered EXPERIMENTAL and can be changed without a notice</a>
<a name="418"><span class="lineNum">     418 </span>                :            :      *</a>
<a name="419"><span class="lineNum">     419 </span>                :            :      * \since QGIS 3.14</a>
<a name="420"><span class="lineNum">     420 </span>                :            :      */</a>
<a name="421"><span class="lineNum">     421 </span>                :            :     static bool pointContinuesArc( const QgsPoint &amp;a1, const QgsPoint &amp;a2, const QgsPoint &amp;a3, const QgsPoint &amp;b, double distanceTolerance,</a>
<a name="422"><span class="lineNum">     422 </span>                :            :                                    double pointSpacingAngleTolerance ) SIP_HOLDGIL;</a>
<a name="423"><span class="lineNum">     423 </span>                :            : </a>
<a name="424"><span class="lineNum">     424 </span>                :            :     /**</a>
<a name="425"><span class="lineNum">     425 </span>                :            :      * For line defined by points pt1 and pt3, find out on which side of the line is point pt3.</a>
<a name="426"><span class="lineNum">     426 </span>                :            :      * Returns -1 if pt3 on the left side, 1 if pt3 is on the right side or 0 if pt3 lies on the line.</a>
<a name="427"><span class="lineNum">     427 </span>                :            :      * \since 3.0</a>
<a name="428"><span class="lineNum">     428 </span>                :            :      */</a>
<a name="429"><span class="lineNum">     429 </span>                :            :     static int segmentSide( const QgsPoint &amp;pt1, const QgsPoint &amp;pt3, const QgsPoint &amp;pt2 ) SIP_HOLDGIL;</a>
<a name="430"><span class="lineNum">     430 </span>                :            : </a>
<a name="431"><span class="lineNum">     431 </span>                :            :     /**</a>
<a name="432"><span class="lineNum">     432 </span>                :            :      * Interpolate a value at given angle on circular arc given values (zm1, zm2, zm3) at three different angles (a1, a2, a3).</a>
<a name="433"><span class="lineNum">     433 </span>                :            :      * \since 3.0</a>
<a name="434"><span class="lineNum">     434 </span>                :            :      */</a>
<a name="435"><span class="lineNum">     435 </span>                :            :     static double interpolateArcValue( double angle, double a1, double a2, double a3, double zm1, double zm2, double zm3 ) SIP_HOLDGIL;</a>
<a name="436"><span class="lineNum">     436 </span>                :            : </a>
<a name="437"><span class="lineNum">     437 </span>                :            :     /**</a>
<a name="438"><span class="lineNum">     438 </span>                :            :      * Returns a list of points contained in a WKT string.</a>
<a name="439"><span class="lineNum">     439 </span>                :            :      * \note not available in Python bindings</a>
<a name="440"><span class="lineNum">     440 </span>                :            :      */</a>
<a name="441"><span class="lineNum">     441 </span>                :            :     static QgsPointSequence pointsFromWKT( const QString &amp;wktCoordinateList, bool is3D, bool isMeasure ) SIP_SKIP;</a>
<a name="442"><span class="lineNum">     442 </span>                :            : </a>
<a name="443"><span class="lineNum">     443 </span>                :            :     /**</a>
<a name="444"><span class="lineNum">     444 </span>                :            :      * Returns a LinearRing { uint32 numPoints; Point points[numPoints]; }</a>
<a name="445"><span class="lineNum">     445 </span>                :            :      * \note not available in Python bindings</a>
<a name="446"><span class="lineNum">     446 </span>                :            :      */</a>
<a name="447"><span class="lineNum">     447 </span>                :            :     static void pointsToWKB( QgsWkbPtr &amp;wkb, const QgsPointSequence &amp;points, bool is3D, bool isMeasure ) SIP_SKIP;</a>
<a name="448"><span class="lineNum">     448 </span>                :            : </a>
<a name="449"><span class="lineNum">     449 </span>                :            :     /**</a>
<a name="450"><span class="lineNum">     450 </span>                :            :      * Returns a WKT coordinate list</a>
<a name="451"><span class="lineNum">     451 </span>                :            :      * \note not available in Python bindings</a>
<a name="452"><span class="lineNum">     452 </span>                :            :      */</a>
<a name="453"><span class="lineNum">     453 </span>                :            :     static QString pointsToWKT( const QgsPointSequence &amp;points, int precision, bool is3D, bool isMeasure ) SIP_SKIP;</a>
<a name="454"><span class="lineNum">     454 </span>                :            : </a>
<a name="455"><span class="lineNum">     455 </span>                :            :     /**</a>
<a name="456"><span class="lineNum">     456 </span>                :            :      * Returns a gml::coordinates DOM element.</a>
<a name="457"><span class="lineNum">     457 </span>                :            :      * \note not available in Python bindings</a>
<a name="458"><span class="lineNum">     458 </span>                :            :      */</a>
<a name="459"><span class="lineNum">     459 </span>                :            :     static QDomElement pointsToGML2( const QgsPointSequence &amp;points, QDomDocument &amp;doc, int precision, const QString &amp;ns, QgsAbstractGeometry::AxisOrder axisOrder = QgsAbstractGeometry::AxisOrder::XY ) SIP_SKIP;</a>
<a name="460"><span class="lineNum">     460 </span>                :            : </a>
<a name="461"><span class="lineNum">     461 </span>                :            :     /**</a>
<a name="462"><span class="lineNum">     462 </span>                :            :      * Returns a gml::posList DOM element.</a>
<a name="463"><span class="lineNum">     463 </span>                :            :      * \note not available in Python bindings</a>
<a name="464"><span class="lineNum">     464 </span>                :            :      */</a>
<a name="465"><span class="lineNum">     465 </span>                :            :     static QDomElement pointsToGML3( const QgsPointSequence &amp;points, QDomDocument &amp;doc, int precision, const QString &amp;ns, bool is3D, QgsAbstractGeometry::AxisOrder axisOrder = QgsAbstractGeometry::AxisOrder::XY ) SIP_SKIP;</a>
<a name="466"><span class="lineNum">     466 </span>                :            : </a>
<a name="467"><span class="lineNum">     467 </span>                :            :     /**</a>
<a name="468"><span class="lineNum">     468 </span>                :            :      * Returns a geoJSON coordinates string.</a>
<a name="469"><span class="lineNum">     469 </span>                :            :      * \note not available in Python bindings</a>
<a name="470"><span class="lineNum">     470 </span>                :            :      */</a>
<a name="471"><span class="lineNum">     471 </span>                :            :     static QString pointsToJSON( const QgsPointSequence &amp;points, int precision ) SIP_SKIP;</a>
<a name="472"><span class="lineNum">     472 </span>                :            : </a>
<a name="473"><span class="lineNum">     473 </span>                :            :     /**</a>
<a name="474"><span class="lineNum">     474 </span>                :            :      * Returns coordinates as json object.</a>
<a name="475"><span class="lineNum">     475 </span>                :            :      * \note not available in Python bindings</a>
<a name="476"><span class="lineNum">     476 </span>                :            :      */</a>
<a name="477"><span class="lineNum">     477 </span>                :            :     static json pointsToJson( const QgsPointSequence &amp;points, int precision ) SIP_SKIP;</a>
<a name="478"><span class="lineNum">     478 </span>                :            : </a>
<a name="479"><span class="lineNum">     479 </span>                :            :     /**</a>
<a name="480"><span class="lineNum">     480 </span>                :            :      * Ensures that an angle is in the range 0 &lt;= angle &lt; 2 pi.</a>
<a name="481"><span class="lineNum">     481 </span>                :            :      * \param angle angle in radians</a>
<a name="482"><span class="lineNum">     482 </span>                :            :      * \returns equivalent angle within the range [0, 2 pi)</a>
<a name="483"><span class="lineNum">     483 </span>                :            :      */</a>
<a name="484"><span class="lineNum">     484 </span>                :            :     static double normalizedAngle( double angle ) SIP_HOLDGIL;</a>
<a name="485"><span class="lineNum">     485 </span>                :            : </a>
<a name="486"><span class="lineNum">     486 </span>                :            :     /**</a>
<a name="487"><span class="lineNum">     487 </span>                :            :      * Calculates the direction of line joining two points in radians, clockwise from the north direction.</a>
<a name="488"><span class="lineNum">     488 </span>                :            :      * \param x1 x-coordinate of line start</a>
<a name="489"><span class="lineNum">     489 </span>                :            :      * \param y1 y-coordinate of line start</a>
<a name="490"><span class="lineNum">     490 </span>                :            :      * \param x2 x-coordinate of line end</a>
<a name="491"><span class="lineNum">     491 </span>                :            :      * \param y2 y-coordinate of line end</a>
<a name="492"><span class="lineNum">     492 </span>                :            :      * \returns angle in radians. Returned value is undefined if start and end point are the same.</a>
<a name="493"><span class="lineNum">     493 </span>                :            :      */</a>
<a name="494"><span class="lineNum">     494 </span>                :            :     static double lineAngle( double x1, double y1, double x2, double y2 ) SIP_HOLDGIL;</a>
<a name="495"><span class="lineNum">     495 </span>                :            : </a>
<a name="496"><span class="lineNum">     496 </span>                :            :     /**</a>
<a name="497"><span class="lineNum">     497 </span>                :            :      * Calculates the angle between the lines AB and BC, where AB and BC described</a>
<a name="498"><span class="lineNum">     498 </span>                :            :      * by points a, b and b, c.</a>
<a name="499"><span class="lineNum">     499 </span>                :            :      * \param x1 x-coordinate of point a</a>
<a name="500"><span class="lineNum">     500 </span>                :            :      * \param y1 y-coordinate of point a</a>
<a name="501"><span class="lineNum">     501 </span>                :            :      * \param x2 x-coordinate of point b</a>
<a name="502"><span class="lineNum">     502 </span>                :            :      * \param y2 y-coordinate of point b</a>
<a name="503"><span class="lineNum">     503 </span>                :            :      * \param x3 x-coordinate of point c</a>
<a name="504"><span class="lineNum">     504 </span>                :            :      * \param y3 y-coordinate of point c</a>
<a name="505"><span class="lineNum">     505 </span>                :            :      * \returns angle between lines in radians. Returned value is undefined if two or more points are equal.</a>
<a name="506"><span class="lineNum">     506 </span>                :            :      */</a>
<a name="507"><span class="lineNum">     507 </span>                :            :     static double angleBetweenThreePoints( double x1, double y1, double x2, double y2,</a>
<a name="508"><span class="lineNum">     508 </span>                :            :                                            double x3, double y3 ) SIP_HOLDGIL;</a>
<a name="509"><span class="lineNum">     509 </span>                :            : </a>
<a name="510"><span class="lineNum">     510 </span>                :            :     /**</a>
<a name="511"><span class="lineNum">     511 </span>                :            :      * Calculates the perpendicular angle to a line joining two points. Returned angle is in radians,</a>
<a name="512"><span class="lineNum">     512 </span>                :            :      * clockwise from the north direction.</a>
<a name="513"><span class="lineNum">     513 </span>                :            :      * \param x1 x-coordinate of line start</a>
<a name="514"><span class="lineNum">     514 </span>                :            :      * \param y1 y-coordinate of line start</a>
<a name="515"><span class="lineNum">     515 </span>                :            :      * \param x2 x-coordinate of line end</a>
<a name="516"><span class="lineNum">     516 </span>                :            :      * \param y2 y-coordinate of line end</a>
<a name="517"><span class="lineNum">     517 </span>                :            :      * \returns angle in radians. Returned value is undefined if start and end point are the same.</a>
<a name="518"><span class="lineNum">     518 </span>                :            :      */</a>
<a name="519"><span class="lineNum">     519 </span>                :            :     static double linePerpendicularAngle( double x1, double y1, double x2, double y2 ) SIP_HOLDGIL;</a>
<a name="520"><span class="lineNum">     520 </span>                :            : </a>
<a name="521"><span class="lineNum">     521 </span>                :            :     /**</a>
<a name="522"><span class="lineNum">     522 </span>                :            :      * Calculates the average angle (in radians) between the two linear segments from</a>
<a name="523"><span class="lineNum">     523 </span>                :            :      * (\a x1, \a y1) to (\a x2, \a y2) and (\a x2, \a y2) to (\a x3, \a y3).</a>
<a name="524"><span class="lineNum">     524 </span>                :            :      */</a>
<a name="525"><span class="lineNum">     525 </span>                :            :     static double averageAngle( double x1, double y1, double x2, double y2, double x3, double y3 ) SIP_HOLDGIL;</a>
<a name="526"><span class="lineNum">     526 </span>                :            : </a>
<a name="527"><span class="lineNum">     527 </span>                :            :     /**</a>
<a name="528"><span class="lineNum">     528 </span>                :            :      * Averages two angles, correctly handling negative angles and ensuring the result is between 0 and 2 pi.</a>
<a name="529"><span class="lineNum">     529 </span>                :            :      * \param a1 first angle (in radians)</a>
<a name="530"><span class="lineNum">     530 </span>                :            :      * \param a2 second angle (in radians)</a>
<a name="531"><span class="lineNum">     531 </span>                :            :      * \returns average angle (in radians)</a>
<a name="532"><span class="lineNum">     532 </span>                :            :      */</a>
<a name="533"><span class="lineNum">     533 </span>                :            :     static double averageAngle( double a1, double a2 ) SIP_HOLDGIL;</a>
<a name="534"><span class="lineNum">     534 </span>                :            : </a>
<a name="535"><span class="lineNum">     535 </span>                :            :     /**</a>
<a name="536"><span class="lineNum">     536 </span>                :            :      * Parses a WKT block of the format &quot;TYPE( contents )&quot; and returns a pair of geometry type to contents (&quot;Pair(wkbType, &quot;contents&quot;)&quot;)</a>
<a name="537"><span class="lineNum">     537 </span>                :            :      * \note not available in Python bindings</a>
<a name="538"><span class="lineNum">     538 </span>                :            :      */</a>
<a name="539"><span class="lineNum">     539 </span>                :            :     static QPair&lt;QgsWkbTypes::Type, QString&gt; wktReadBlock( const QString &amp;wkt ) SIP_SKIP;</a>
<a name="540"><span class="lineNum">     540 </span>                :            : </a>
<a name="541"><span class="lineNum">     541 </span>                :            :     /**</a>
<a name="542"><span class="lineNum">     542 </span>                :            :      * Parses a WKT string and returns of list of blocks contained in the WKT.</a>
<a name="543"><span class="lineNum">     543 </span>                :            :      * \param wkt WKT string in the format &quot;TYPE1 (contents1), TYPE2 (TYPE3 (contents3), TYPE4 (contents4))&quot;</a>
<a name="544"><span class="lineNum">     544 </span>                :            :      * \param defaultType default geometry type for children</a>
<a name="545"><span class="lineNum">     545 </span>                :            :      * \returns list of WKT child block strings, e.g., List(&quot;TYPE1 (contents1)&quot;, &quot;TYPE2 (TYPE3 (contents3), TYPE4 (contents4))&quot;)</a>
<a name="546"><span class="lineNum">     546 </span>                :            :      * \note not available in Python bindings</a>
<a name="547"><span class="lineNum">     547 </span>                :            :      */</a>
<a name="548"><span class="lineNum">     548 </span>                :            :     static QStringList wktGetChildBlocks( const QString &amp;wkt, const QString &amp;defaultType = QString() ) SIP_SKIP;</a>
<a name="549"><span class="lineNum">     549 </span>                :            : </a>
<a name="550"><span class="lineNum">     550 </span>                :            :     /**</a>
<a name="551"><span class="lineNum">     551 </span>                :            :      * Returns a number representing the closest side of a rectangle defined by /a right,</a>
<a name="552"><span class="lineNum">     552 </span>                :            :      * \a bottom, \a left, \a top to the point at (\a x, \a y), where</a>
<a name="553"><span class="lineNum">     553 </span>                :            :      * the point may be in the interior of the rectangle or outside it.</a>
<a name="554"><span class="lineNum">     554 </span>                :            :      *</a>
<a name="555"><span class="lineNum">     555 </span>                :            :      * The returned value may be:</a>
<a name="556"><span class="lineNum">     556 </span>                :            :      *</a>
<a name="557"><span class="lineNum">     557 </span>                :            :      * 1. Point is closest to top side of rectangle</a>
<a name="558"><span class="lineNum">     558 </span>                :            :      * 2. Point is located on the top-right diagonal of rectangle, equally close to the top and right sides</a>
<a name="559"><span class="lineNum">     559 </span>                :            :      * 3. Point is closest to right side of rectangle</a>
<a name="560"><span class="lineNum">     560 </span>                :            :      * 4. Point is located on the bottom-right diagonal of rectangle, equally close to the bottom and right sides</a>
<a name="561"><span class="lineNum">     561 </span>                :            :      * 5. Point is closest to bottom side of rectangle</a>
<a name="562"><span class="lineNum">     562 </span>                :            :      * 6. Point is located on the bottom-left diagonal of rectangle, equally close to the bottom and left sides</a>
<a name="563"><span class="lineNum">     563 </span>                :            :      * 7. Point is closest to left side of rectangle</a>
<a name="564"><span class="lineNum">     564 </span>                :            :      * 8. Point is located on the top-left diagonal of rectangle, equally close to the top and left sides</a>
<a name="565"><span class="lineNum">     565 </span>                :            :      *</a>
<a name="566"><span class="lineNum">     566 </span>                :            :      * \note This method effectively partitions the space outside of the rectangle into Voronoi cells, so a point</a>
<a name="567"><span class="lineNum">     567 </span>                :            :      * to the top left of the rectangle may be assigned to the left or top sides based on its position relative</a>
<a name="568"><span class="lineNum">     568 </span>                :            :      * to the diagonal line extended from the rectangle's top-left corner.</a>
<a name="569"><span class="lineNum">     569 </span>                :            :      *</a>
<a name="570"><span class="lineNum">     570 </span>                :            :      * \since QGIS 3.20</a>
<a name="571"><span class="lineNum">     571 </span>                :            :      */</a>
<a name="572"><span class="lineNum">     572 </span>                :            :     static int closestSideOfRectangle( double right, double bottom, double left, double top, double x, double y );</a>
<a name="573"><span class="lineNum">     573 </span>                :            : </a>
<a name="574"><span class="lineNum">     574 </span>                :            :     /**</a>
<a name="575"><span class="lineNum">     575 </span>                :            :      * Returns a middle point between points pt1 and pt2.</a>
<a name="576"><span class="lineNum">     576 </span>                :            :      * Z value is computed if one of this point have Z.</a>
<a name="577"><span class="lineNum">     577 </span>                :            :      * M value is computed if one of this point have M.</a>
<a name="578"><span class="lineNum">     578 </span>                :            :      * \param pt1 first point.</a>
<a name="579"><span class="lineNum">     579 </span>                :            :      * \param pt2 second point.</a>
<a name="580"><span class="lineNum">     580 </span>                :            :      * \returns New point at middle between points pt1 and pt2.</a>
<a name="581"><span class="lineNum">     581 </span>                :            :      *</a>
<a name="582"><span class="lineNum">     582 </span>                :            :      * ### Example</a>
<a name="583"><span class="lineNum">     583 </span>                :            :      *</a>
<a name="584"><span class="lineNum">     584 </span>                :            :      * \code{.py}</a>
<a name="585"><span class="lineNum">     585 </span>                :            :      *   p = QgsPoint( 4, 6 ) # 2D point</a>
<a name="586"><span class="lineNum">     586 </span>                :            :      *   pr = midpoint ( p, QgsPoint( 2, 2 ) )</a>
<a name="587"><span class="lineNum">     587 </span>                :            :      *   # pr is a 2D point: 'Point (3 4)'</a>
<a name="588"><span class="lineNum">     588 </span>                :            :      *   pr = midpoint ( p, QgsPoint( QgsWkbTypes.PointZ, 2, 2, 2 ) )</a>
<a name="589"><span class="lineNum">     589 </span>                :            :      *   # pr is a 3D point: 'PointZ (3 4 1)'</a>
<a name="590"><span class="lineNum">     590 </span>                :            :      *   pr = midpoint ( p, QgsPoint( QgsWkbTypes.PointM, 2, 2, 0, 2 ) )</a>
<a name="591"><span class="lineNum">     591 </span>                :            :      *   # pr is a 3D point: 'PointM (3 4 1)'</a>
<a name="592"><span class="lineNum">     592 </span>                :            :      *   pr = midpoint ( p, QgsPoint( QgsWkbTypes.PointZM, 2, 2, 2, 2 ) )</a>
<a name="593"><span class="lineNum">     593 </span>                :            :      *   # pr is a 3D point: 'PointZM (3 4 1 1)'</a>
<a name="594"><span class="lineNum">     594 </span>                :            :      * \endcode</a>
<a name="595"><span class="lineNum">     595 </span>                :            :      * \since QGIS 3.0</a>
<a name="596"><span class="lineNum">     596 </span>                :            :      */</a>
<a name="597"><span class="lineNum">     597 </span>                :            :     static QgsPoint midpoint( const QgsPoint &amp;pt1, const QgsPoint &amp;pt2 ) SIP_HOLDGIL;</a>
<a name="598"><span class="lineNum">     598 </span>                :            : </a>
<a name="599"><span class="lineNum">     599 </span>                :            :     /**</a>
<a name="600"><span class="lineNum">     600 </span>                :            :      * Interpolates the position of a point a \a fraction of the way along</a>
<a name="601"><span class="lineNum">     601 </span>                :            :      * the line from (\a x1, \a y1) to (\a x2, \a y2).</a>
<a name="602"><span class="lineNum">     602 </span>                :            :      *</a>
<a name="603"><span class="lineNum">     603 </span>                :            :      * Usually the \a fraction should be between 0 and 1, where 0 represents the</a>
<a name="604"><span class="lineNum">     604 </span>                :            :      * point at the start of the line (\a x1, \a y1) and 1 represents</a>
<a name="605"><span class="lineNum">     605 </span>                :            :      * the end of the line (\a x2, \a y2). However, it is possible to</a>
<a name="606"><span class="lineNum">     606 </span>                :            :      * use a \a fraction &lt; 0 or &gt; 1, in which case the returned point</a>
<a name="607"><span class="lineNum">     607 </span>                :            :      * is extrapolated from the supplied line.</a>
<a name="608"><span class="lineNum">     608 </span>                :            :      *</a>
<a name="609"><span class="lineNum">     609 </span>                :            :      * \see interpolatePointOnLineByValue()</a>
<a name="610"><span class="lineNum">     610 </span>                :            :      * \since QGIS 3.0.2</a>
<a name="611"><span class="lineNum">     611 </span>                :            :      */</a>
<a name="612"><span class="lineNum">     612 </span>                :            :     static QgsPointXY interpolatePointOnLine( double x1, double y1, double x2, double y2, double fraction ) SIP_HOLDGIL;</a>
<a name="613"><span class="lineNum">     613 </span>                :            : </a>
<a name="614"><span class="lineNum">     614 </span>                :            :     /**</a>
<a name="615"><span class="lineNum">     615 </span>                :            :      * Interpolates the position of a point a \a fraction of the way along</a>
<a name="616"><span class="lineNum">     616 </span>                :            :      * the line from \a p1 to \a p2.</a>
<a name="617"><span class="lineNum">     617 </span>                :            :      *</a>
<a name="618"><span class="lineNum">     618 </span>                :            :      * Usually the \a fraction should be between 0 and 1, where 0 represents the</a>
<a name="619"><span class="lineNum">     619 </span>                :            :      * point at the start of the line (\a p1) and 1 represents</a>
<a name="620"><span class="lineNum">     620 </span>                :            :      * the end of the line (\a p2). However, it is possible to</a>
<a name="621"><span class="lineNum">     621 </span>                :            :      * use a \a fraction &lt; 0 or &gt; 1, in which case the returned point</a>
<a name="622"><span class="lineNum">     622 </span>                :            :      * is extrapolated from the supplied line.</a>
<a name="623"><span class="lineNum">     623 </span>                :            :      *</a>
<a name="624"><span class="lineNum">     624 </span>                :            :      * Any Z or M values present in the input points will also be interpolated</a>
<a name="625"><span class="lineNum">     625 </span>                :            :      * and present in the returned point.</a>
<a name="626"><span class="lineNum">     626 </span>                :            :      *</a>
<a name="627"><span class="lineNum">     627 </span>                :            :      * \see interpolatePointOnLineByValue()</a>
<a name="628"><span class="lineNum">     628 </span>                :            :      * \since QGIS 3.0.2</a>
<a name="629"><span class="lineNum">     629 </span>                :            :      */</a>
<a name="630"><span class="lineNum">     630 </span>                :            :     static QgsPoint interpolatePointOnLine( const QgsPoint &amp;p1, const QgsPoint &amp;p2, double fraction ) SIP_HOLDGIL;</a>
<a name="631"><span class="lineNum">     631 </span>                :            : </a>
<a name="632"><span class="lineNum">     632 </span>                :            :     /**</a>
<a name="633"><span class="lineNum">     633 </span>                :            :      * Interpolates the position of a point along the line from (\a x1, \a y1)</a>
<a name="634"><span class="lineNum">     634 </span>                :            :      * to (\a x2, \a y2).</a>
<a name="635"><span class="lineNum">     635 </span>                :            :      *</a>
<a name="636"><span class="lineNum">     636 </span>                :            :      * The position is interpolated using a supplied target \a value and the value</a>
<a name="637"><span class="lineNum">     637 </span>                :            :      * at the start of the line (\a v1) and end of the line (\a v2). The returned</a>
<a name="638"><span class="lineNum">     638 </span>                :            :      * point will be linearly interpolated to match position corresponding to</a>
<a name="639"><span class="lineNum">     639 </span>                :            :      * the target \a value.</a>
<a name="640"><span class="lineNum">     640 </span>                :            :      *</a>
<a name="641"><span class="lineNum">     641 </span>                :            :      * \see interpolatePointOnLine()</a>
<a name="642"><span class="lineNum">     642 </span>                :            :      * \since QGIS 3.0.2</a>
<a name="643"><span class="lineNum">     643 </span>                :            :      */</a>
<a name="644"><span class="lineNum">     644 </span>                :            :     static QgsPointXY interpolatePointOnLineByValue( double x1, double y1, double v1, double x2, double y2, double v2, double value ) SIP_HOLDGIL;</a>
<a name="645"><span class="lineNum">     645 </span>                :            : </a>
<a name="646"><span class="lineNum">     646 </span>                :            :     /**</a>
<a name="647"><span class="lineNum">     647 </span>                :            :      * Returns the gradient of a line defined by points \a pt1 and \a pt2.</a>
<a name="648"><span class="lineNum">     648 </span>                :            :      * \param pt1 first point.</a>
<a name="649"><span class="lineNum">     649 </span>                :            :      * \param pt2 second point.</a>
<a name="650"><span class="lineNum">     650 </span>                :            :      * \returns The gradient of this linear entity, or infinity if vertical</a>
<a name="651"><span class="lineNum">     651 </span>                :            :      * \since QGIS 3.0</a>
<a name="652"><span class="lineNum">     652 </span>                :            :      */</a>
<a name="653"><span class="lineNum">     653 </span>                :            :     static double gradient( const QgsPoint &amp;pt1, const QgsPoint &amp;pt2 ) SIP_HOLDGIL;</a>
<a name="654"><span class="lineNum">     654 </span>                :            : </a>
<a name="655"><span class="lineNum">     655 </span>                :            :     /**</a>
<a name="656"><span class="lineNum">     656 </span>                :            :      * Returns the coefficients (a, b, c for equation &quot;ax + by + c = 0&quot;) of a line defined by points \a pt1 and \a pt2.</a>
<a name="657"><span class="lineNum">     657 </span>                :            :      * \param pt1 first point.</a>
<a name="658"><span class="lineNum">     658 </span>                :            :      * \param pt2 second point.</a>
<a name="659"><span class="lineNum">     659 </span>                :            :      * \param a Output parameter, a coefficient of the equation.</a>
<a name="660"><span class="lineNum">     660 </span>                :            :      * \param b Output parameter, b coefficient of the equation.</a>
<a name="661"><span class="lineNum">     661 </span>                :            :      * \param c Output parameter, c coefficient of the equation.</a>
<a name="662"><span class="lineNum">     662 </span>                :            :      * \since QGIS 3.0</a>
<a name="663"><span class="lineNum">     663 </span>                :            :      */</a>
<a name="664"><span class="lineNum">     664 </span>                :            :     static void coefficients( const QgsPoint &amp;pt1, const QgsPoint &amp;pt2,</a>
<a name="665"><span class="lineNum">     665 </span>                :            :                               double &amp;a SIP_OUT, double &amp;b SIP_OUT, double &amp;c SIP_OUT ) SIP_HOLDGIL;</a>
<a name="666"><span class="lineNum">     666 </span>                :            : </a>
<a name="667"><span class="lineNum">     667 </span>                :            :     /**</a>
<a name="668"><span class="lineNum">     668 </span>                :            :      * \brief Create a perpendicular line segment from p to segment [s1, s2]</a>
<a name="669"><span class="lineNum">     669 </span>                :            :      * \param p The point</a>
<a name="670"><span class="lineNum">     670 </span>                :            :      * \param s1 The segment start point</a>
<a name="671"><span class="lineNum">     671 </span>                :            :      * \param s2 The segment end point</a>
<a name="672"><span class="lineNum">     672 </span>                :            :      * \returns A line (segment) from p to perpendicular point on segment [s1, s2]</a>
<a name="673"><span class="lineNum">     673 </span>                :            :      */</a>
<a name="674"><span class="lineNum">     674 </span>                :            :     static QgsLineString perpendicularSegment( const QgsPoint &amp;p, const QgsPoint &amp;s1, const QgsPoint &amp;s2 ) SIP_HOLDGIL;</a>
<a name="675"><span class="lineNum">     675 </span>                :            : </a>
<a name="676"><span class="lineNum">     676 </span>                :            : </a>
<a name="677"><span class="lineNum">     677 </span>                :            :     /**</a>
<a name="678"><span class="lineNum">     678 </span>                :            :      * An algorithm to calculate the shortest distance between two skew lines.</a>
<a name="679"><span class="lineNum">     679 </span>                :            :      * \param P1 is the first point of the first line,</a>
<a name="680"><span class="lineNum">     680 </span>                :            :      * \param P12 is the second point on the first line,</a>
<a name="681"><span class="lineNum">     681 </span>                :            :      * \param P2 is the first point on the second line,</a>
<a name="682"><span class="lineNum">     682 </span>                :            :      * \param P22 is the second point on the second line.</a>
<a name="683"><span class="lineNum">     683 </span>                :            :      * \return the shortest distance</a>
<a name="684"><span class="lineNum">     684 </span>                :            :      */</a>
<a name="685"><span class="lineNum">     685 </span>                :            :     static double skewLinesDistance( const QgsVector3D &amp;P1, const QgsVector3D &amp;P12,</a>
<a name="686"><span class="lineNum">     686 </span>                :            :                                      const QgsVector3D &amp;P2, const QgsVector3D &amp;P22 ) SIP_HOLDGIL;</a>
<a name="687"><span class="lineNum">     687 </span>                :            : </a>
<a name="688"><span class="lineNum">     688 </span>                :            :     /**</a>
<a name="689"><span class="lineNum">     689 </span>                :            :      * A method to project one skew line onto another.</a>
<a name="690"><span class="lineNum">     690 </span>                :            :      * \param P1 is a first point that belonds to first skew line,</a>
<a name="691"><span class="lineNum">     691 </span>                :            :      * \param P12 is the second point that belongs to first skew line,</a>
<a name="692"><span class="lineNum">     692 </span>                :            :      * \param P2 is the first point that belongs to second skew line,</a>
<a name="693"><span class="lineNum">     693 </span>                :            :      * \param P22 is the second point that belongs to second skew line,</a>
<a name="694"><span class="lineNum">     694 </span>                :            :      * \param X1 is the result projection point of line P2P22 onto line P1P12,</a>
<a name="695"><span class="lineNum">     695 </span>                :            :      * \param epsilon the tolerance to use.</a>
<a name="696"><span class="lineNum">     696 </span>                :            :      * \return TRUE if such point exists, FALSE - otherwise.</a>
<a name="697"><span class="lineNum">     697 </span>                :            :      */</a>
<a name="698"><span class="lineNum">     698 </span>                :            :     static bool skewLinesProjection( const QgsVector3D &amp;P1, const QgsVector3D &amp;P12,</a>
<a name="699"><span class="lineNum">     699 </span>                :            :                                      const QgsVector3D &amp;P2, const QgsVector3D &amp;P22,</a>
<a name="700"><span class="lineNum">     700 </span>                :            :                                      QgsVector3D &amp;X1  SIP_OUT,</a>
<a name="701"><span class="lineNum">     701 </span>                :            :                                      double epsilon = 0.0001 ) SIP_HOLDGIL;</a>
<a name="702"><span class="lineNum">     702 </span>                :            : </a>
<a name="703"><span class="lineNum">     703 </span>                :            :     /**</a>
<a name="704"><span class="lineNum">     704 </span>                :            :      * An algorithm to calculate an (approximate) intersection of two lines in 3D.</a>
<a name="705"><span class="lineNum">     705 </span>                :            :      * \param La1 is the first point on the first line,</a>
<a name="706"><span class="lineNum">     706 </span>                :            :      * \param La2 is the second point on the first line,</a>
<a name="707"><span class="lineNum">     707 </span>                :            :      * \param Lb1 is the first point on the second line,</a>
<a name="708"><span class="lineNum">     708 </span>                :            :      * \param Lb2 is the second point on the second line,</a>
<a name="709"><span class="lineNum">     709 </span>                :            :      * \param intersection is the result intersection, of it can be found.</a>
<a name="710"><span class="lineNum">     710 </span>                :            :      * \return TRUE if the intersection can be found, FALSE - otherwise.</a>
<a name="711"><span class="lineNum">     711 </span>                :            :      *</a>
<a name="712"><span class="lineNum">     712 </span>                :            :      * ### Example</a>
<a name="713"><span class="lineNum">     713 </span>                :            :      *</a>
<a name="714"><span class="lineNum">     714 </span>                :            :      * \code{.py}</a>
<a name="715"><span class="lineNum">     715 </span>                :            :      *   QgsGeometryUtils.linesIntersection3D(QgsVector3D(0,0,0), QgsVector3D(5,0,0), QgsVector3D(2,1,0), QgsVector3D(2,3,0))</a>
<a name="716"><span class="lineNum">     716 </span>                :            :      *   # (True, PyQt5.QtGui.QgsVector3D(2.0, 0.0, 0.0))</a>
<a name="717"><span class="lineNum">     717 </span>                :            :      *   QgsGeometryUtils.linesIntersection3D(QgsVector3D(0,0,0), QgsVector3D(5,0,0), QgsVector3D(2,1,0), QgsVector3D(2,0,0))</a>
<a name="718"><span class="lineNum">     718 </span>                :            :      *   # (True, PyQt5.QtGui.QgsVector3D(2.0, 0.0, 0.0))</a>
<a name="719"><span class="lineNum">     719 </span>                :            :      *   QgsGeometryUtils.linesIntersection3D(QgsVector3D(0,0,0), QgsVector3D(5,0,0), QgsVector3D(0,1,0), QgsVector3D(0,3,0))</a>
<a name="720"><span class="lineNum">     720 </span>                :            :      *   # (True, PyQt5.QtGui.QgsVector3D(0.0, 0.0, 0.0))</a>
<a name="721"><span class="lineNum">     721 </span>                :            :      *   QgsGeometryUtils.linesIntersection3D(QgsVector3D(0,0,0), QgsVector3D(5,0,0), QgsVector3D(0,1,0), QgsVector3D(0,0,0))</a>
<a name="722"><span class="lineNum">     722 </span>                :            :      *   # (True, PyQt5.QtGui.QgsVector3D(0.0, 0.0, 0.0))</a>
<a name="723"><span class="lineNum">     723 </span>                :            :      *   QgsGeometryUtils.linesIntersection3D(QgsVector3D(0,0,0), QgsVector3D(5,0,0), QgsVector3D(5,1,0), QgsVector3D(5,3,0))</a>
<a name="724"><span class="lineNum">     724 </span>                :            :      *   # (False, PyQt5.QtGui.QgsVector3D(0.0, 0.0, 0.0))</a>
<a name="725"><span class="lineNum">     725 </span>                :            :      *   QgsGeometryUtils.linesIntersection3D(QgsVector3D(0,0,0), QgsVector3D(5,0,0), QgsVector3D(5,1,0), QgsVector3D(5,0,0))</a>
<a name="726"><span class="lineNum">     726 </span>                :            :      *   # (False, PyQt5.QtGui.QgsVector3D(0.0, 0.0, 0.0))</a>
<a name="727"><span class="lineNum">     727 </span>                :            :      *   QgsGeometryUtils.linesIntersection3D(QgsVector3D(1,1,0), QgsVector3D(2,2,0), QgsVector3D(3,1,0), QgsVector3D(3,2,0))</a>
<a name="728"><span class="lineNum">     728 </span>                :            :      *   # (True, PyQt5.QtGui.QgsVector3D(3.0, 3.0, 0.0))</a>
<a name="729"><span class="lineNum">     729 </span>                :            :      *   QgsGeometryUtils.linesIntersection3D(QgsVector3D(1,1,0), QgsVector3D(2,2,0), QgsVector3D(3,2,0), QgsVector3D(3,1,0))</a>
<a name="730"><span class="lineNum">     730 </span>                :            :      *   # (True, PyQt5.QtGui.QgsVector3D(3.0, 3.0, 0.0))</a>
<a name="731"><span class="lineNum">     731 </span>                :            :      *   QgsGeometryUtils.linesIntersection3D(QgsVector3D(5,5,5), QgsVector3D(0,0,0), QgsVector3D(0,5,5), QgsVector3D(5,0,0))</a>
<a name="732"><span class="lineNum">     732 </span>                :            :      *   # (True, PyQt5.QtGui.QgsVector3D(2.5, 2.5, 2.5))</a>
<a name="733"><span class="lineNum">     733 </span>                :            :      *   QgsGeometryUtils.linesIntersection3D(QgsVector3D(2.5,2.5,2.5), QgsVector3D(0,5,0), QgsVector3D(2.5,2.5,2.5), QgsVector3D(5,0,0))</a>
<a name="734"><span class="lineNum">     734 </span>                :            :      *   # (True, PyQt5.QtGui.QgsVector3D(2.5, 2.5, 2.5))</a>
<a name="735"><span class="lineNum">     735 </span>                :            :      *   QgsGeometryUtils.linesIntersection3D(QgsVector3D(2.5,2.5,2.5), QgsVector3D(5,0,0), QgsVector3D(0,5,5), QgsVector3D(5,5,5))</a>
<a name="736"><span class="lineNum">     736 </span>                :            :      *   # (True, PyQt5.QtGui.QgsVector3D(0.0, 5.0, 5.0))</a>
<a name="737"><span class="lineNum">     737 </span>                :            :      *   \endcode</a>
<a name="738"><span class="lineNum">     738 </span>                :            :      */</a>
<a name="739"><span class="lineNum">     739 </span>                :            :     static bool linesIntersection3D( const QgsVector3D &amp;La1, const QgsVector3D &amp;La2,</a>
<a name="740"><span class="lineNum">     740 </span>                :            :                                      const QgsVector3D &amp;Lb1, const QgsVector3D &amp;Lb2,</a>
<a name="741"><span class="lineNum">     741 </span>                :            :                                      QgsVector3D &amp;intersection  SIP_OUT ) SIP_HOLDGIL;</a>
<a name="742"><span class="lineNum">     742 </span>                :            : </a>
<a name="743"><span class="lineNum">     743 </span>                :            :     /**</a>
<a name="744"><span class="lineNum">     744 </span>                :            :      * Returns the area of the triangle denoted by the points (\a aX, \a aY), (\a bX, \a bY) and</a>
<a name="745"><span class="lineNum">     745 </span>                :            :      * (\a cX, \a cY).</a>
<a name="746"><span class="lineNum">     746 </span>                :            :      *</a>
<a name="747"><span class="lineNum">     747 </span>                :            :      * \since QGIS 3.10</a>
<a name="748"><span class="lineNum">     748 </span>                :            :      */</a>
<a name="749"><span class="lineNum">     749 </span>                :            :     static double triangleArea( double aX, double aY, double bX, double bY, double cX, double cY ) SIP_HOLDGIL;</a>
<a name="750"><span class="lineNum">     750 </span>                :            : </a>
<a name="751"><span class="lineNum">     751 </span>                :            :     /**</a>
<a name="752"><span class="lineNum">     752 </span>                :            :      * Returns a weighted point inside the triangle denoted by the points (\a aX, \a aY), (\a bX, \a bY) and</a>
<a name="753"><span class="lineNum">     753 </span>                :            :      * (\a cX, \a cY).</a>
<a name="754"><span class="lineNum">     754 </span>                :            :      *</a>
<a name="755"><span class="lineNum">     755 </span>                :            :      * \param aX x-coordinate of first vertex in triangle</a>
<a name="756"><span class="lineNum">     756 </span>                :            :      * \param aY y-coordinate of first vertex in triangle</a>
<a name="757"><span class="lineNum">     757 </span>                :            :      * \param bX x-coordinate of second vertex in triangle</a>
<a name="758"><span class="lineNum">     758 </span>                :            :      * \param bY y-coordinate of second vertex in triangle</a>
<a name="759"><span class="lineNum">     759 </span>                :            :      * \param cX x-coordinate of third vertex in triangle</a>
<a name="760"><span class="lineNum">     760 </span>                :            :      * \param cY y-coordinate of third vertex in triangle</a>
<a name="761"><span class="lineNum">     761 </span>                :            :      * \param weightB weighting factor along axis A-B (between 0 and 1)</a>
<a name="762"><span class="lineNum">     762 </span>                :            :      * \param weightC weighting factor along axis A-C (between 0 and 1)</a>
<a name="763"><span class="lineNum">     763 </span>                :            :      * \param pointX x-coordinate of generated point</a>
<a name="764"><span class="lineNum">     764 </span>                :            :      * \param pointY y-coordinate of generated point</a>
<a name="765"><span class="lineNum">     765 </span>                :            :      *</a>
<a name="766"><span class="lineNum">     766 </span>                :            :      * \since QGIS 3.10</a>
<a name="767"><span class="lineNum">     767 </span>                :            :      */</a>
<a name="768"><span class="lineNum">     768 </span>                :            :     static void weightedPointInTriangle( double aX, double aY, double bX, double bY, double cX, double cY,</a>
<a name="769"><span class="lineNum">     769 </span>                :            :                                          double weightB, double weightC, double &amp;pointX SIP_OUT, double &amp;pointY SIP_OUT ) SIP_HOLDGIL;</a>
<a name="770"><span class="lineNum">     770 </span>                :            : </a>
<a name="771"><span class="lineNum">     771 </span>                :            :     /**</a>
<a name="772"><span class="lineNum">     772 </span>                :            :      * A Z dimension is added to \a point if one of the point in the list</a>
<a name="773"><span class="lineNum">     773 </span>                :            :      * \a points is in 3D. Moreover, the Z value of \a point is updated with.</a>
<a name="774"><span class="lineNum">     774 </span>                :            :      *</a>
<a name="775"><span class="lineNum">     775 </span>                :            :      * \param points List of points in which a 3D point is searched.</a>
<a name="776"><span class="lineNum">     776 </span>                :            :      * \param point The point to update with Z dimension and value.</a>
<a name="777"><span class="lineNum">     777 </span>                :            :      * \returns TRUE if the point is updated, FALSE otherwise</a>
<a name="778"><span class="lineNum">     778 </span>                :            :      *</a>
<a name="779"><span class="lineNum">     779 </span>                :            :      * \since QGIS 3.0</a>
<a name="780"><span class="lineNum">     780 </span>                :            :      */</a>
<a name="781"><span class="lineNum">     781 </span>                :            :     static bool setZValueFromPoints( const QgsPointSequence &amp;points, QgsPoint &amp;point );</a>
<a name="782"><span class="lineNum">     782 </span>                :            : </a>
<a name="783"><span class="lineNum">     783 </span>                :            :     /**</a>
<a name="784"><span class="lineNum">     784 </span>                :            :      * Returns the point (\a pointX, \a pointY) forming the bisector from segment (\a aX \a aY) (\a bX \a bY)</a>
<a name="785"><span class="lineNum">     785 </span>                :            :      * and segment (\a bX, \a bY) (\a dX, \a dY).</a>
<a name="786"><span class="lineNum">     786 </span>                :            :      * The bisector segment of AB-CD is (point, projection of point by \a angle)</a>
<a name="787"><span class="lineNum">     787 </span>                :            :      *</a>
<a name="788"><span class="lineNum">     788 </span>                :            :      * \param aX x-coordinate of first vertex of the segment ab</a>
<a name="789"><span class="lineNum">     789 </span>                :            :      * \param aY y-coordinate of first vertex of the segment ab</a>
<a name="790"><span class="lineNum">     790 </span>                :            :      * \param bX x-coordinate of second vertex of the segment ab</a>
<a name="791"><span class="lineNum">     791 </span>                :            :      * \param bY y-coordinate of second vertex of the segment ab</a>
<a name="792"><span class="lineNum">     792 </span>                :            :      * \param cX x-coordinate of first vertex of the segment cd</a>
<a name="793"><span class="lineNum">     793 </span>                :            :      * \param cY y-coordinate of first vertex of the segment cd</a>
<a name="794"><span class="lineNum">     794 </span>                :            :      * \param dX x-coordinate of second vertex of the segment cd</a>
<a name="795"><span class="lineNum">     795 </span>                :            :      * \param dY y-coordinate of second vertex of the segment cd</a>
<a name="796"><span class="lineNum">     796 </span>                :            :      * \param pointX x-coordinate of generated point</a>
<a name="797"><span class="lineNum">     797 </span>                :            :      * \param pointY y-coordinate of generated point</a>
<a name="798"><span class="lineNum">     798 </span>                :            :      * \param angle angle of the bisector from pointX, pointY origin on [ab-cd]</a>
<a name="799"><span class="lineNum">     799 </span>                :            :      * \returns TRUE if the bisector exists (A B and C D are not collinear)</a>
<a name="800"><span class="lineNum">     800 </span>                :            :      *</a>
<a name="801"><span class="lineNum">     801 </span>                :            :      * \since QGIS 3.18</a>
<a name="802"><span class="lineNum">     802 </span>                :            :      */</a>
<a name="803"><span class="lineNum">     803 </span>                :            : </a>
<a name="804"><span class="lineNum">     804 </span>                :            :     static bool angleBisector( double aX, double aY, double bX, double bY, double cX, double cY, double dX, double dY,</a>
<a name="805"><span class="lineNum">     805 </span>                :            :                                double &amp;pointX SIP_OUT, double &amp;pointY SIP_OUT, double &amp;angle SIP_OUT ) SIP_HOLDGIL;</a>
<a name="806"><span class="lineNum">     806 </span>                :            : </a>
<a name="807"><span class="lineNum">     807 </span>                :            :     /**</a>
<a name="808"><span class="lineNum">     808 </span>                :            :      * Returns the point (\a pointX, \a pointY) forming the bisector from point (\a aX, \a aY) to the segment (\a bX, \a bY) (\a cX, \a cY).</a>
<a name="809"><span class="lineNum">     809 </span>                :            :      * The bisector segment of ABC is (A-point)</a>
<a name="810"><span class="lineNum">     810 </span>                :            :      *</a>
<a name="811"><span class="lineNum">     811 </span>                :            :      * \param aX x-coordinate of first vertex in triangle</a>
<a name="812"><span class="lineNum">     812 </span>                :            :      * \param aY y-coordinate of first vertex in triangle</a>
<a name="813"><span class="lineNum">     813 </span>                :            :      * \param bX x-coordinate of second vertex in triangle</a>
<a name="814"><span class="lineNum">     814 </span>                :            :      * \param bY y-coordinate of second vertex in triangle</a>
<a name="815"><span class="lineNum">     815 </span>                :            :      * \param cX x-coordinate of third vertex in triangle</a>
<a name="816"><span class="lineNum">     816 </span>                :            :      * \param cY y-coordinate of third vertex in triangle</a>
<a name="817"><span class="lineNum">     817 </span>                :            :      * \param pointX x-coordinate of generated point</a>
<a name="818"><span class="lineNum">     818 </span>                :            :      * \param pointY y-coordinate of generated point</a>
<a name="819"><span class="lineNum">     819 </span>                :            :      * \returns TRUE if the bisector exists (A B and C are not collinear)</a>
<a name="820"><span class="lineNum">     820 </span>                :            :      *</a>
<a name="821"><span class="lineNum">     821 </span>                :            :      * \since QGIS 3.18</a>
<a name="822"><span class="lineNum">     822 </span>                :            :      */</a>
<a name="823"><span class="lineNum">     823 </span>                :            :     static bool bisector( double aX, double aY, double bX, double bY, double cX, double cY,</a>
<a name="824"><span class="lineNum">     824 </span>                :            :                           double &amp;pointX SIP_OUT, double &amp;pointY SIP_OUT ) SIP_HOLDGIL;</a>
<a name="825"><span class="lineNum">     825 </span>                :            : </a>
<a name="826"><span class="lineNum">     826 </span>                :            :     //! \note not available in Python bindings</a>
<a name="827"><span class="lineNum">     827 </span>                :            :     enum ComponentType SIP_SKIP</a>
<a name="828"><span class="lineNum">     828 </span>                :            :     {</a>
<a name="829"><span class="lineNum">     829 </span>                :            :       Vertex,</a>
<a name="830"><span class="lineNum">     830 </span>                :            :       Ring,</a>
<a name="831"><span class="lineNum">     831 </span>                :            :       Part</a>
<a name="832"><span class="lineNum">     832 </span>                :            :     };</a>
<a name="833"><span class="lineNum">     833 </span>                :            : </a>
<a name="834"><span class="lineNum">     834 </span>                :            :     //! \note not available in Python bindings</a>
<a name="835"><span class="lineNum">     835 </span>                :<span class="lineCov">         91 :     template&lt;class T&gt; static double closestSegmentFromComponents( T &amp;container, ComponentType ctype, const QgsPoint &amp;pt, QgsPoint &amp;segmentPt,  QgsVertexId &amp;vertexAfter, int *leftOf, double epsilon ) SIP_SKIP</span></a>
<a name="836"><span class="lineNum">     836 </span>                :            :     {</a>
<a name="837"><span class="lineNum">     837 </span>                :<span class="lineCov">         91 :       double minDist = std::numeric_limits&lt;double&gt;::max();</span></a>
<a name="838"><span class="lineNum">     838 </span>                :<span class="lineCov">         91 :       double minDistSegmentX = 0.0, minDistSegmentY = 0.0;</span></a>
<a name="839"><span class="lineNum">     839 </span>                :<span class="lineCov">         91 :       QgsVertexId minDistVertexAfter;</span></a>
<a name="840"><span class="lineNum">     840 </span>                :<span class="lineCov">         91 :       int minDistLeftOf = 0;</span></a>
<a name="841"><span class="lineNum">     841 </span>                :<span class="lineCov">         91 :       double sqrDist = 0.0;</span></a>
<a name="842"><span class="lineNum">     842 </span>                :<span class="lineCov">         91 :       int vertexOffset = 0;</span></a>
<a name="843"><span class="lineNum">     843 </span>                :<span class="lineCov">         91 :       int ringOffset = 0;</span></a>
<a name="844"><span class="lineNum">     844 </span>                :<span class="lineCov">         91 :       int partOffset = 0;</span></a>
<a name="845"><span class="lineNum">     845 </span>                :            : </a>
<a name="846"><span class="lineNum">     846 </span>                :<span class="lineCov">        224 :       for ( int i = 0; i &lt; container.size(); ++i )</span></a>
<a name="847"><span class="lineNum">     847 </span>                :            :       {</a>
<a name="848"><span class="lineNum">     848 </span>                :<span class="lineCov">        133 :         sqrDist = container.at( i )-&gt;closestSegment( pt, segmentPt, vertexAfter, leftOf, epsilon );</span></a>
<a name="849"><span class="lineNum">     849 </span>                :<span class="lineCov">        133 :         if ( sqrDist &gt;= 0 &amp;&amp; sqrDist &lt; minDist )</span></a>
<a name="850"><span class="lineNum">     850 </span>                :            :         {</a>
<a name="851"><span class="lineNum">     851 </span>                :<span class="lineCov">        106 :           minDist = sqrDist;</span></a>
<a name="852"><span class="lineNum">     852 </span>                :<span class="lineCov">        106 :           minDistSegmentX = segmentPt.x();</span></a>
<a name="853"><span class="lineNum">     853 </span>                :<span class="lineCov">        106 :           minDistSegmentY = segmentPt.y();</span></a>
<a name="854"><span class="lineNum">     854 </span>                :<span class="lineCov">        106 :           minDistVertexAfter = vertexAfter;</span></a>
<a name="855"><span class="lineNum">     855 </span>                :<span class="lineCov">        106 :           minDistVertexAfter.vertex = vertexAfter.vertex + vertexOffset;</span></a>
<a name="856"><span class="lineNum">     856 </span>                :<span class="lineCov">        106 :           minDistVertexAfter.part = vertexAfter.part + partOffset;</span></a>
<a name="857"><span class="lineNum">     857 </span>                :<span class="lineCov">        106 :           minDistVertexAfter.ring = vertexAfter.ring + ringOffset;</span></a>
<a name="858"><span class="lineNum">     858 </span>                :<span class="lineCov">        106 :           if ( leftOf )</span></a>
<a name="859"><span class="lineNum">     859 </span>                :            :           {</a>
<a name="860"><span class="lineNum">     860 </span>                :<span class="lineCov">        106 :             minDistLeftOf = *leftOf;</span></a>
<a name="861"><span class="lineNum">     861 </span>                :<span class="lineCov">        106 :           }</span></a>
<a name="862"><span class="lineNum">     862 </span>                :<span class="lineCov">        106 :         }</span></a>
<a name="863"><span class="lineNum">     863 </span>                :            : </a>
<a name="864"><span class="lineNum">     864 </span>                :<span class="lineCov">        133 :         if ( ctype == Vertex )</span></a>
<a name="865"><span class="lineNum">     865 </span>                :            :         {</a>
<a name="866"><span class="lineNum">     866 </span>                :            :           //-1 because compoundcurve counts duplicated vertices of neighbour curves as one node</a>
<a name="867"><span class="lineNum">     867 </span>                :<span class="lineCov">         32 :           vertexOffset += container.at( i )-&gt;nCoordinates() - 1;</span></a>
<a name="868"><span class="lineNum">     868 </span>                :<span class="lineCov">         32 :         }</span></a>
<a name="869"><span class="lineNum">     869 </span>                :<span class="lineCov">        101 :         else if ( ctype == Ring )</span></a>
<a name="870"><span class="lineNum">     870 </span>                :            :         {</a>
<a name="871"><span class="lineNum">     871 </span>                :<span class="lineCov">         66 :           ringOffset += 1;</span></a>
<a name="872"><span class="lineNum">     872 </span>                :<span class="lineCov">         66 :         }</span></a>
<a name="873"><span class="lineNum">     873 </span>                :<span class="lineCov">         35 :         else if ( ctype == Part )</span></a>
<a name="874"><span class="lineNum">     874 </span>                :            :         {</a>
<a name="875"><span class="lineNum">     875 </span>                :<span class="lineCov">         35 :           partOffset += 1;</span></a>
<a name="876"><span class="lineNum">     876 </span>                :<span class="lineCov">         35 :         }</span></a>
<a name="877"><span class="lineNum">     877 </span>                :<span class="lineCov">        133 :       }</span></a>
<a name="878"><span class="lineNum">     878 </span>                :            : </a>
<a name="879"><span class="lineNum">     879 </span>                :<span class="lineCov">         91 :       if ( minDist == std::numeric_limits&lt;double&gt;::max() )</span></a>
<a name="880"><span class="lineNum">     880 </span>                :<span class="lineCov">          4 :         return -1;  // error: no segments</span></a>
<a name="881"><span class="lineNum">     881 </span>                :            : </a>
<a name="882"><span class="lineNum">     882 </span>                :<span class="lineCov">         87 :       segmentPt.setX( minDistSegmentX );</span></a>
<a name="883"><span class="lineNum">     883 </span>                :<span class="lineCov">         87 :       segmentPt.setY( minDistSegmentY );</span></a>
<a name="884"><span class="lineNum">     884 </span>                :<span class="lineCov">         87 :       vertexAfter = minDistVertexAfter;</span></a>
<a name="885"><span class="lineNum">     885 </span>                :<span class="lineCov">         87 :       if ( leftOf )</span></a>
<a name="886"><span class="lineNum">     886 </span>                :            :       {</a>
<a name="887"><span class="lineNum">     887 </span>                :<span class="lineCov">         87 :         *leftOf = minDistLeftOf;</span></a>
<a name="888"><span class="lineNum">     888 </span>                :<span class="lineCov">         87 :       }</span></a>
<a name="889"><span class="lineNum">     889 </span>                :<span class="lineCov">         87 :       return minDist;</span></a>
<a name="890"><span class="lineNum">     890 </span>                :<span class="lineCov">         91 :     }</span></a>
<a name="891"><span class="lineNum">     891 </span>                :            : };</a>
<a name="892"><span class="lineNum">     892 </span>                :            : </a>
<a name="893"><span class="lineNum">     893 </span>                :            : #endif // QGSGEOMETRYUTILS_H</a>
</pre>
      </td>
    </tr>
  </table>
  <br>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="ruler"><img src="../../glass.png" width=3 height=3 alt=""></td></tr>
    <tr><td class="versionInfo">Generated by: <a href="http://ltp.sourceforge.net/coverage/lcov.php" target="_parent">LCOV version 1.14</a></td></tr>
  </table>
  <br>

</body>
</html>
